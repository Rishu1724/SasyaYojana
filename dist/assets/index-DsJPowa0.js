(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function N1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gx={exports:{}},cd={},Kx={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),O1=Symbol.for("react.portal"),M1=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),U1=Symbol.for("react.suspense"),B1=Symbol.for("react.memo"),z1=Symbol.for("react.lazy"),Wy=Symbol.iterator;function H1(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var Qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,Jx={};function No(t,e,n){this.props=t,this.context=e,this.refs=Jx,this.updater=n||Qx}No.prototype.isReactComponent={};No.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};No.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zx(){}Zx.prototype=No.prototype;function rm(t,e,n){this.props=t,this.context=e,this.refs=Jx,this.updater=n||Qx}var sm=rm.prototype=new Zx;sm.constructor=rm;Yx(sm,No.prototype);sm.isPureReactComponent=!0;var qy=Array.isArray,Xx=Object.prototype.hasOwnProperty,im={current:null},eb={key:!0,ref:!0,__self:!0,__source:!0};function tb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Xx.call(e,r)&&!eb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bl,type:t,key:i,ref:o,props:s,_owner:im.current}}function W1(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function om(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function q1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gy=/\/+/g;function wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q1(""+t.key):e.toString(36)}function Ac(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bl:case O1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wh(o,0):r,qy(s)?(n="",t!=null&&(n=t.replace(Gy,"$&/")+"/"),Ac(s,e,n,"",function(u){return u})):s!=null&&(om(s)&&(s=W1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wh(i,a);o+=Ac(i,e,n,l,s)}else if(l=H1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wh(i,a++),o+=Ac(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xl(t,e,n){if(t==null)return t;var r=[],s=0;return Ac(t,r,"","",function(i){return e.call(n,i,s++)}),r}function G1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Rc={transition:null},K1={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:im};function nb(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Xl,forEach:function(t,e,n){Xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xl(t,function(){e++}),e},toArray:function(t){return Xl(t,function(e){return e})||[]},only:function(t){if(!om(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=No;Se.Fragment=M1;Se.Profiler=$1;Se.PureComponent=rm;Se.StrictMode=D1;Se.Suspense=U1;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K1;Se.act=nb;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=im.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xx.call(e,l)&&!eb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bl,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:F1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j1,_context:t},t.Consumer=t};Se.createElement=tb;Se.createFactory=function(t){var e=tb.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:V1,render:t}};Se.isValidElement=om;Se.lazy=function(t){return{$$typeof:z1,_payload:{_status:-1,_result:t},_init:G1}};Se.memo=function(t,e){return{$$typeof:B1,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};Se.unstable_act=nb;Se.useCallback=function(t,e){return Ht.current.useCallback(t,e)};Se.useContext=function(t){return Ht.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Ht.current.useEffect(t,e)};Se.useId=function(){return Ht.current.useId()};Se.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Ht.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};Se.useRef=function(t){return Ht.current.useRef(t)};Se.useState=function(t){return Ht.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Ht.current.useTransition()};Se.version="18.3.1";Kx.exports=Se;var y=Kx.exports;const rs=N1(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=y,Y1=Symbol.for("react.element"),J1=Symbol.for("react.fragment"),Z1=Object.prototype.hasOwnProperty,X1=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eP={key:!0,ref:!0,__self:!0,__source:!0};function rb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z1.call(e,r)&&!eP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Y1,type:t,key:i,ref:o,props:s,_owner:X1.current}}cd.Fragment=J1;cd.jsx=rb;cd.jsxs=rb;Gx.exports=cd;var d=Gx.exports,wf={},sb={exports:{}},fn={},ib={exports:{}},ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,W){var G=U.length;U.push(W);e:for(;0<G;){var K=G-1>>>1,Z=U[K];if(0<s(Z,W))U[K]=W,U[G]=Z,G=K;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],G=U.pop();if(G!==W){U[0]=G;e:for(var K=0,Z=U.length,X=Z>>>1;K<X;){var ie=2*(K+1)-1,V=U[ie],ye=ie+1,we=U[ye];if(0>s(V,G))ye<Z&&0>s(we,V)?(U[K]=we,U[ye]=G,K=ye):(U[K]=V,U[ie]=G,K=ie);else if(ye<Z&&0>s(we,G))U[K]=we,U[ye]=G,K=ye;else break e}}return W}function s(U,W){var G=U.sortIndex-W.sortIndex;return G!==0?G:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,v=!1,g=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(U){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=U)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function k(U){if(T=!1,I(U),!g)if(n(l)!==null)g=!0,ee(N);else{var W=n(u);W!==null&&ae(k,W.startTime-U)}}function N(U,W){g=!1,T&&(T=!1,C(b),b=-1),v=!0;var G=m;try{for(I(W),f=n(l);f!==null&&(!(f.expirationTime>W)||U&&!L());){var K=f.callback;if(typeof K=="function"){f.callback=null,m=f.priorityLevel;var Z=K(f.expirationTime<=W);W=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),I(W)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var ie=n(u);ie!==null&&ae(k,ie.startTime-W),X=!1}return X}finally{f=null,m=G,v=!1}}var M=!1,E=null,b=-1,x=5,A=-1;function L(){return!(t.unstable_now()-A<x)}function O(){if(E!==null){var U=t.unstable_now();A=U;var W=!0;try{W=E(!0,U)}finally{W?R():(M=!1,E=null)}}else M=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=O,R=function(){re.postMessage(null)}}else R=function(){S(O,0)};function ee(U){E=U,M||(M=!0,R())}function ae(U,W){b=S(function(){U(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,ee(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var G=m;m=W;try{return U()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=m;m=U;try{return W()}finally{m=G}},t.unstable_scheduleCallback=function(U,W,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,U={id:h++,callback:W,priorityLevel:U,startTime:G,expirationTime:Z,sortIndex:-1},G>K?(U.sortIndex=G,e(u,U),n(l)===null&&U===n(u)&&(T?(C(b),b=-1):T=!0,ae(k,G-K))):(U.sortIndex=Z,e(l,U),g||v||(g=!0,ee(N))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var W=m;return function(){var G=m;m=W;try{return U.apply(this,arguments)}finally{m=G}}}})(ob);ib.exports=ob;var tP=ib.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=y,hn=tP;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ab=new Set,qa={};function bi(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(qa[t]=e,t=0;t<e.length;t++)ab.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,rP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ky={},Qy={};function sP(t){return _f.call(Qy,t)?!0:_f.call(Ky,t)?!1:rP.test(t)?Qy[t]=!0:(Ky[t]=!0,!1)}function iP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oP(t,e,n,r){if(e===null||typeof e>"u"||iP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var am=/[\-:]([a-z])/g;function lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(am,lm);It[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(am,lm);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(am,lm);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cm(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oP(e,n,s,r)&&(n=null),r||s===null?sP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=nP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),cb=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),ub=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=Yy&&t[Yy]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,_h;function va(t){if(_h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_h=e&&e[1]||""}return`
`+_h+t}var xh=!1;function bh(t,e){if(!t||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function aP(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=bh(t.type,!1),t;case 11:return t=bh(t.type.render,!1),t;case 1:return t=bh(t.type,!0),t;default:return""}}function Sf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hi:return"Fragment";case zi:return"Portal";case xf:return"Profiler";case um:return"StrictMode";case bf:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cb:return(t.displayName||"Context")+".Consumer";case lb:return(t._context.displayName||"Context")+".Provider";case dm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hm:return e=t.displayName||null,e!==null?e:Sf(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Sf(t(e))}catch{}}return null}function lP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(e);case 8:return e===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cP(t){var e=db(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=cP(t))}function hb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=db(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fb(t,e){e=e.checked,e!=null&&cm(t,"checked",e,!1)}function Cf(t,e){fb(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?If(t,e.type,n):e.hasOwnProperty("defaultValue")&&If(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function If(t,e,n){(e!=="number"||tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wa=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(wa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function pb(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uP=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){uP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function yb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function vb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dP=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(t,e){if(e){if(dP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nf=null,ro=null,so=null;function tv(t){if(t=Tl(t)){if(typeof Nf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=pd(e),Nf(t.stateNode,t.type,e))}}function wb(t){ro?so?so.push(t):so=[t]:ro=t}function _b(){if(ro){var t=ro,e=so;if(so=ro=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function xb(t,e){return t(e)}function bb(){}var Eh=!1;function Eb(t,e,n){if(Eh)return t(e,n);Eh=!0;try{return xb(t,e,n)}finally{Eh=!1,(ro!==null||so!==null)&&(bb(),_b())}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Of=!1;if(_r)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Of=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Of=!1}function hP(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Pa=!1,nu=null,ru=!1,Mf=null,fP={onError:function(t){Pa=!0,nu=t}};function pP(t,e,n,r,s,i,o,a,l){Pa=!1,nu=null,hP.apply(fP,arguments)}function mP(t,e,n,r,s,i,o,a,l){if(pP.apply(this,arguments),Pa){if(Pa){var u=nu;Pa=!1,nu=null}else throw Error(H(198));ru||(ru=!0,Mf=u)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nv(t){if(Ei(t)!==t)throw Error(H(188))}function gP(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nv(s),t;if(i===r)return nv(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Tb(t){return t=gP(t),t!==null?Cb(t):null}function Cb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cb(t);if(e!==null)return e;t=t.sibling}return null}var Ib=hn.unstable_scheduleCallback,rv=hn.unstable_cancelCallback,yP=hn.unstable_shouldYield,vP=hn.unstable_requestPaint,st=hn.unstable_now,wP=hn.unstable_getCurrentPriorityLevel,pm=hn.unstable_ImmediatePriority,Pb=hn.unstable_UserBlockingPriority,su=hn.unstable_NormalPriority,_P=hn.unstable_LowPriority,Ab=hn.unstable_IdlePriority,ud=null,Xn=null;function xP(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:SP,bP=Math.log,EP=Math.LN2;function SP(t){return t>>>=0,t===0?32:31-(bP(t)/EP|0)|0}var rc=64,sc=4194304;function _a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=_a(a):(i&=o,i!==0&&(r=_a(i)))}else o=n&~s,o!==0?r=_a(o):i!==0&&(r=_a(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),s=1<<n,r|=t[n],e&=~s;return r}function TP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=TP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rb(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function Sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function IP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function kb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lb,gm,Nb,Ob,Mb,$f=!1,ic=[],ss=null,is=null,os=null,Qa=new Map,Ya=new Map,qr=[],PP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(t,e){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function oa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tl(e),e!==null&&gm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AP(t,e,n,r,s){switch(e){case"focusin":return ss=oa(ss,t,e,n,r,s),!0;case"dragenter":return is=oa(is,t,e,n,r,s),!0;case"mouseover":return os=oa(os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qa.set(i,oa(Qa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ya.set(i,oa(Ya.get(i)||null,t,e,n,r,s)),!0}return!1}function Db(t){var e=Js(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Sb(n),e!==null){t.blockedOn=e,Mb(t.priority,function(){Nb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lf=r,n.target.dispatchEvent(r),Lf=null}else return e=Tl(n),e!==null&&gm(e),t.blockedOn=n,!1;e.shift()}return!0}function iv(t,e,n){kc(t)&&n.delete(e)}function RP(){$f=!1,ss!==null&&kc(ss)&&(ss=null),is!==null&&kc(is)&&(is=null),os!==null&&kc(os)&&(os=null),Qa.forEach(iv),Ya.forEach(iv)}function aa(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,RP)))}function Ja(t){function e(s){return aa(s,t)}if(0<ic.length){aa(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ss!==null&&aa(ss,t),is!==null&&aa(is,t),os!==null&&aa(os,t),Qa.forEach(e),Ya.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)Db(n),n.blockedOn===null&&qr.shift()}var io=Pr.ReactCurrentBatchConfig,ou=!0;function kP(t,e,n,r){var s=$e,i=io.transition;io.transition=null;try{$e=1,ym(t,e,n,r)}finally{$e=s,io.transition=i}}function LP(t,e,n,r){var s=$e,i=io.transition;io.transition=null;try{$e=4,ym(t,e,n,r)}finally{$e=s,io.transition=i}}function ym(t,e,n,r){if(ou){var s=jf(t,e,n,r);if(s===null)Oh(t,e,r,au,n),sv(t,r);else if(AP(s,t,e,n,r))r.stopPropagation();else if(sv(t,r),e&4&&-1<PP.indexOf(t)){for(;s!==null;){var i=Tl(s);if(i!==null&&Lb(i),i=jf(t,e,n,r),i===null&&Oh(t,e,r,au,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Oh(t,e,r,null,n)}}var au=null;function jf(t,e,n,r){if(au=null,t=fm(r),t=Js(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return au=t,null}function $b(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wP()){case pm:return 1;case Pb:return 4;case su:case _P:return 16;case Ab:return 536870912;default:return 16}default:return 16}}var es=null,vm=null,Lc=null;function jb(){if(Lc)return Lc;var t,e=vm,n=e.length,r,s="value"in es?es.value:es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Lc=s.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function ov(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:ov,this.isPropagationStopped=ov,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wm=pn(Oo),Sl=Ye({},Oo,{view:0,detail:0}),NP=pn(Sl),Th,Ch,la,dd=Ye({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_m,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==la&&(la&&t.type==="mousemove"?(Th=t.screenX-la.screenX,Ch=t.screenY-la.screenY):Ch=Th=0,la=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),av=pn(dd),OP=Ye({},dd,{dataTransfer:0}),MP=pn(OP),DP=Ye({},Sl,{relatedTarget:0}),Ih=pn(DP),$P=Ye({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),jP=pn($P),FP=Ye({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VP=pn(FP),UP=Ye({},Oo,{data:0}),lv=pn(UP),BP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HP[t])?!!e[t]:!1}function _m(){return WP}var qP=Ye({},Sl,{key:function(t){if(t.key){var e=BP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_m,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GP=pn(qP),KP=Ye({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=pn(KP),QP=Ye({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_m}),YP=pn(QP),JP=Ye({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZP=pn(JP),XP=Ye({},dd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=pn(XP),tA=[9,13,27,32],xm=_r&&"CompositionEvent"in window,Aa=null;_r&&"documentMode"in document&&(Aa=document.documentMode);var nA=_r&&"TextEvent"in window&&!Aa,Fb=_r&&(!xm||Aa&&8<Aa&&11>=Aa),uv=" ",dv=!1;function Vb(t,e){switch(t){case"keyup":return tA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ub(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function rA(t,e){switch(t){case"compositionend":return Ub(e);case"keypress":return e.which!==32?null:(dv=!0,uv);case"textInput":return t=e.data,t===uv&&dv?null:t;default:return null}}function sA(t,e){if(Wi)return t==="compositionend"||!xm&&Vb(t,e)?(t=jb(),Lc=vm=es=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fb&&e.locale!=="ko"?null:e.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iA[t.type]:e==="textarea"}function Bb(t,e,n,r){wb(r),e=lu(e,"onChange"),0<e.length&&(n=new wm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ra=null,Za=null;function oA(t){Xb(t,0)}function hd(t){var e=Ki(t);if(hb(e))return t}function aA(t,e){if(t==="change")return e}var zb=!1;if(_r){var Ph;if(_r){var Ah="oninput"in document;if(!Ah){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Ah=typeof fv.oninput=="function"}Ph=Ah}else Ph=!1;zb=Ph&&(!document.documentMode||9<document.documentMode)}function pv(){Ra&&(Ra.detachEvent("onpropertychange",Hb),Za=Ra=null)}function Hb(t){if(t.propertyName==="value"&&hd(Za)){var e=[];Bb(e,Za,t,fm(t)),Eb(oA,e)}}function lA(t,e,n){t==="focusin"?(pv(),Ra=e,Za=n,Ra.attachEvent("onpropertychange",Hb)):t==="focusout"&&pv()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hd(Za)}function uA(t,e){if(t==="click")return hd(e)}function dA(t,e){if(t==="input"||t==="change")return hd(e)}function hA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:hA;function Xa(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(e,s)||!Mn(t[s],e[s]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gv(t,e){var n=mv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mv(n)}}function Wb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qb(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tu(t.document)}return e}function bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fA(t){var e=qb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wb(n.ownerDocument.documentElement,n)){if(r!==null&&bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gv(n,i);var o=gv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pA=_r&&"documentMode"in document&&11>=document.documentMode,qi=null,Ff=null,ka=null,Vf=!1;function yv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||qi==null||qi!==tu(r)||(r=qi,"selectionStart"in r&&bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ka&&Xa(ka,r)||(ka=r,r=lu(Ff,"onSelect"),0<r.length&&(e=new wm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gi={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Rh={},Gb={};_r&&(Gb=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function fd(t){if(Rh[t])return Rh[t];if(!Gi[t])return t;var e=Gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gb)return Rh[t]=e[n];return t}var Kb=fd("animationend"),Qb=fd("animationiteration"),Yb=fd("animationstart"),Jb=fd("transitionend"),Zb=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){Zb.set(t,e),bi(e,[t])}for(var kh=0;kh<vv.length;kh++){var Lh=vv[kh],mA=Lh.toLowerCase(),gA=Lh[0].toUpperCase()+Lh.slice(1);Cs(mA,"on"+gA)}Cs(Kb,"onAnimationEnd");Cs(Qb,"onAnimationIteration");Cs(Yb,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(Jb,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mP(r,e,void 0,t),t.currentTarget=null}function Xb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;wv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;wv(s,a,u),i=l}}}if(ru)throw t=Mf,ru=!1,Mf=null,t}function ze(t,e){var n=e[Wf];n===void 0&&(n=e[Wf]=new Set);var r=t+"__bubble";n.has(r)||(eE(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),eE(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function el(t){if(!t[lc]){t[lc]=!0,ab.forEach(function(n){n!=="selectionchange"&&(yA.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Nh("selectionchange",!1,e))}}function eE(t,e,n,r){switch($b(e)){case 1:var s=kP;break;case 4:s=LP;break;default:s=ym}n=s.bind(null,e,n,t),s=void 0,!Of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Oh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Js(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Eb(function(){var u=i,h=fm(n),f=[];e:{var m=Zb.get(t);if(m!==void 0){var v=wm,g=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":v=GP;break;case"focusin":g="focus",v=Ih;break;case"focusout":g="blur",v=Ih;break;case"beforeblur":case"afterblur":v=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=MP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=YP;break;case Kb:case Qb:case Yb:v=jP;break;case Jb:v=ZP;break;case"scroll":v=NP;break;case"wheel":v=eA;break;case"copy":case"cut":case"paste":v=VP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=cv}var T=(e&4)!==0,S=!T&&t==="scroll",C=T?m!==null?m+"Capture":null:m;T=[];for(var _=u,I;_!==null;){I=_;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,C!==null&&(k=Ka(_,C),k!=null&&T.push(tl(_,k,I)))),S)break;_=_.return}0<T.length&&(m=new v(m,g,null,n,h),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Lf&&(g=n.relatedTarget||n.fromElement)&&(Js(g)||g[xr]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?Js(g):null,g!==null&&(S=Ei(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(T=av,k="onMouseLeave",C="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=cv,k="onPointerLeave",C="onPointerEnter",_="pointer"),S=v==null?m:Ki(v),I=g==null?m:Ki(g),m=new T(k,_+"leave",v,n,h),m.target=S,m.relatedTarget=I,k=null,Js(h)===u&&(T=new T(C,_+"enter",g,n,h),T.target=I,T.relatedTarget=S,k=T),S=k,v&&g)t:{for(T=v,C=g,_=0,I=T;I;I=Mi(I))_++;for(I=0,k=C;k;k=Mi(k))I++;for(;0<_-I;)T=Mi(T),_--;for(;0<I-_;)C=Mi(C),I--;for(;_--;){if(T===C||C!==null&&T===C.alternate)break t;T=Mi(T),C=Mi(C)}T=null}else T=null;v!==null&&_v(f,m,v,T,!1),g!==null&&S!==null&&_v(f,S,g,T,!0)}}e:{if(m=u?Ki(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=aA;else if(hv(m))if(zb)N=dA;else{N=cA;var M=lA}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=uA);if(N&&(N=N(t,u))){Bb(f,N,n,h);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&If(m,"number",m.value)}switch(M=u?Ki(u):window,t){case"focusin":(hv(M)||M.contentEditable==="true")&&(qi=M,Ff=u,ka=null);break;case"focusout":ka=Ff=qi=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,yv(f,n,h);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":yv(f,n,h)}var E;if(xm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wi?Vb(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Fb&&n.locale!=="ko"&&(Wi||b!=="onCompositionStart"?b==="onCompositionEnd"&&Wi&&(E=jb()):(es=h,vm="value"in es?es.value:es.textContent,Wi=!0)),M=lu(u,b),0<M.length&&(b=new lv(b,t,null,n,h),f.push({event:b,listeners:M}),E?b.data=E:(E=Ub(n),E!==null&&(b.data=E)))),(E=nA?rA(t,n):sA(t,n))&&(u=lu(u,"onBeforeInput"),0<u.length&&(h=new lv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=E))}Xb(f,e)})}function tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ka(t,n),i!=null&&r.unshift(tl(t,i,s)),i=Ka(t,e),i!=null&&r.push(tl(t,i,s))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _v(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ka(n,i),l!=null&&o.unshift(tl(n,l,a))):s||(l=Ka(n,i),l!=null&&o.push(tl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(wA,"")}function cc(t,e,n){if(e=xv(e),xv(t)!==e&&n)throw Error(H(425))}function cu(){}var Uf=null,Bf=null;function zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(bA)}:Hf;function bA(t){setTimeout(function(){throw t})}function Mh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ja(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ev(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Mo,nl="__reactProps$"+Mo,xr="__reactContainer$"+Mo,Wf="__reactEvents$"+Mo,EA="__reactListeners$"+Mo,SA="__reactHandles$"+Mo;function Js(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ev(t);t!==null;){if(n=t[Yn])return n;t=Ev(t)}return e}t=n,n=t.parentNode}return null}function Tl(t){return t=t[Yn]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function pd(t){return t[nl]||null}var qf=[],Qi=-1;function Is(t){return{current:t}}function He(t){0>Qi||(t.current=qf[Qi],qf[Qi]=null,Qi--)}function Ve(t,e){Qi++,qf[Qi]=t.current,t.current=e}var vs={},Dt=Is(vs),Yt=Is(!1),ci=vs;function wo(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return t=t.childContextTypes,t!=null}function uu(){He(Yt),He(Dt)}function Sv(t,e,n){if(Dt.current!==vs)throw Error(H(168));Ve(Dt,e),Ve(Yt,n)}function tE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,lP(t)||"Unknown",s));return Ye({},n,r)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ci=Dt.current,Ve(Dt,t),Ve(Yt,Yt.current),!0}function Tv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=tE(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,He(Yt),He(Dt),Ve(Dt,t)):He(Yt),Ve(Yt,n)}var fr=null,md=!1,Dh=!1;function nE(t){fr===null?fr=[t]:fr.push(t)}function TA(t){md=!0,nE(t)}function Ps(){if(!Dh&&fr!==null){Dh=!0;var t=0,e=$e;try{var n=fr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,md=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),Ib(pm,Ps),s}finally{$e=e,Dh=!1}}return null}var Yi=[],Ji=0,hu=null,fu=0,yn=[],vn=0,ui=null,pr=1,mr="";function Ks(t,e){Yi[Ji++]=fu,Yi[Ji++]=hu,hu=t,fu=e}function rE(t,e,n){yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=ui,ui=t;var r=pr;t=mr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var i=32-Nn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pr=1<<32-Nn(e)+s|n<<s|r,mr=i+t}else pr=1<<i|n<<s|r,mr=t}function Em(t){t.return!==null&&(Ks(t,1),rE(t,1,0))}function Sm(t){for(;t===hu;)hu=Yi[--Ji],Yi[Ji]=null,fu=Yi[--Ji],Yi[Ji]=null;for(;t===ui;)ui=yn[--vn],yn[vn]=null,mr=yn[--vn],yn[vn]=null,pr=yn[--vn],yn[vn]=null}var un=null,an=null,Ge=!1,Rn=null;function sE(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kf(t){if(Ge){var e=an;if(e){var n=e;if(!Cv(t,e)){if(Gf(t))throw Error(H(418));e=as(n.nextSibling);var r=un;e&&Cv(t,e)?sE(r,n):(t.flags=t.flags&-4097|2,Ge=!1,un=t)}}else{if(Gf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ge=!1,un=t}}}function Iv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function uc(t){if(t!==un)return!1;if(!Ge)return Iv(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zf(t.type,t.memoizedProps)),e&&(e=an)){if(Gf(t))throw iE(),Error(H(418));for(;e;)sE(t,e),e=as(e.nextSibling)}if(Iv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=as(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?as(t.stateNode.nextSibling):null;return!0}function iE(){for(var t=an;t;)t=as(t.nextSibling)}function _o(){an=un=null,Ge=!1}function Tm(t){Rn===null?Rn=[t]:Rn.push(t)}var CA=Pr.ReactCurrentBatchConfig;function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pv(t){var e=t._init;return e(t._payload)}function oE(t){function e(C,_){if(t){var I=C.deletions;I===null?(C.deletions=[_],C.flags|=16):I.push(_)}}function n(C,_){if(!t)return null;for(;_!==null;)e(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function s(C,_){return C=ds(C,_),C.index=0,C.sibling=null,C}function i(C,_,I){return C.index=I,t?(I=C.alternate,I!==null?(I=I.index,I<_?(C.flags|=2,_):I):(C.flags|=2,_)):(C.flags|=1048576,_)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,_,I,k){return _===null||_.tag!==6?(_=zh(I,C.mode,k),_.return=C,_):(_=s(_,I),_.return=C,_)}function l(C,_,I,k){var N=I.type;return N===Hi?h(C,_,I.props.children,k,I.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&Pv(N)===_.type)?(k=s(_,I.props),k.ref=ca(C,_,I),k.return=C,k):(k=Vc(I.type,I.key,I.props,null,C.mode,k),k.ref=ca(C,_,I),k.return=C,k)}function u(C,_,I,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Hh(I,C.mode,k),_.return=C,_):(_=s(_,I.children||[]),_.return=C,_)}function h(C,_,I,k,N){return _===null||_.tag!==7?(_=ii(I,C.mode,k,N),_.return=C,_):(_=s(_,I),_.return=C,_)}function f(C,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zh(""+_,C.mode,I),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ec:return I=Vc(_.type,_.key,_.props,null,C.mode,I),I.ref=ca(C,null,_),I.return=C,I;case zi:return _=Hh(_,C.mode,I),_.return=C,_;case zr:var k=_._init;return f(C,k(_._payload),I)}if(wa(_)||sa(_))return _=ii(_,C.mode,I,null),_.return=C,_;dc(C,_)}return null}function m(C,_,I,k){var N=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return N!==null?null:a(C,_,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ec:return I.key===N?l(C,_,I,k):null;case zi:return I.key===N?u(C,_,I,k):null;case zr:return N=I._init,m(C,_,N(I._payload),k)}if(wa(I)||sa(I))return N!==null?null:h(C,_,I,k,null);dc(C,I)}return null}function v(C,_,I,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return C=C.get(I)||null,a(_,C,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ec:return C=C.get(k.key===null?I:k.key)||null,l(_,C,k,N);case zi:return C=C.get(k.key===null?I:k.key)||null,u(_,C,k,N);case zr:var M=k._init;return v(C,_,I,M(k._payload),N)}if(wa(k)||sa(k))return C=C.get(I)||null,h(_,C,k,N,null);dc(_,k)}return null}function g(C,_,I,k){for(var N=null,M=null,E=_,b=_=0,x=null;E!==null&&b<I.length;b++){E.index>b?(x=E,E=null):x=E.sibling;var A=m(C,E,I[b],k);if(A===null){E===null&&(E=x);break}t&&E&&A.alternate===null&&e(C,E),_=i(A,_,b),M===null?N=A:M.sibling=A,M=A,E=x}if(b===I.length)return n(C,E),Ge&&Ks(C,b),N;if(E===null){for(;b<I.length;b++)E=f(C,I[b],k),E!==null&&(_=i(E,_,b),M===null?N=E:M.sibling=E,M=E);return Ge&&Ks(C,b),N}for(E=r(C,E);b<I.length;b++)x=v(E,C,b,I[b],k),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?b:x.key),_=i(x,_,b),M===null?N=x:M.sibling=x,M=x);return t&&E.forEach(function(L){return e(C,L)}),Ge&&Ks(C,b),N}function T(C,_,I,k){var N=sa(I);if(typeof N!="function")throw Error(H(150));if(I=N.call(I),I==null)throw Error(H(151));for(var M=N=null,E=_,b=_=0,x=null,A=I.next();E!==null&&!A.done;b++,A=I.next()){E.index>b?(x=E,E=null):x=E.sibling;var L=m(C,E,A.value,k);if(L===null){E===null&&(E=x);break}t&&E&&L.alternate===null&&e(C,E),_=i(L,_,b),M===null?N=L:M.sibling=L,M=L,E=x}if(A.done)return n(C,E),Ge&&Ks(C,b),N;if(E===null){for(;!A.done;b++,A=I.next())A=f(C,A.value,k),A!==null&&(_=i(A,_,b),M===null?N=A:M.sibling=A,M=A);return Ge&&Ks(C,b),N}for(E=r(C,E);!A.done;b++,A=I.next())A=v(E,C,b,A.value,k),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?b:A.key),_=i(A,_,b),M===null?N=A:M.sibling=A,M=A);return t&&E.forEach(function(O){return e(C,O)}),Ge&&Ks(C,b),N}function S(C,_,I,k){if(typeof I=="object"&&I!==null&&I.type===Hi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ec:e:{for(var N=I.key,M=_;M!==null;){if(M.key===N){if(N=I.type,N===Hi){if(M.tag===7){n(C,M.sibling),_=s(M,I.props.children),_.return=C,C=_;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&Pv(N)===M.type){n(C,M.sibling),_=s(M,I.props),_.ref=ca(C,M,I),_.return=C,C=_;break e}n(C,M);break}else e(C,M);M=M.sibling}I.type===Hi?(_=ii(I.props.children,C.mode,k,I.key),_.return=C,C=_):(k=Vc(I.type,I.key,I.props,null,C.mode,k),k.ref=ca(C,_,I),k.return=C,C=k)}return o(C);case zi:e:{for(M=I.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(C,_.sibling),_=s(_,I.children||[]),_.return=C,C=_;break e}else{n(C,_);break}else e(C,_);_=_.sibling}_=Hh(I,C.mode,k),_.return=C,C=_}return o(C);case zr:return M=I._init,S(C,_,M(I._payload),k)}if(wa(I))return g(C,_,I,k);if(sa(I))return T(C,_,I,k);dc(C,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(C,_.sibling),_=s(_,I),_.return=C,C=_):(n(C,_),_=zh(I,C.mode,k),_.return=C,C=_),o(C)):n(C,_)}return S}var xo=oE(!0),aE=oE(!1),pu=Is(null),mu=null,Zi=null,Cm=null;function Im(){Cm=Zi=mu=null}function Pm(t){var e=pu.current;He(pu),t._currentValue=e}function Qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){mu=t,Cm=Zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(Cm!==t)if(t={context:t,memoizedValue:e,next:null},Zi===null){if(mu===null)throw Error(H(308));Zi=t,mu.dependencies={lanes:0,firstContext:t}}else Zi=Zi.next=t;return e}var Zs=null;function Am(t){Zs===null?Zs=[t]:Zs.push(t)}function lE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Am(e)):(n.next=s.next,s.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,br(t,n)}return s=r.interleaved,s===null?(e.next=e,Am(r)):(e.next=s.next,s.next=e),r.interleaved=e,br(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mm(t,n)}}function Av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,r){var s=t.updateQueue;Hr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,T=a;switch(m=e,v=n,T.tag){case 1:if(g=T.payload,typeof g=="function"){f=g.call(v,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=T.payload,m=typeof g=="function"?g.call(v,f,m):g,m==null)break e;f=Ye({},f,m);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hi|=o,t.lanes=o,t.memoizedState=f}}function Rv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Cl={},er=Is(Cl),rl=Is(Cl),sl=Is(Cl);function Xs(t){if(t===Cl)throw Error(H(174));return t}function km(t,e){switch(Ve(sl,e),Ve(rl,t),Ve(er,Cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Af(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Af(e,t)}He(er),Ve(er,e)}function bo(){He(er),He(rl),He(sl)}function uE(t){Xs(sl.current);var e=Xs(er.current),n=Af(e,t.type);e!==n&&(Ve(rl,t),Ve(er,n))}function Lm(t){rl.current===t&&(He(er),He(rl))}var Ke=Is(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $h=[];function Nm(){for(var t=0;t<$h.length;t++)$h[t]._workInProgressVersionPrimary=null;$h.length=0}var Mc=Pr.ReactCurrentDispatcher,jh=Pr.ReactCurrentBatchConfig,di=0,Qe=null,dt=null,_t=null,vu=!1,La=!1,il=0,IA=0;function At(){throw Error(H(321))}function Om(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Mm(t,e,n,r,s,i){if(di=i,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?kA:LA,t=n(r,s),La){i=0;do{if(La=!1,il=0,25<=i)throw Error(H(301));i+=1,_t=dt=null,e.updateQueue=null,Mc.current=NA,t=n(r,s)}while(La)}if(Mc.current=wu,e=dt!==null&&dt.next!==null,di=0,_t=dt=Qe=null,vu=!1,e)throw Error(H(300));return t}function Dm(){var t=il!==0;return il=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Qe.memoizedState=_t=t:_t=_t.next=t,_t}function En(){if(dt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=_t===null?Qe.memoizedState:_t.next;if(e!==null)_t=e,dt=t;else{if(t===null)throw Error(H(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?Qe.memoizedState=_t=t:_t=_t.next=t}return _t}function ol(t,e){return typeof e=="function"?e(t):e}function Fh(t){var e=En(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((di&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Qe.lanes|=h,hi|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Mn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qe.lanes|=i,hi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=En(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mn(i,e.memoizedState)||(Qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dE(){}function hE(t,e){var n=Qe,r=En(),s=e(),i=!Mn(r.memoizedState,s);if(i&&(r.memoizedState=s,Qt=!0),r=r.queue,$m(mE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,al(9,pE.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(H(349));di&30||fE(n,e,s)}return s}function fE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,r){e.value=n,e.getSnapshot=r,gE(e)&&yE(t)}function mE(t,e,n){return n(function(){gE(e)&&yE(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function yE(t){var e=br(t,1);e!==null&&On(e,t,1,-1)}function kv(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:t},e.queue=t,t=t.dispatch=RA.bind(null,Qe,t),[e.memoizedState,t]}function al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vE(){return En().memoizedState}function Dc(t,e,n,r){var s=Kn();Qe.flags|=t,s.memoizedState=al(1|e,n,void 0,r===void 0?null:r)}function gd(t,e,n,r){var s=En();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&Om(r,o.deps)){s.memoizedState=al(e,n,i,r);return}}Qe.flags|=t,s.memoizedState=al(1|e,n,i,r)}function Lv(t,e){return Dc(8390656,8,t,e)}function $m(t,e){return gd(2048,8,t,e)}function wE(t,e){return gd(4,2,t,e)}function _E(t,e){return gd(4,4,t,e)}function xE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bE(t,e,n){return n=n!=null?n.concat([t]):null,gd(4,4,xE.bind(null,e,t),n)}function jm(){}function EE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Om(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Om(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TE(t,e,n){return di&21?(Mn(n,e)||(n=Rb(),Qe.lanes|=n,hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function PA(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=jh.transition;jh.transition={};try{t(!1),e()}finally{$e=n,jh.transition=r}}function CE(){return En().memoizedState}function AA(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IE(t))PE(e,n);else if(n=lE(t,e,n,r),n!==null){var s=Bt();On(n,t,r,s),AE(n,e,r)}}function RA(t,e,n){var r=us(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IE(t))PE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(s.next=s,Am(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=lE(t,e,s,r),n!==null&&(s=Bt(),On(n,t,r,s),AE(n,e,r))}}function IE(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function PE(t,e){La=vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mm(t,n)}}var wu={readContext:bn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},kA={readContext:bn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,xE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AA.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:jm,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=PA.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=Kn();if(Ge){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),xt===null)throw Error(H(349));di&30||fE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lv(mE.bind(null,r,i,t),[t]),r.flags|=2048,al(9,pE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kn(),e=xt.identifierPrefix;if(Ge){var n=mr,r=pr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LA={readContext:bn,useCallback:EE,useContext:bn,useEffect:$m,useImperativeHandle:bE,useInsertionEffect:wE,useLayoutEffect:_E,useMemo:SE,useReducer:Fh,useRef:vE,useState:function(){return Fh(ol)},useDebugValue:jm,useDeferredValue:function(t){var e=En();return TE(e,dt.memoizedState,t)},useTransition:function(){var t=Fh(ol)[0],e=En().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:hE,useId:CE,unstable_isNewReconciler:!1},NA={readContext:bn,useCallback:EE,useContext:bn,useEffect:$m,useImperativeHandle:bE,useInsertionEffect:wE,useLayoutEffect:_E,useMemo:SE,useReducer:Vh,useRef:vE,useState:function(){return Vh(ol)},useDebugValue:jm,useDeferredValue:function(t){var e=En();return dt===null?e.memoizedState=t:TE(e,dt.memoizedState,t)},useTransition:function(){var t=Vh(ol)[0],e=En().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:hE,useId:CE,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yd={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=us(t),i=vr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ls(t,i,s),e!==null&&(On(e,t,s,r),Oc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=us(t),i=vr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ls(t,i,s),e!==null&&(On(e,t,s,r),Oc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=us(t),s=vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ls(t,s,r),e!==null&&(On(e,t,r,n),Oc(e,t,r))}};function Nv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xa(n,r)||!Xa(s,i):!0}function RE(t,e,n){var r=!1,s=vs,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(s=Jt(e)?ci:Dt.current,r=e.contextTypes,i=(r=r!=null)?wo(t,s):vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yd.enqueueReplaceState(e,e.state,null)}function Jf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bn(i):(i=Jt(e)?ci:Dt.current,s.context=wo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yd.enqueueReplaceState(s,s.state,null),gu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=aP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OA=typeof WeakMap=="function"?WeakMap:Map;function kE(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,lp=r),Zf(t,e)},n}function LE(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zf(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=KA.bind(null,t,e,n),e.then(t,t))}function Dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ls(n,e,1))),n.lanes|=1),t)}var MA=Pr.ReactCurrentOwner,Qt=!1;function Ut(t,e,n,r){e.child=t===null?aE(e,null,n,r):xo(e,t.child,n,r)}function jv(t,e,n,r,s){n=n.render;var i=e.ref;return oo(e,s),r=Mm(t,e,n,r,i,s),n=Dm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Ge&&n&&Em(e),e.flags|=1,Ut(t,e,r,s),e.child)}function Fv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,NE(t,e,i,r,s)):(t=Vc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(o,r)&&t.ref===e.ref)return Er(t,e,s)}return e.flags|=1,t=ds(i,r),t.ref=e.ref,t.return=e,e.child=t}function NE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xa(i,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Er(t,e,s)}return Xf(t,e,n,r,s)}function OE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(eo,rn),rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(eo,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(eo,rn),rn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(eo,rn),rn|=r;return Ut(t,e,s,n),e.child}function ME(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xf(t,e,n,r,s){var i=Jt(n)?ci:Dt.current;return i=wo(e,i),oo(e,s),n=Mm(t,e,n,r,i,s),r=Dm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Ge&&r&&Em(e),e.flags|=1,Ut(t,e,n,s),e.child)}function Vv(t,e,n,r,s){if(Jt(n)){var i=!0;du(e)}else i=!1;if(oo(e,s),e.stateNode===null)$c(t,e),RE(e,n,r),Jf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Jt(n)?ci:Dt.current,u=wo(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ov(e,o,r,u),Hr=!1;var m=e.memoizedState;o.state=m,gu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Yt.current||Hr?(typeof h=="function"&&(Yf(e,n,h,r),l=e.memoizedState),(a=Hr||Nv(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Jt(n)?ci:Dt.current,l=wo(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Ov(e,o,r,l),Hr=!1,m=e.memoizedState,o.state=m,gu(e,r,o,s);var g=e.memoizedState;a!==f||m!==g||Yt.current||Hr?(typeof v=="function"&&(Yf(e,n,v,r),g=e.memoizedState),(u=Hr||Nv(e,n,u,r,m,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ep(t,e,n,r,i,s)}function ep(t,e,n,r,s,i){ME(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Tv(e,n,!1),Er(t,e,i);r=e.stateNode,MA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xo(e,t.child,null,i),e.child=xo(e,null,a,i)):Ut(t,e,a,i),e.memoizedState=r.state,s&&Tv(e,n,!0),e.child}function DE(t){var e=t.stateNode;e.pendingContext?Sv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sv(t,e.context,!1),km(t,e.containerInfo)}function Uv(t,e,n,r,s){return _o(),Tm(s),e.flags|=256,Ut(t,e,n,r),e.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(t){return{baseLanes:t,cachePool:null,transitions:null}}function $E(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(Ke,s&1),t===null)return Kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_d(o,r,0,null),t=ii(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=np(n),e.memoizedState=tp,t):Fm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return DA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ds(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ds(a,i):(i=ii(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tp,r}return i=t.child,t=i.sibling,r=ds(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fm(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Tm(r),xo(e,t.child,null,n),t=Fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(H(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_d({mode:"visible",children:r.children},s,0,null),i=ii(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xo(e,t.child,null,o),e.child.memoizedState=np(o),e.memoizedState=tp,i);if(!(e.mode&1))return hc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Uh(i,r,void 0),hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,br(t,s),On(r,t,s,-1))}return Wm(),r=Uh(Error(H(421))),hc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=QA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,an=as(s.nextSibling),un=e,Ge=!0,Rn=null,t!==null&&(yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=ui,pr=t.id,mr=t.overflow,ui=e),e=Fm(e,r.children),e.flags|=4096,e)}function Bv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qf(t.return,e,n)}function Bh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ut(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bv(t,n,e);else if(t.tag===19)Bv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bh(e,!0,n,null,i);break;case"together":Bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $A(t,e,n){switch(e.tag){case 3:DE(e),_o();break;case 5:uE(e);break;case 1:Jt(e.type)&&du(e);break;case 4:km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(pu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?$E(t,e,n):(Ve(Ke,Ke.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,OE(t,e,n)}return Er(t,e,n)}var FE,rp,VE,UE;FE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};VE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xs(er.current);var i=null;switch(n){case"input":s=Tf(t,s),r=Tf(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Pf(t,s),r=Pf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cu)}Rf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};UE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ua(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jA(t,e,n){var r=e.pendingProps;switch(Sm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return Jt(e.type)&&uu(),Rt(e),null;case 3:return r=e.stateNode,bo(),He(Yt),He(Dt),Nm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(dp(Rn),Rn=null))),rp(t,e),Rt(e),null;case 5:Lm(e);var s=Xs(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)VE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Rt(e),null}if(t=Xs(er.current),uc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yn]=e,r[nl]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<xa.length;s++)ze(xa[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Jy(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":Xy(r,i),ze("invalid",r)}Rf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",""+a]):qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":tc(r),Zy(r,i,!0);break;case"textarea":tc(r),ev(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yn]=e,t[nl]=r,FE(t,e,!1,!1),e.stateNode=t;e:{switch(o=kf(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<xa.length;s++)ze(xa[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":Jy(t,r),s=Tf(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Xy(t,r),s=Pf(t,r),ze("invalid",t);break;default:s=r}Rf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gb(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ga(t,l):typeof l=="number"&&Ga(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&cm(t,i,l,o))}switch(n){case"input":tc(t),Zy(t,r,!1);break;case"textarea":tc(t),ev(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?no(t,!!r.multiple,i,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)UE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Xs(sl.current),Xs(er.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(i=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return Rt(e),null;case 13:if(He(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&an!==null&&e.mode&1&&!(e.flags&128))iE(),_o(),e.flags|=98560,i=!1;else if(i=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Yn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else Rn!==null&&(dp(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ht===0&&(ht=3):Wm())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return bo(),rp(t,e),t===null&&el(e.stateNode.containerInfo),Rt(e),null;case 10:return Pm(e.type._context),Rt(e),null;case 17:return Jt(e.type)&&uu(),Rt(e),null;case 19:if(He(Ke),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ua(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,ua(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>So&&(e.flags|=128,r=!0,ua(i,!1),e.lanes=4194304)}else{if(!r)if(t=yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ua(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Rt(e),null}else 2*st()-i.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,ua(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=Ke.current,Ve(Ke,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Hm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function FA(t,e){switch(Sm(e),e.tag){case 1:return Jt(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),He(Yt),He(Dt),Nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(He(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ke),null;case 4:return bo(),null;case 10:return Pm(e.type._context),null;case 22:case 23:return Hm(),null;case 24:return null;default:return null}}var fc=!1,Nt=!1,VA=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var zv=!1;function UA(t,e){if(Uf=ou,t=qb(),bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:t,selectionRange:n},ou=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var T=g.memoizedProps,S=g.memoizedState,C=e.stateNode,_=C.getSnapshotBeforeUpdate(e.elementType===e.type?T:Pn(e.type,T),S);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Xe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=zv,zv=!1,g}function Na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sp(e,n,i)}s=s.next}while(s!==r)}}function vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ip(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BE(t){var e=t.alternate;e!==null&&(t.alternate=null,BE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[nl],delete e[Wf],delete e[EA],delete e[SA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zE(t){return t.tag===5||t.tag===3||t.tag===4}function Hv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cu));else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}var Et=null,An=!1;function Vr(t,e,n){for(n=n.child;n!==null;)HE(t,e,n),n=n.sibling}function HE(t,e,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:Nt||Xi(n,e);case 6:var r=Et,s=An;Et=null,Vr(t,e,n),Et=r,An=s,Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?Mh(t.parentNode,n):t.nodeType===1&&Mh(t,n),Ja(t)):Mh(Et,n.stateNode));break;case 4:r=Et,s=An,Et=n.stateNode.containerInfo,An=!0,Vr(t,e,n),Et=r,An=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sp(n,e,o),s=s.next}while(s!==r)}Vr(t,e,n);break;case 1:if(!Nt&&(Xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Vr(t,e,n),Nt=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function Wv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VA),e.forEach(function(r){var s=YA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,An=!1;break e;case 3:Et=a.stateNode.containerInfo,An=!0;break e;case 4:Et=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(Et===null)throw Error(H(160));HE(i,o,s),Et=null,An=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WE(e,t),e=e.sibling}function WE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),qn(t),r&4){try{Na(3,t,t.return),vd(3,t)}catch(T){Xe(t,t.return,T)}try{Na(5,t,t.return)}catch(T){Xe(t,t.return,T)}}break;case 1:In(e,t),qn(t),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(In(e,t),qn(t),r&512&&n!==null&&Xi(n,n.return),t.flags&32){var s=t.stateNode;try{Ga(s,"")}catch(T){Xe(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fb(s,i),kf(a,o);var u=kf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?vb(s,f):h==="dangerouslySetInnerHTML"?gb(s,f):h==="children"?Ga(s,f):cm(s,h,f,u)}switch(a){case"input":Cf(s,i);break;case"textarea":pb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?no(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?no(s,!!i.multiple,i.defaultValue,!0):no(s,!!i.multiple,i.multiple?[]:"",!1))}s[nl]=i}catch(T){Xe(t,t.return,T)}}break;case 6:if(In(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){Xe(t,t.return,T)}}break;case 3:if(In(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ja(e.containerInfo)}catch(T){Xe(t,t.return,T)}break;case 4:In(e,t),qn(t);break;case 13:In(e,t),qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bm=st())),r&4&&Wv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||h,In(e,t),Nt=u):In(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(m=ne,v=m.child,m.tag){case 0:case 11:case 14:case 15:Na(4,m,m.return);break;case 1:Xi(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(T){Xe(r,n,T)}}break;case 5:Xi(m,m.return);break;case 22:if(m.memoizedState!==null){Gv(f);continue}}v!==null?(v.return=m,ne=v):Gv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yb("display",o))}catch(T){Xe(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(T){Xe(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:In(e,t),qn(t),r&4&&Wv(t);break;case 21:break;default:In(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ga(s,""),r.flags&=-33);var i=Hv(t);ap(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hv(t);op(t,a,o);break;default:throw Error(H(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BA(t,e,n){ne=t,qE(t)}function qE(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=fc;var u=Nt;if(fc=o,(Nt=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Kv(s):l!==null?(l.return=o,ne=l):Kv(s);for(;i!==null;)ne=i,qE(i),i=i.sibling;ne=s,fc=a,Nt=u}qv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):qv(t)}}function qv(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ja(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||e.flags&512&&ip(e)}catch(m){Xe(e,e.return,m)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Gv(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Kv(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vd(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Xe(e,s,l)}}var i=e.return;try{ip(e)}catch(l){Xe(e,i,l)}break;case 5:var o=e.return;try{ip(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var zA=Math.ceil,_u=Pr.ReactCurrentDispatcher,Vm=Pr.ReactCurrentOwner,xn=Pr.ReactCurrentBatchConfig,Le=0,xt=null,at=null,Ct=0,rn=0,eo=Is(0),ht=0,ll=null,hi=0,wd=0,Um=0,Oa=null,Gt=null,Bm=0,So=1/0,hr=null,xu=!1,lp=null,cs=null,pc=!1,ts=null,bu=0,Ma=0,cp=null,jc=-1,Fc=0;function Bt(){return Le&6?st():jc!==-1?jc:jc=st()}function us(t){return t.mode&1?Le&2&&Ct!==0?Ct&-Ct:CA.transition!==null?(Fc===0&&(Fc=Rb()),Fc):(t=$e,t!==0||(t=window.event,t=t===void 0?16:$b(t.type)),t):1}function On(t,e,n,r){if(50<Ma)throw Ma=0,cp=null,Error(H(185));El(t,n,r),(!(Le&2)||t!==xt)&&(t===xt&&(!(Le&2)&&(wd|=n),ht===4&&Gr(t,Ct)),Zt(t,r),n===1&&Le===0&&!(e.mode&1)&&(So=st()+500,md&&Ps()))}function Zt(t,e){var n=t.callbackNode;CP(t,e);var r=iu(t,t===xt?Ct:0);if(r===0)n!==null&&rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rv(n),e===1)t.tag===0?TA(Qv.bind(null,t)):nE(Qv.bind(null,t)),xA(function(){!(Le&6)&&Ps()}),n=null;else{switch(kb(r)){case 1:n=pm;break;case 4:n=Pb;break;case 16:n=su;break;case 536870912:n=Ab;break;default:n=su}n=eS(n,GE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GE(t,e){if(jc=-1,Fc=0,Le&6)throw Error(H(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=iu(t,t===xt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var s=Le;Le|=2;var i=QE();(xt!==t||Ct!==e)&&(hr=null,So=st()+500,si(t,e));do try{qA();break}catch(a){KE(t,a)}while(!0);Im(),_u.current=i,Le=s,at!==null?e=0:(xt=null,Ct=0,e=ht)}if(e!==0){if(e===2&&(s=Df(t),s!==0&&(r=s,e=up(t,s))),e===1)throw n=ll,si(t,0),Gr(t,r),Zt(t,st()),n;if(e===6)Gr(t,r);else{if(s=t.current.alternate,!(r&30)&&!HA(s)&&(e=Eu(t,r),e===2&&(i=Df(t),i!==0&&(r=i,e=up(t,i))),e===1))throw n=ll,si(t,0),Gr(t,r),Zt(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Qs(t,Gt,hr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=Bm+500-st(),10<e)){if(iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hf(Qs.bind(null,t,Gt,hr),e);break}Qs(t,Gt,hr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zA(r/1960))-r,10<r){t.timeoutHandle=Hf(Qs.bind(null,t,Gt,hr),r);break}Qs(t,Gt,hr);break;case 5:Qs(t,Gt,hr);break;default:throw Error(H(329))}}}return Zt(t,st()),t.callbackNode===n?GE.bind(null,t):null}function up(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&dp(e)),t}function dp(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function HA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~Um,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function Qv(t){if(Le&6)throw Error(H(327));ao();var e=iu(t,0);if(!(e&1))return Zt(t,st()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=Df(t);r!==0&&(e=r,n=up(t,r))}if(n===1)throw n=ll,si(t,0),Gr(t,e),Zt(t,st()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qs(t,Gt,hr),Zt(t,st()),null}function zm(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(So=st()+500,md&&Ps())}}function fi(t){ts!==null&&ts.tag===0&&!(Le&6)&&ao();var e=Le;Le|=1;var n=xn.transition,r=$e;try{if(xn.transition=null,$e=1,t)return t()}finally{$e=r,xn.transition=n,Le=e,!(Le&6)&&Ps()}}function Hm(){rn=eo.current,He(eo)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_A(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Sm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:bo(),He(Yt),He(Dt),Nm();break;case 5:Lm(r);break;case 4:bo();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:Pm(r.type._context);break;case 22:case 23:Hm()}n=n.return}if(xt=t,at=t=ds(t.current,null),Ct=rn=e,ht=0,ll=null,Um=wd=hi=0,Gt=Oa=null,Zs!==null){for(e=0;e<Zs.length;e++)if(n=Zs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zs=null}return t}function KE(t,e){do{var n=at;try{if(Im(),Mc.current=wu,vu){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vu=!1}if(di=0,_t=dt=Qe=null,La=!1,il=0,Vm.current=null,n===null||n.return===null){ht=1,ll=e,at=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Dv(o);if(v!==null){v.flags&=-257,$v(v,o,a,i,e),v.mode&1&&Mv(i,u,e),e=v,l=u;var g=e.updateQueue;if(g===null){var T=new Set;T.add(l),e.updateQueue=T}else g.add(l);break e}else{if(!(e&1)){Mv(i,u,e),Wm();break e}l=Error(H(426))}}else if(Ge&&a.mode&1){var S=Dv(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$v(S,o,a,i,e),Tm(Eo(l,a));break e}}i=l=Eo(l,a),ht!==4&&(ht=2),Oa===null?Oa=[i]:Oa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var C=kE(i,l,e);Av(i,C);break e;case 1:a=l;var _=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(cs===null||!cs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=LE(i,a,e);Av(i,k);break e}}i=i.return}while(i!==null)}JE(n)}catch(N){e=N,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function QE(){var t=_u.current;return _u.current=wu,t===null?wu:t}function Wm(){(ht===0||ht===3||ht===2)&&(ht=4),xt===null||!(hi&268435455)&&!(wd&268435455)||Gr(xt,Ct)}function Eu(t,e){var n=Le;Le|=2;var r=QE();(xt!==t||Ct!==e)&&(hr=null,si(t,e));do try{WA();break}catch(s){KE(t,s)}while(!0);if(Im(),Le=n,_u.current=r,at!==null)throw Error(H(261));return xt=null,Ct=0,ht}function WA(){for(;at!==null;)YE(at)}function qA(){for(;at!==null&&!yP();)YE(at)}function YE(t){var e=XE(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?JE(t):at=e,Vm.current=null}function JE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FA(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,at=null;return}}else if(n=jA(n,e,rn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ht===0&&(ht=5)}function Qs(t,e,n){var r=$e,s=xn.transition;try{xn.transition=null,$e=1,GA(t,e,n,r)}finally{xn.transition=s,$e=r}return null}function GA(t,e,n,r){do ao();while(ts!==null);if(Le&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(IP(t,i),t===xt&&(at=xt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,eS(su,function(){return ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=$e;$e=1;var a=Le;Le|=4,Vm.current=null,UA(t,n),WE(n,t),fA(Bf),ou=!!Uf,Bf=Uf=null,t.current=n,BA(n),vP(),Le=a,$e=o,xn.transition=i}else t.current=n;if(pc&&(pc=!1,ts=t,bu=s),i=t.pendingLanes,i===0&&(cs=null),xP(n.stateNode),Zt(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xu)throw xu=!1,t=lp,lp=null,t;return bu&1&&t.tag!==0&&ao(),i=t.pendingLanes,i&1?t===cp?Ma++:(Ma=0,cp=t):Ma=0,Ps(),null}function ao(){if(ts!==null){var t=kb(bu),e=xn.transition,n=$e;try{if(xn.transition=null,$e=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,bu=0,Le&6)throw Error(H(331));var s=Le;for(Le|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Na(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var m=h.sibling,v=h.return;if(BE(h),h===u){ne=null;break}if(m!==null){m.return=v,ne=m;break}ne=v}}}var g=i.alternate;if(g!==null){var T=g.child;if(T!==null){g.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Na(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,ne=C;break e}ne=i.return}}var _=t.current;for(ne=_;ne!==null;){o=ne;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,ne=I;else e:for(o=_;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vd(9,a)}}catch(N){Xe(a,a.return,N)}if(a===o){ne=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ne=k;break e}ne=a.return}}if(Le=s,Ps(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{$e=n,xn.transition=e}}return!1}function Yv(t,e,n){e=Eo(n,e),e=kE(t,e,1),t=ls(t,e,1),e=Bt(),t!==null&&(El(t,1,e),Zt(t,e))}function Xe(t,e,n){if(t.tag===3)Yv(t,t,n);else for(;e!==null;){if(e.tag===3){Yv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=Eo(n,t),t=LE(e,t,1),e=ls(e,t,1),t=Bt(),e!==null&&(El(e,1,t),Zt(e,t));break}}e=e.return}}function KA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Ct&n)===n&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>st()-Bm?si(t,0):Um|=n),Zt(t,e)}function ZE(t,e){e===0&&(t.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var n=Bt();t=br(t,e),t!==null&&(El(t,e,n),Zt(t,n))}function QA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZE(t,n)}function YA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),ZE(t,n)}var XE;XE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,$A(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Ge&&e.flags&1048576&&rE(e,fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var s=wo(e,Dt.current);oo(e,n),s=Mm(null,e,r,t,s,n);var i=Dm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(i=!0,du(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rm(e),s.updater=yd,e.stateNode=s,s._reactInternals=e,Jf(e,r,t,n),e=ep(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&Em(e),Ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZA(r),t=Pn(r,t),s){case 0:e=Xf(null,e,r,t,n);break e;case 1:e=Vv(null,e,r,t,n);break e;case 11:e=jv(null,e,r,t,n);break e;case 14:e=Fv(null,e,r,Pn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Xf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Vv(t,e,r,s,n);case 3:e:{if(DE(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,cE(t,e),gu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Eo(Error(H(423)),e),e=Uv(t,e,r,n,s);break e}else if(r!==s){s=Eo(Error(H(424)),e),e=Uv(t,e,r,n,s);break e}else for(an=as(e.stateNode.containerInfo.firstChild),un=e,Ge=!0,Rn=null,n=aE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),r===s){e=Er(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return uE(e),t===null&&Kf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zf(r,s)?o=null:i!==null&&zf(r,i)&&(e.flags|=32),ME(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Kf(e),null;case 13:return $E(t,e,n);case 4:return km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),jv(t,e,r,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(pu,r._currentValue),r._currentValue=o,i!==null)if(Mn(i.value,o)){if(i.children===s.children&&!Yt.current){e=Er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=vr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oo(e,n),s=bn(s),r=r(s),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),Fv(t,e,r,s,n);case 15:return NE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),$c(t,e),e.tag=1,Jt(r)?(t=!0,du(e)):t=!1,oo(e,n),RE(e,r,s),Jf(e,r,s,n),ep(null,e,r,!0,t,n);case 19:return jE(t,e,n);case 22:return OE(t,e,n)}throw Error(H(156,e.tag))};function eS(t,e){return Ib(t,e)}function JA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new JA(t,e,n,r)}function qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZA(t){if(typeof t=="function")return qm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dm)return 11;if(t===hm)return 14}return 2}function ds(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hi:return ii(n.children,s,i,e);case um:o=8,s|=8;break;case xf:return t=_n(12,n,e,s|2),t.elementType=xf,t.lanes=i,t;case bf:return t=_n(13,n,e,s),t.elementType=bf,t.lanes=i,t;case Ef:return t=_n(19,n,e,s),t.elementType=Ef,t.lanes=i,t;case ub:return _d(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lb:o=10;break e;case cb:o=9;break e;case dm:o=11;break e;case hm:o=14;break e;case zr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=_n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ii(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function _d(t,e,n,r){return t=_n(22,t,r,e),t.elementType=ub,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Hh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gm(t,e,n,r,s,i,o,a,l){return t=new XA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rm(i),t}function eR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tS(t){if(!t)return vs;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Jt(n))return tE(t,n,e)}return e}function nS(t,e,n,r,s,i,o,a,l){return t=Gm(n,r,!0,t,s,i,o,a,l),t.context=tS(null),n=t.current,r=Bt(),s=us(n),i=vr(r,s),i.callback=e??null,ls(n,i,s),t.current.lanes=s,El(t,s,r),Zt(t,r),t}function xd(t,e,n,r){var s=e.current,i=Bt(),o=us(s);return n=tS(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ls(s,e,o),t!==null&&(On(t,s,o,i),Oc(t,s,o)),o}function Su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Km(t,e){Jv(t,e),(t=t.alternate)&&Jv(t,e)}function tR(){return null}var rS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qm(t){this._internalRoot=t}bd.prototype.render=Qm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));xd(t,e,null,null)};bd.prototype.unmount=Qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fi(function(){xd(null,t,null,null)}),e[xr]=null}};function bd(t){this._internalRoot=t}bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&Db(t)}};function Ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function nR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Su(o);i.call(u)}}var o=nS(e,r,t,0,null,!1,!1,"",Zv);return t._reactRootContainer=o,t[xr]=o.current,el(t.nodeType===8?t.parentNode:t),fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Su(l);a.call(u)}}var l=Gm(t,0,!1,null,null,!1,!1,"",Zv);return t._reactRootContainer=l,t[xr]=l.current,el(t.nodeType===8?t.parentNode:t),fi(function(){xd(e,l,n,r)}),l}function Sd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Su(o);a.call(l)}}xd(e,o,t,s)}else o=nR(n,e,t,s,r);return Su(o)}Lb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_a(e.pendingLanes);n!==0&&(mm(e,n|1),Zt(e,st()),!(Le&6)&&(So=st()+500,Ps()))}break;case 13:fi(function(){var r=br(t,1);if(r!==null){var s=Bt();On(r,t,1,s)}}),Km(t,1)}};gm=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=Bt();On(e,t,134217728,n)}Km(t,134217728)}};Nb=function(t){if(t.tag===13){var e=us(t),n=br(t,e);if(n!==null){var r=Bt();On(n,t,e,r)}Km(t,e)}};Ob=function(){return $e};Mb=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Nf=function(t,e,n){switch(e){case"input":if(Cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pd(r);if(!s)throw Error(H(90));hb(r),Cf(r,s)}}}break;case"textarea":pb(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};xb=zm;bb=fi;var rR={usingClientEntryPoint:!1,Events:[Tl,Ki,pd,wb,_b,zm]},da={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sR={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tb(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{ud=mc.inject(sR),Xn=mc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rR;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ym(e))throw Error(H(200));return eR(t,e,null,n)};fn.createRoot=function(t,e){if(!Ym(t))throw Error(H(299));var n=!1,r="",s=rS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gm(t,1,!1,null,null,n,!1,r,s),t[xr]=e.current,el(t.nodeType===8?t.parentNode:t),new Qm(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Tb(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return fi(t)};fn.hydrate=function(t,e,n){if(!Ed(e))throw Error(H(200));return Sd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Ym(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nS(e,null,t,1,n??null,s,!1,i,o),t[xr]=e.current,el(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bd(e)};fn.render=function(t,e,n){if(!Ed(e))throw Error(H(200));return Sd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Ed(t))throw Error(H(40));return t._reactRootContainer?(fi(function(){Sd(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};fn.unstable_batchedUpdates=zm;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ed(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Sd(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(t){console.error(t)}}sS(),sb.exports=fn;var Si=sb.exports,Xv=Si;wf.createRoot=Xv.createRoot,wf.hydrateRoot=Xv.hydrateRoot;const he=t=>typeof t=="string",ha=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},ew=t=>t==null?"":""+t,iR=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},oR=/###/g,tw=t=>t&&t.indexOf("###")>-1?t.replace(oR,"."):t,nw=t=>!t||he(t),Da=(t,e,n)=>{const r=he(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(nw(t))return{};const i=tw(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return nw(t)?{}:{obj:t,k:tw(r[s])}},rw=(t,e,n)=>{const{obj:r,k:s}=Da(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=Da(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=Da(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},aR=(t,e,n,r)=>{const{obj:s,k:i}=Da(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Tu=(t,e)=>{const{obj:n,k:r}=Da(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},lR=(t,e,n)=>{const r=Tu(t,n);return r!==void 0?r:Tu(e,n)},iS=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?he(t[r])||t[r]instanceof String||he(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):iS(t[r],e[r],n):t[r]=e[r]);return t},Di=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uR=t=>he(t)?t.replace(/[&<>"'\/]/g,e=>cR[e]):t;class dR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const hR=[" ",",","?","!",";"],fR=new dR(20),pR=(t,e,n)=>{e=e||"",n=n||"";const r=hR.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=fR.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},hp=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},cl=t=>t==null?void 0:t.replace("_","-"),mR={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let gR=class fp{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||mR,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(he(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new fp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fp(this.logger,e)}};var Zn=new gR;class Td{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class sw extends Td{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var u,h;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):he(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Tu(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!he(r)?l:hp((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),rw(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(he(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Tu(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?iS(l,r,i):l={...l,...r},rw(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var oS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const aS=Symbol("i18next/PATH_KEY");function yR(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===aS?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function pp(t,e){const{[aS]:n}=t(yR());return n.join((e==null?void 0:e.keySeparator)??".")}const iw={},Wh=t=>!he(t)&&typeof t!="boolean"&&typeof t!="number";class Cu extends Td{constructor(e,n={}){super(),iR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if((s==null?void 0:s.res)===void 0)return!1;const i=Wh(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pR(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:he(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:he(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=pp(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const f=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return m?i?{res:`${u}${h}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${h}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const v=this.resolve(e,s);let g=v==null?void 0:v.res;const T=(v==null?void 0:v.usedKey)||a,S=(v==null?void 0:v.exactUsedKey)||a,C=["[object Number]","[object Function]","[object RegExp]"],_=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject,k=s.count!==void 0&&!he(s.count),N=Cu.hasDefaultValue(s),M=k?this.pluralResolver.getSuffix(f,s.count,s):"",E=s.ordinal&&k?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",b=k&&!s.ordinal&&s.count===0,x=b&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${M}`]||s[`defaultValue${E}`]||s.defaultValue;let A=g;I&&!g&&N&&(A=x);const L=Wh(A),O=Object.prototype.toString.apply(A);if(I&&A&&L&&C.indexOf(O)<0&&!(he(_)&&Array.isArray(A))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,A,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(v.res=R,v.usedParams=this.getUsedParamsDetails(s),v):R}if(o){const R=Array.isArray(A),q=R?[]:{},re=R?S:T;for(const ee in A)if(Object.prototype.hasOwnProperty.call(A,ee)){const ae=`${re}${o}${ee}`;N&&!g?q[ee]=this.translate(ae,{...s,defaultValue:Wh(x)?x[ee]:void 0,joinArrays:!1,ns:l}):q[ee]=this.translate(ae,{...s,joinArrays:!1,ns:l}),q[ee]===ae&&(q[ee]=A[ee])}g=q}}else if(I&&he(_)&&Array.isArray(g))g=g.join(_),g&&(g=this.extendTranslation(g,e,s,r));else{let R=!1,q=!1;!this.isValidLookup(g)&&N&&(R=!0,g=x),this.isValidLookup(g)||(q=!0,g=a);const ee=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:g,ae=N&&x!==g&&this.options.updateMissing;if(q||R||ae){if(this.logger.log(ae?"updateKey":"missingKey",f,u,a,ae?x:g),o){const K=this.resolve(a,{...s,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let K=0;K<W.length;K++)U.push(W[K]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(s.lng||this.language):U.push(s.lng||this.language);const G=(K,Z,X)=>{var V;const ie=N&&X!==g?X:ee;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,Z,ie,ae,s):(V=this.backendConnector)!=null&&V.saveMissing&&this.backendConnector.saveMissing(K,u,Z,ie,ae,s),this.emit("missingKey",K,u,Z,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?U.forEach(K=>{const Z=this.pluralResolver.getSuffixes(K,s);b&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(X=>{G([K],a+X,s[`defaultValue${X}`]||x)})}):G(U,a,x))}g=this.extendTranslation(g,e,s,v,r),q&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${u}${h}${a}`),(q||R)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${a}`:a,R?g:void 0,s))}return i?(v.res=g,v.usedParams=this.getUsedParamsDetails(s),v):g}extendTranslation(e,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=he(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let m=r.replace&&!he(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,r.lng||this.language||s.usedLng,r),h){const v=e.match(this.interpolator.nestingRegexp),g=v&&v.length;f<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>(i==null?void 0:i[0])===v[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=he(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=oS.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return he(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),h=u.key;s=h;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const m=n.count!==void 0&&!he(n.count),v=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(he(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(S=>{var C,_;this.isValidLookup(r)||(a=S,!iw[`${T[0]}-${S}`]&&((C=this.utils)!=null&&C.hasLoadedNamespace)&&!((_=this.utils)!=null&&_.hasLoadedNamespace(a))&&(iw[`${T[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${T.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(I=>{var M;if(this.isValidLookup(r))return;o=I;const k=[h];if((M=this.i18nFormat)!=null&&M.addLookupKeys)this.i18nFormat.addLookupKeys(k,h,I,S,n);else{let E;m&&(E=this.pluralResolver.getSuffix(I,n.count,n));const b=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&E.indexOf(x)===0&&k.push(h+E.replace(x,this.options.pluralSeparator)),k.push(h+E),v&&k.push(h+b)),g){const A=`${h}${this.options.contextSeparator||"_"}${n.context}`;k.push(A),m&&(n.ordinal&&E.indexOf(x)===0&&k.push(A+E.replace(x,this.options.pluralSeparator)),k.push(A+E),v&&k.push(A+b))}}let N;for(;N=k.pop();)this.isValidLookup(r)||(i=N,r=this.getResource(I,S,N,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!he(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class ow{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zn.create("languageUtils")}getScriptPartFromCode(e){if(e=cl(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=cl(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(he(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),he(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return he(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):he(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const aw={zero:0,one:1,two:2,few:3,many:4,other:5},lw={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vR{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Zn.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=cl(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),lw;if(!e.match(/-|_/))return lw;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>aw[s]-aw[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const cw=(t,e,n,r=".",s=!0)=>{let i=lR(t,e,n);return!i&&s&&he(n)&&(i=hp(t,n,r),i===void 0&&(i=hp(e,n,r))),i},qh=t=>t.replace(/\$/g,"$$$$");class wR{constructor(e={}){var n;this.logger=Zn.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:f,nestingPrefix:m,nestingPrefixEscaped:v,nestingSuffix:g,nestingSuffixEscaped:T,nestingOptionsSeparator:S,maxReplaces:C,alwaysFormat:_}=e.interpolation;this.escape=n!==void 0?n:uR,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Di(i):o||"{{",this.suffix=a?Di(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=m?Di(m):v||Di("$t("),this.nestingSuffix=g?Di(g):T||Di(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=C||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var v;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const _=cw(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...s,...n,interpolationkey:g}):_}const T=g.split(this.formatSeparator),S=T.shift().trim(),C=T.join(this.formatSeparator).trim();return this.format(cw(n,l,S,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...s,...n,interpolationkey:S})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((v=s==null?void 0:s.interpolation)==null?void 0:v.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>qh(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?qh(this.escape(g)):qh(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const T=i[1].trim();if(o=u(T),o===void 0)if(typeof h=="function"){const C=h(e,i,s);o=he(C)?C:""}else if(s&&Object.prototype.hasOwnProperty.call(s,T))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),o="";else!he(o)&&!this.useRawValueToEscape&&(o=ew(o));const S=g.safeValue(o);if(e=e.replace(i[0],S),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const f=l.split(new RegExp(`${h}[ ]*{`));let m=`{${f[1]}`;l=f[0],m=this.interpolate(m,o);const v=m.match(/'/g),g=m.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),u&&(o={...u,...o})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,T),`${l}${h}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!he(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!he(i))return i;he(i)||(i=ew(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((h,f)=>this.format(h,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const _R=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=a.trim();n[h]||(n[h]=u),u==="false"&&(n[h]=!1),u==="true"&&(n[h]=!0),isNaN(u)||(n[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},uw=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(cl(r),s),e[o]=a),a(n)}},xR=t=>(e,n,r)=>t(cl(n),r)(e);class bR{constructor(e={}){this.logger=Zn.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?uw:xR;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=uw(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var f;const{formatName:u,formatOptions:h}=_R(l);if(this.formats[u]){let m=a;try{const v=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},g=v.locale||v.lng||s.locale||s.lng||r;m=this.formats[u](a,g,{...h,...s,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const ER=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class SR extends Td{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Zn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let h=!0;n.forEach(f=>{const m=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,h=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),l[f]===void 0&&(l[f]=!0)))}),h||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{aR(l.loaded,[i],o),ER(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const h=l.loaded[u];h.length&&h.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,h)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();he(e)&&(e=this.languageUtils.toResolveHierarchy(e)),he(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,u,h,f,m;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(h=this.services)==null?void 0:h.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const v={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let T;g.length===5?T=g(e,n,r,s,v):T=g(e,n,r,s),T&&typeof T.then=="function"?T.then(S=>a(null,S)).catch(a):a(null,T)}catch(T){a(T)}else g(e,n,r,s,a,v)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const dw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),he(t[1])&&(e.defaultValue=t[1]),he(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),hw=t=>{var e,n;return he(t.ns)&&(t.ns=[t.ns]),he(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),he(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},gc=()=>{},TR=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ul extends Td{constructor(e={},n){if(super(),this.options=hw(e),this.services={},this.logger=Zn,this.modules={external:[]},TR(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(he(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=dw();this.options={...r,...this.options,...hw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Zn.init(s(this.modules.logger),this.options):Zn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=bR;const h=new ow(this.options);this.store=new sw(this.options.resources,this.options);const f=this.services;f.logger=Zn,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new vR(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new wR(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new SR(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...g)=>{this.emit(v,...g)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Cu(this.services,this.options),this.translator.on("*",(v,...g)=>{this.emit(v,...g)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=gc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const a=ha(),l=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(h,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=gc){var i,o;let r=n;const s=he(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>l(h)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const s=ha();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=gc),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&oS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=ha();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var h,f;!e&&!a&&this.services.languageDetector&&(a=[]);const l=he(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(he(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(f=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||f.call(h,u)),this.loadResources(u,m=>{i(m,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(i)?h=i.map(f=>(typeof f=="function"&&(f=pp(f,{...this.options,...o})),`${l.keyPrefix}${u}${f}`)):(typeof i=="function"&&(i=pp(i,{...this.options,...o})),h=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(h,l)};return he(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=ha();return this.options.ns?(he(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ha();he(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new ow(dw());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new ul(e,n)}cloneInstance(e={},n=gc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new ul(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((h,f)=>(h[f]={...l[u][f]},h),l[u]),l),{});i.store=new sw(a,s),i.services.resourceStore=i.store}return i.translator=new Cu(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const jt=ul.createInstance();jt.createInstance=ul.createInstance;jt.createInstance;jt.dir;jt.init;jt.loadResources;jt.reloadResources;jt.use;jt.changeLanguage;jt.getFixedT;jt.t;jt.exists;jt.setDefaultNamespace;jt.hasLoadedNamespace;jt.loadNamespaces;jt.loadLanguages;const CR=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);oi(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},fw={},mp=(t,e,n,r)=>{oi(n)&&fw[n]||(oi(n)&&(fw[n]=new Date),CR(t,e,n,r))},lS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},gp=(t,e,n)=>{t.loadNamespaces(e,lS(t,n))},pw=(t,e,n,r)=>{if(oi(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return gp(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,lS(t,r))},IR=(t,e,n={})=>!e.languages||!e.languages.length?(mp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),oi=t=>typeof t=="string",PR=t=>typeof t=="object"&&t!==null,AR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},kR=t=>RR[t],LR=t=>t.replace(AR,kR);let yp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:LR};const NR=(t={})=>{yp={...yp,...t}},OR=()=>yp;let cS;const MR=t=>{cS=t},DR=()=>cS,$R={type:"3rdParty",init(t){NR(t.options.react),MR(t)}},jR=y.createContext();class FR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const VR=(t,e)=>{const n=y.useRef();return y.useEffect(()=>{n.current=t},[t,e]),n.current},uS=(t,e,n,r)=>t.getFixedT(e,n,r),UR=(t,e,n,r)=>y.useCallback(uS(t,e,n,r),[t,e,n,r]),Ar=(t,e={})=>{var k,N,M,E;const{i18n:n}=e,{i18n:r,defaultNS:s}=y.useContext(jR)||{},i=n||r||DR();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new FR),!i){mp(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const b=(A,L)=>oi(L)?L:PR(L)&&oi(L.defaultValue)?L.defaultValue:Array.isArray(A)?A[A.length-1]:A,x=[b,{},!1];return x.t=b,x.i18n={},x.ready=!1,x}(k=i.options.react)!=null&&k.wait&&mp(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...OR(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||((N=i.options)==null?void 0:N.defaultNS);u=oi(u)?[u]:u||["translation"],(E=(M=i.reportNamespaces).addUsedNamespaces)==null||E.call(M,u);const h=(i.isInitialized||i.initializedStoreOnce)&&u.every(b=>IR(b,i,o)),f=UR(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),m=()=>f,v=()=>uS(i,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[g,T]=y.useState(m);let S=u.join();e.lng&&(S=`${e.lng}${S}`);const C=VR(S),_=y.useRef(!0);y.useEffect(()=>{const{bindI18n:b,bindI18nStore:x}=o;_.current=!0,!h&&!a&&(e.lng?pw(i,e.lng,u,()=>{_.current&&T(v)}):gp(i,u,()=>{_.current&&T(v)})),h&&C&&C!==S&&_.current&&T(v);const A=()=>{_.current&&T(v)};return b&&(i==null||i.on(b,A)),x&&(i==null||i.store.on(x,A)),()=>{_.current=!1,i&&b&&(b==null||b.split(" ").forEach(L=>i.off(L,A))),x&&i&&x.split(" ").forEach(L=>i.store.off(L,A))}},[i,S]),y.useEffect(()=>{_.current&&h&&T(m)},[i,l,h]);const I=[g,i,h];if(I.t=g,I.i18n=i,I.ready=h,h||!h&&!a)return I;throw new Promise(b=>{e.lng?pw(i,e.lng,u,()=>b()):gp(i,u,()=>b())})},BR=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new HR;const m=i<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(t){const e=dS(t);return hS.encodeByteArray(e,!0)},Iu=function(t){return WR(t).replace(/\./g,"")},fS=function(t){try{return hS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=()=>qR().__FIREBASE_DEFAULTS__,KR=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fS(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return BR()||GR()||KR()||QR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pS=t=>{var e,n;return(n=(e=Cd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},mS=t=>{const e=pS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gS=()=>{var t;return(t=Cd())==null?void 0:t.config},yS=t=>{var e;return(e=Cd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Iu(JSON.stringify(n)),Iu(JSON.stringify(o)),""].join(".")}const $a={};function JR(){const t={prod:[],emulator:[]};for(const e of Object.keys($a))$a[e]?t.emulator.push(e):t.prod.push(e);return t}function ZR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gw=!1;function Zm(t,e){if(typeof window>"u"||typeof document>"u"||!As(window.location.host)||$a[t]===e||$a[t]||gw)return;$a[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=JR().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gw=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=ZR(r),v=n("text"),g=document.getElementById(v)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),C=n("preprendIcon"),_=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),h(S,T);const k=u();l(_,C),I.append(_,g,S,k),document.body.appendChild(I)}i?(g.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function ek(){var e;const t=(e=Cd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class Tn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ok,Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ak(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Tn(s,a,r)}}function ak(t,e){return t.replace(lk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lk=/\{\$([^}]+)}/g;function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yw(i)&&yw(o)){if(!ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uk(t,e){const n=new dk(t,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gh),s.error===void 0&&(s.error=Gh),s.complete===void 0&&(s.complete=Gh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,pk=2,mk=4*60*60*1e3,gk=.5;function vw(t,e=fk,n=pk){const r=e*Math.pow(n,t),s=Math.round(gk*r*(Math.random()-.5)*2);return Math.min(mk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(t){return t===Ys?void 0:t}function wk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const xk={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},bk=Te.INFO,Ek={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Sk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Ek[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Id{constructor(e){this.name=e,this._logLevel=bk,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const Tk=(t,e)=>e.some(n=>t instanceof n);let ww,_w;function Ck(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bS=new WeakMap,vp=new WeakMap,ES=new WeakMap,Kh=new WeakMap,Xm=new WeakMap;function Pk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bS.set(n,t)}).catch(()=>{}),Xm.set(e,t),e}function Ak(t){if(vp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vp.set(t,e)}let wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ES.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rk(t){wp=t(wp)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qh(this),e,...n);return ES.set(r,e.sort?e.sort():[e]),hs(r)}:Ik().includes(t)?function(...e){return t.apply(Qh(this),e),hs(bS.get(this))}:function(...e){return hs(t.apply(Qh(this),e))}}function Lk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Ak(t),Tk(t,Ck())?new Proxy(t,wp):t)}function hs(t){if(t instanceof IDBRequest)return Pk(t);if(Kh.has(t))return Kh.get(t);const e=Lk(t);return e!==t&&(Kh.set(t,e),Xm.set(e,t)),e}const Qh=t=>Xm.get(t);function SS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hs(o.result),l.oldVersion,l.newVersion,hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Nk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Yh=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ok.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Nk.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Yh.set(e,i),i}Rk(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",bw="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Id("@firebase/app"),$k="@firebase/app-compat",jk="@firebase/analytics-compat",Fk="@firebase/analytics",Vk="@firebase/app-check-compat",Uk="@firebase/app-check",Bk="@firebase/auth",zk="@firebase/auth-compat",Hk="@firebase/database",Wk="@firebase/data-connect",qk="@firebase/database-compat",Gk="@firebase/functions",Kk="@firebase/functions-compat",Qk="@firebase/installations",Yk="@firebase/installations-compat",Jk="@firebase/messaging",Zk="@firebase/messaging-compat",Xk="@firebase/performance",eL="@firebase/performance-compat",tL="@firebase/remote-config",nL="@firebase/remote-config-compat",rL="@firebase/storage",sL="@firebase/storage-compat",iL="@firebase/firestore",oL="@firebase/ai",aL="@firebase/firestore-compat",lL="firebase",cL="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",uL={[_p]:"fire-core",[$k]:"fire-core-compat",[Fk]:"fire-analytics",[jk]:"fire-analytics-compat",[Uk]:"fire-app-check",[Vk]:"fire-app-check-compat",[Bk]:"fire-auth",[zk]:"fire-auth-compat",[Hk]:"fire-rtdb",[Wk]:"fire-data-connect",[qk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Kk]:"fire-fn-compat",[Qk]:"fire-iid",[Yk]:"fire-iid-compat",[Jk]:"fire-fcm",[Zk]:"fire-fcm-compat",[Xk]:"fire-perf",[eL]:"fire-perf-compat",[tL]:"fire-rc",[nL]:"fire-rc-compat",[rL]:"fire-gcs",[sL]:"fire-gcs-compat",[iL]:"fire-fst",[aL]:"fire-fst-compat",[oL]:"fire-vertex","fire-js":"fire-js",[lL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,dL=new Map,bp=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(bp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,t);for(const n of Pu.values())Ew(n,t);for(const n of dL.values())Ew(n,t);return!0}function Rs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Ti("app","Firebase",hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=cL;function TS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(n||(n=gS()),!n)throw fs.create("no-options");const i=Pu.get(s);if(i){if(ws(n,i.options)&&ws(r,i.config))return i;throw fs.create("duplicate-app",{appName:s})}const o=new _k(s);for(const l of bp.values())o.addComponent(l);const a=new fL(n,r,o);return Pu.set(s,a),a}function Pd(t=xp){const e=Pu.get(t);if(!e&&t===xp&&gS())return TS();if(!e)throw fs.create("no-app",{appName:t});return e}function Xt(t,e,n){let r=uL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(o.join(" "));return}Dn(new Sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebase-heartbeat-database",mL=1,dl="firebase-heartbeat-store";let Jh=null;function CS(){return Jh||(Jh=SS(pL,mL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function gL(t){try{const n=(await CS()).transaction(dl),r=await n.objectStore(dl).get(IS(t));return await n.done,r}catch(e){if(e instanceof Tn)Sr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Sw(t,e){try{const r=(await CS()).transaction(dl,"readwrite");await r.objectStore(dl).put(e,IS(t)),await r.done}catch(n){if(n instanceof Tn)Sr.warn(n.message);else{const r=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function IS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1024,vL=30;class wL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>vL){const o=bL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tw(),{heartbeatsToSend:r,unsentEntries:s}=_L(this._heartbeatsCache.heartbeats),i=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function _L(t,e=yL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Cw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cw(t){return Iu(JSON.stringify({version:2,heartbeats:t})).length}function bL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){Dn(new Sn("platform-logger",e=>new Mk(e),"PRIVATE")),Dn(new Sn("heartbeat",e=>new wL(e),"PRIVATE")),Xt(_p,bw,t),Xt(_p,bw,"esm2020"),Xt("fire-js","")}EL("");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SL=PS,AS=new Ti("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Id("@firebase/auth");function TL(t,...e){Au.logLevel<=Te.WARN&&Au.warn(`Auth (${Ci}): ${t}`,...e)}function Uc(t,...e){Au.logLevel<=Te.ERROR&&Au.error(`Auth (${Ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,...e){throw eg(t,...e)}function tr(t,...e){return eg(t,...e)}function RS(t,e,n){const r={...SL(),[e]:n};return new Ti("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return RS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AS.create(t,...e)}function ce(t,e,...n){if(!t)throw eg(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function Tr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function CL(){return Iw()==="http:"||Iw()==="https:"}function Iw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CL()||wS()||"connection"in navigator)?navigator.onLine:!0}function PL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=XR()||nk()}get(){return IL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){Tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kL=new Pl(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ls(t,e,n,r,s={}){return LS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Il({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return tk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&As(t.emulatorConfig.host)&&(u.credentials="include"),kS.fetch()(await NS(t,t.config.apiHost,n,a),u)})}async function LS(t,e,n){t._canInitEmulator=!1;const r={...AL,...e};try{const s=new NL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RS(t,h,u);$n(t,h)}}catch(s){if(s instanceof Tn)throw s;$n(t,"network-request-failed",{message:String(s)})}}async function Al(t,e,n,r,s={}){const i=await Ls(t,e,n,r,s);return"mfaPendingCredential"in i&&$n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function NS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?tg(t.config,s):`${t.config.apiScheme}://${s}`;return RL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function LL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),kL.get())})}}function yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tr(t,e,r);return s.customData._tokenResponse=n,s}function Pw(t){return t!==void 0&&t.enterprise!==void 0}class OL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ML(t,e){return Ls(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Ru(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $L(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=ng(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ja(Zh(s.auth_time)),issuedAtTime:ja(Zh(s.iat)),expirationTime:ja(Zh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Zh(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const s=fS(n);return s?JSON.parse(s):(Uc("Failed to decode base64 JWT payload"),null)}catch(s){return Uc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Aw(t){const e=ng(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tn&&jL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){var f;const e=t.auth,n=await t.getIdToken(),r=await hl(t,Ru(e,{idToken:n}));ce(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?OS(s.providerUserInfo):[],o=UL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function VL(t){const e=We(t);await ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){const n=await LS(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await NS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&As(t.emulatorConfig.host)&&(l.credentials="include"),kS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zL(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new FL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $L(this,e)}reload(){return VL(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await hl(this,DL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:g,stsTokenManager:T}=n;ce(f&&T,e,"internal-error");const S=lo.fromJSON(this.name,T);ce(typeof f=="string",e,"internal-error"),Ur(r,e.name),Ur(s,e.name),ce(typeof m=="boolean",e,"internal-error"),ce(typeof v=="boolean",e,"internal-error"),Ur(i,e.name),Ur(o,e.name),Ur(a,e.name),Ur(l,e.name),Ur(u,e.name),Ur(h,e.name);const C=new kn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(C.providerData=g.map(_=>({..._}))),l&&(C._redirectEventId=l),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new lo;s.updateFromServerResponse(n);const i=new kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ku(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new lo;a.updateFromIdToken(r);const l=new kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Sp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;function yr(t){Tr(t instanceof Function,"Expected a class definition");let e=Rw.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MS.type="NONE";const kw=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t,e,n){return`firebase:${t}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ru(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(yr(kw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||yr(kw);const o=Bc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Ru(e,{idToken:h}).catch(()=>{});if(!m)break;f=await kn._fromGetAccountInfoResponse(e,m,h)}else f=kn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new co(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new co(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(BS(e))return"Webos";if($S(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DS(t=$t()){return/firefox\//i.test(t)}function $S(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=$t()){return/crios\//i.test(t)}function FS(t=$t()){return/iemobile/i.test(t)}function VS(t=$t()){return/android/i.test(t)}function US(t=$t()){return/blackberry/i.test(t)}function BS(t=$t()){return/webos/i.test(t)}function rg(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HL(t=$t()){var e;return rg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function WL(){return rk()&&document.documentMode===10}function zS(t=$t()){return rg(t)||VS(t)||BS(t)||US(t)||/windows phone/i.test(t)||FS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e=[]){let n;switch(t){case"Browser":n=Lw($t());break;case"Worker":n=`${Lw($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ci}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=6;class QL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nw(this),this.idTokenSubscription=new Nw(this),this.beforeStateQueue=new qL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ru(this,{idToken:e}),r=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(wr(this));const n=e?We(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GL(this),n=new QL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ti("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ii(t){return We(t)}class Nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JL(t){Ad=t}function WS(t){return Ad.loadJS(t)}function ZL(){return Ad.recaptchaEnterpriseScript}function XL(){return Ad.gapiScript}function eN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tN{constructor(){this.enterprise=new nN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rN="recaptcha-enterprise",qS="NO_RECAPTCHA";class sN{constructor(e){this.type=rN,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ML(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OL(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Pw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(qS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tN().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Pw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZL();l.length!==0&&(l+=a),WS(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ow(t,e,n,r=!1,s=!1){const i=new sN(t);let o;if(s)o=qS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Tp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ow(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ow(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){const n=Rs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ws(i,e??{}))return s;$n(s,"already-initialized")}return n.initialize({options:e})}function oN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aN(t,e,n){const r=Ii(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GS(e),{host:o,port:a}=lN(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(ws(u,r.config.emulator)&&ws(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,As(o)?(Jm(`${i}//${o}${l}`),Zm("Auth",!0)):cN()}function GS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lN(t){const e=GS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Mw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Mw(o)}}}function Mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function uN(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){return Al(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function fN(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends sg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,n,"signInWithPassword",dN);case"emailLink":return hN(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,r,"signUpPassword",uN);case"emailLink":return fN(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return Al(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="http://localhost";class pi extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new pi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:pN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gN(t){const e=ba(Ea(t)).link,n=e?ba(Ea(e)).deep_link_id:null,r=ba(Ea(t)).deep_link_id;return(r?ba(Ea(r)).link:null)||r||n||e||t}class ig{constructor(e){const n=ba(Ea(e)),r=n.apiKey??null,s=n.oobCode??null,i=mN(n.mode??null);ce(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gN(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ig.parseLink(n);return ce(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Rl{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Rl{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Rl{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){return Al(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kn._fromIdTokenResponse(e,r,s),o=Dw(r);return new mi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Dw(r);return new mi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Tn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Lu(e,n,r,s)}}function QS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Lu._fromErrorAndOperation(t,i,e,r):i})}async function vN(t,e,n=!1){const r=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(wr(r));const s="reauthenticate";try{const i=await hl(t,QS(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=ng(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),mi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){if(on(t.app))return Promise.reject(wr(t));const r="signIn",s=await QS(t,r,e),i=await mi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _N(t,e){return YS(Ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t){const e=Ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xN(t,e,n){if(on(t.app))return Promise.reject(wr(t));const r=Ii(t),o=await Tp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JS(t),l}),a=await mi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function bN(t,e,n){return on(t.app)?Promise.reject(wr(t)):_N(We(t),Do.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JS(t),r})}function EN(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function SN(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function TN(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function CN(t){return We(t).signOut()}const Nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1e3,PN=10;class XS extends ZS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);WL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const AN=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends ZS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await RN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=og("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function LN(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function MN(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",DN=1,Ou="firebaseLocalStorage",sT="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(t,e){return t.transaction([Ou],e?"readwrite":"readonly").objectStore(Ou)}function $N(){const t=indexedDB.deleteDatabase(rT);return new kl(t).toPromise()}function Cp(){const t=indexedDB.open(rT,DN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ou,{keyPath:sT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ou)?e(r):(r.close(),await $N(),e(await Cp()))})})}async function $w(t,e,n){const r=kd(t,!0).put({[sT]:e,value:n});return new kl(r).toPromise()}async function jN(t,e){const n=kd(t,!1).get(e),r=await new kl(n).toPromise();return r===void 0?null:r.value}function jw(t,e){const n=kd(t,!0).delete(e);return new kl(n).toPromise()}const FN=800,VN=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(MN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await $w(e,Nu,"1"),await jw(e,Nu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$w(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kd(s,!1).getAll();return new kl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const UN=iT;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e){return e?yr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zN(t){return YS(t.auth,new ag(t),t.bypassAuthState)}function HN(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),wN(n,new ag(t),t.bypassAuthState)}async function WN(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),vN(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:$n(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Pl(2e3,1e4);class to extends oT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qN.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",zc=new Map;class KN extends oT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const r=await QN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(t,e){const n=ZN(e),r=JN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YN(t,e){zc.set(t._key(),e)}function JN(t){return yr(t._redirectPersistence)}function ZN(t){return Bc(GN,t.config.apiKey,t.name)}async function XN(t,e,n=!1){if(on(t.app))return Promise.reject(wr(t));const r=Ii(t),s=BN(r,e),o=await new KN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=10*60*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function o2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r2(t);for(const n of e)try{if(a2(n))return}catch{}$n(t,"unauthorized-domain")}function a2(t){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i2.test(n))return!1;if(s2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Pl(3e4,6e4);function Vw(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c2(t){return new Promise((e,n)=>{var s,i,o;function r(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),n(tr(t,"network-request-failed"))},timeout:l2.get()})}if((i=(s=nr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=nr().gapi)!=null&&o.load)r();else{const a=eN("iframefcb");return nr()[a]=()=>{gapi.load?r():n(tr(t,"network-request-failed"))},WS(`${XL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function u2(t){return Hc=Hc||c2(t),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Pl(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,f2):`https://${t.config.authDomain}/${h2}`,r={apiKey:e.apiKey,appName:t.name,v:Ci},s=m2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Il(r).slice(1)}`}async function y2(t){const e=await u2(t),n=nr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:g2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=nr().setTimeout(()=>{i(o)},d2.get());function l(){nr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w2=500,_2=600,x2="_blank",b2="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E2(t,e,n,r=w2,s=_2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...v2,width:r.toString(),height:s.toString(),top:i,left:o},u=$t().toLowerCase();n&&(a=jS(u)?x2:n),DS(u)&&(e=e||b2,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[v,g])=>`${m}${v}=${g},`,"");if(HL(u)&&a!=="_self")return S2(e||"",a),new Uw(null);const f=window.open(e||"",a,h);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new Uw(f)}function S2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="__/auth/handler",C2="emulator/auth/handler",I2=encodeURIComponent("fac");async function Bw(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ci,eventId:s};if(e instanceof KS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ck(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Rl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${I2}=${encodeURIComponent(l)}`:"";return`${P2(t)}?${Il(a).slice(1)}${u}`}function P2({config:t}){return t.emulator?tg(t,C2):`https://${t.authDomain}/${T2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=XN,this._overrideRedirectResult=YN}async _openPopup(e,n,r,s){var o;Tr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Bw(e,n,r,Ep(),s);return E2(e,i,og())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bw(e,n,r,Ep(),s);return LN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Tr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y2(e),r=new t2(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xh,{type:Xh},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Xh];i!==void 0&&n(!!i),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||$S()||rg()}}const R2=A2;var zw="@firebase/auth",Hw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N2(t){Dn(new Sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HS(t)},u=new YL(r,s,i,l);return oN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new Sn("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new k2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(zw,Hw,L2(t)),Xt(zw,Hw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=5*60,M2=yS("authIdTokenMaxAge")||O2;let Ww=null;const D2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M2)return;const s=n==null?void 0:n.token;Ww!==s&&(Ww=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $2(t=Pd()){const e=Rs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iN(t,{popupRedirectResolver:R2,persistence:[UN,AN,tT]}),r=yS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=D2(i.toString());SN(n,o,()=>o(n.currentUser)),EN(n,a=>o(a))}}const s=pS("auth");return s&&aN(n,`http://${s}`),n}function j2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}JL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=tr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",j2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N2("Browser");var F2="firebase",V2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt(F2,V2,"app");const lT="@firebase/installations",lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=1e4,uT=`w:${lg}`,dT="FIS_v2",U2="https://firebaseinstallations.googleapis.com/v1",B2=60*60*1e3,z2="installations",H2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gi=new Ti(z2,H2,W2);function hT(t){return t instanceof Tn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT({projectId:t}){return`${U2}/projects/${t}/installations`}function pT(t){return{token:t.token,requestStatus:2,expiresIn:G2(t.expiresIn),creationTime:Date.now()}}async function mT(t,e){const r=(await e.json()).error;return gi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q2(t,{refreshToken:e}){const n=gT(t);return n.append("Authorization",K2(e)),n}async function yT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function G2(t){return Number(t.replace("s","000"))}function K2(t){return`${dT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fT(t),s=gT(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:dT,appId:t.appId,sdkVersion:uT},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await yT(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:pT(u.authToken)}}else throw await mT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^[cdef][\w-]{21}$/,Ip="";function Z2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=X2(t);return J2.test(n)?n:Ip}catch{return Ip}}function X2(t){return Y2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;function _T(t,e){const n=Ld(t);xT(n,e),eO(n,e)}function xT(t,e){const n=wT.get(t);if(n)for(const r of n)r(e)}function eO(t,e){const n=tO();n&&n.postMessage({key:t,fid:e}),nO()}let ei=null;function tO(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=t=>{xT(t.data.key,t.data.fid)}),ei}function nO(){wT.size===0&&ei&&(ei.close(),ei=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firebase-installations-database",sO=1,yi="firebase-installations-store";let ef=null;function cg(){return ef||(ef=SS(rO,sO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yi)}}})),ef}async function Mu(t,e){const n=Ld(t),s=(await cg()).transaction(yi,"readwrite"),i=s.objectStore(yi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&_T(t,e.fid),e}async function bT(t){const e=Ld(t),r=(await cg()).transaction(yi,"readwrite");await r.objectStore(yi).delete(e),await r.done}async function Nd(t,e){const n=Ld(t),s=(await cg()).transaction(yi,"readwrite"),i=s.objectStore(yi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&_T(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(t){let e;const n=await Nd(t.appConfig,r=>{const s=iO(r),i=oO(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ip?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iO(t){const e=t||{fid:Z2(),registrationStatus:0};return ET(e)}function oO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(gi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lO(t)}:{installationEntry:e}}async function aO(t,e){try{const n=await Q2(t,e);return Mu(t.appConfig,n)}catch(n){throw hT(n)&&n.customData.serverCode===409?await bT(t.appConfig):await Mu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function lO(t){let e=await qw(t.appConfig);for(;e.registrationStatus===1;)await vT(100),e=await qw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ug(t);return r||n}return e}function qw(t){return Nd(t,e=>{if(!e)throw gi.create("installation-not-found");return ET(e)})}function ET(t){return cO(t)?{fid:t.fid,registrationStatus:0}:t}function cO(t){return t.registrationStatus===1&&t.registrationTime+cT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO({appConfig:t,heartbeatServiceProvider:e},n){const r=dO(t,n),s=q2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:uT,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await yT(()=>fetch(r,a));if(l.ok){const u=await l.json();return pT(u)}else throw await mT("Generate Auth Token",l)}function dO(t,{fid:e}){return`${fT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(t,e=!1){let n;const r=await Nd(t.appConfig,i=>{if(!ST(i))throw gi.create("not-registered");const o=i.authToken;if(!e&&pO(o))return i;if(o.requestStatus===1)return n=hO(t,e),i;{if(!navigator.onLine)throw gi.create("app-offline");const a=gO(i);return n=fO(t,a),a}});return n?await n:r.authToken}async function hO(t,e){let n=await Gw(t.appConfig);for(;n.authToken.requestStatus===1;)await vT(100),n=await Gw(t.appConfig);const r=n.authToken;return r.requestStatus===0?dg(t,e):r}function Gw(t){return Nd(t,e=>{if(!ST(e))throw gi.create("not-registered");const n=e.authToken;return yO(n)?{...e,authToken:{requestStatus:0}}:e})}async function fO(t,e){try{const n=await uO(t,e),r={...e,authToken:n};return await Mu(t.appConfig,r),n}catch(n){if(hT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mu(t.appConfig,r)}throw n}}function ST(t){return t!==void 0&&t.registrationStatus===2}function pO(t){return t.requestStatus===2&&!mO(t)}function mO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+B2}function gO(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function yO(t){return t.requestStatus===1&&t.requestTime+cT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t){const e=t,{installationEntry:n,registrationPromise:r}=await ug(e);return r?r.catch(console.error):dg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e=!1){const n=t;return await _O(n),(await dg(n,e)).token}async function _O(t){const{registrationPromise:e}=await ug(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){if(!t||!t.options)throw tf("App Configuration");if(!t.name)throw tf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tf(t){return gi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="installations",bO="installations-internal",EO=t=>{const e=t.getProvider("app").getImmediate(),n=xO(e),r=Rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},SO=t=>{const e=t.getProvider("app").getImmediate(),n=Rs(e,TT).getImmediate();return{getId:()=>vO(n),getToken:s=>wO(n,s)}};function TO(){Dn(new Sn(TT,EO,"PUBLIC")),Dn(new Sn(bO,SO,"PRIVATE"))}TO();Xt(lT,lg);Xt(lT,lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="analytics",CO="firebase_id",IO="origin",PO=60*1e3,AO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new Id("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new Ti("analytics","Analytics",RO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(!t.startsWith(hg)){const e=dn.create("invalid-gtag-resource",{gtagURL:t});return zt.warn(e.message),""}return t}function CT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function LO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NO(t,e){const n=LO("firebase-js-sdk-policy",{createScriptURL:kO}),r=document.createElement("script"),s=`${hg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function OO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function MO(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await CT(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){zt.error(a)}t("config",s,i)}async function DO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await CT(n);for(const l of o){const u=a.find(f=>f.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){zt.error(i)}}function $O(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await DO(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await MO(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){zt.error(a)}}return s}function jO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=$O(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function FO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(hg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=30,UO=1e3;class BO{constructor(e={},n=UO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IT=new BO;function zO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function HO(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:zO(n)},s=AO.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function WO(t,e=IT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw dn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KO;return setTimeout(async()=>{a.abort()},PO),PT({appId:r,apiKey:s,measurementId:i},o,a,e)}async function PT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=IT){var a;const{appId:i,measurementId:o}=t;try{await qO(r,e)}catch(l){if(o)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await HO(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!GO(u)){if(s.deleteThrottleMetadata(i),o)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?vw(n,s.intervalMillis,VO):vw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),zt.debug(`Calling attemptFetch again in ${h} millis`),PT(t,f,r,s)}}function qO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GO(t){if(!(t instanceof Tn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function QO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function YO(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(){if(_S())try{await xS()}catch(t){return zt.warn(dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zt.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZO(t,e,n,r,s,i,o){const a=WO(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>zt.error(m)),e.push(a);const l=JO().then(m=>{if(m)return r.getId()}),[u,h]=await Promise.all([a,l]);FO(i)||NO(i,u.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[IO]="firebase",f.update=!0,h!=null&&(f[CO]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.app=e}_delete(){return delete ho[this.app.options.appId],Promise.resolve()}}let ho={},Kw=[];const Qw={};let nf="dataLayer",eM="gtag",Yw,fg,Jw=!1;function tM(){const t=[];if(wS()&&t.push("This is a browser extension environment."),ik()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=dn.create("invalid-analytics-context",{errorInfo:e});zt.warn(n.message)}}function nM(t,e,n){tM();const r=t.options.appId;if(!r)throw dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(ho[r]!=null)throw dn.create("already-exists",{id:r});if(!Jw){OO(nf);const{wrappedGtag:i,gtagCore:o}=jO(ho,Kw,Qw,nf,eM);fg=i,Yw=o,Jw=!0}return ho[r]=ZO(t,Kw,Qw,e,Yw,nf,n),new XO(t)}function rM(t=Pd()){t=We(t);const e=Rs(t,Du);return e.isInitialized()?e.getImmediate():sM(t)}function sM(t,e={}){const n=Rs(t,Du);if(n.isInitialized()){const s=n.getImmediate();if(ws(e,n.getOptions()))return s;throw dn.create("already-initialized")}return n.initialize({options:e})}function iM(t,e,n){t=We(t),YO(fg,ho[t.app.options.appId],e,n).catch(r=>zt.error(r))}function oM(t,e,n,r){t=We(t),QO(fg,ho[t.app.options.appId],e,n,r).catch(s=>zt.error(s))}const Zw="@firebase/analytics",Xw="0.10.19";function aM(){Dn(new Sn(Du,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return nM(r,s,n)},"PUBLIC")),Dn(new Sn("analytics-internal",t,"PRIVATE")),Xt(Zw,Xw),Xt(Zw,Xw,"esm2020");function t(e){try{const n=e.getProvider(Du).getImmediate();return{logEvent:(r,s,i)=>oM(n,r,s,i),setUserProperties:(r,s)=>iM(n,r,s)}}catch(n){throw dn.create("interop-component-reg-failed",{reason:n})}}}aM();var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,AT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function x(){}x.prototype=b.prototype,E.F=b.prototype,E.prototype=new x,E.prototype.constructor=E,E.D=function(A,L,O){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return b.prototype[L].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,b,x){x||(x=0);const A=Array(16);if(typeof b=="string")for(var L=0;L<16;++L)A[L]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(L=0;L<16;++L)A[L]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=E.g[0],x=E.g[1],L=E.g[2];let O=E.g[3],R;R=b+(O^x&(L^O))+A[0]+3614090360&4294967295,b=x+(R<<7&4294967295|R>>>25),R=O+(L^b&(x^L))+A[1]+3905402710&4294967295,O=b+(R<<12&4294967295|R>>>20),R=L+(x^O&(b^x))+A[2]+606105819&4294967295,L=O+(R<<17&4294967295|R>>>15),R=x+(b^L&(O^b))+A[3]+3250441966&4294967295,x=L+(R<<22&4294967295|R>>>10),R=b+(O^x&(L^O))+A[4]+4118548399&4294967295,b=x+(R<<7&4294967295|R>>>25),R=O+(L^b&(x^L))+A[5]+1200080426&4294967295,O=b+(R<<12&4294967295|R>>>20),R=L+(x^O&(b^x))+A[6]+2821735955&4294967295,L=O+(R<<17&4294967295|R>>>15),R=x+(b^L&(O^b))+A[7]+4249261313&4294967295,x=L+(R<<22&4294967295|R>>>10),R=b+(O^x&(L^O))+A[8]+1770035416&4294967295,b=x+(R<<7&4294967295|R>>>25),R=O+(L^b&(x^L))+A[9]+2336552879&4294967295,O=b+(R<<12&4294967295|R>>>20),R=L+(x^O&(b^x))+A[10]+4294925233&4294967295,L=O+(R<<17&4294967295|R>>>15),R=x+(b^L&(O^b))+A[11]+2304563134&4294967295,x=L+(R<<22&4294967295|R>>>10),R=b+(O^x&(L^O))+A[12]+1804603682&4294967295,b=x+(R<<7&4294967295|R>>>25),R=O+(L^b&(x^L))+A[13]+4254626195&4294967295,O=b+(R<<12&4294967295|R>>>20),R=L+(x^O&(b^x))+A[14]+2792965006&4294967295,L=O+(R<<17&4294967295|R>>>15),R=x+(b^L&(O^b))+A[15]+1236535329&4294967295,x=L+(R<<22&4294967295|R>>>10),R=b+(L^O&(x^L))+A[1]+4129170786&4294967295,b=x+(R<<5&4294967295|R>>>27),R=O+(x^L&(b^x))+A[6]+3225465664&4294967295,O=b+(R<<9&4294967295|R>>>23),R=L+(b^x&(O^b))+A[11]+643717713&4294967295,L=O+(R<<14&4294967295|R>>>18),R=x+(O^b&(L^O))+A[0]+3921069994&4294967295,x=L+(R<<20&4294967295|R>>>12),R=b+(L^O&(x^L))+A[5]+3593408605&4294967295,b=x+(R<<5&4294967295|R>>>27),R=O+(x^L&(b^x))+A[10]+38016083&4294967295,O=b+(R<<9&4294967295|R>>>23),R=L+(b^x&(O^b))+A[15]+3634488961&4294967295,L=O+(R<<14&4294967295|R>>>18),R=x+(O^b&(L^O))+A[4]+3889429448&4294967295,x=L+(R<<20&4294967295|R>>>12),R=b+(L^O&(x^L))+A[9]+568446438&4294967295,b=x+(R<<5&4294967295|R>>>27),R=O+(x^L&(b^x))+A[14]+3275163606&4294967295,O=b+(R<<9&4294967295|R>>>23),R=L+(b^x&(O^b))+A[3]+4107603335&4294967295,L=O+(R<<14&4294967295|R>>>18),R=x+(O^b&(L^O))+A[8]+1163531501&4294967295,x=L+(R<<20&4294967295|R>>>12),R=b+(L^O&(x^L))+A[13]+2850285829&4294967295,b=x+(R<<5&4294967295|R>>>27),R=O+(x^L&(b^x))+A[2]+4243563512&4294967295,O=b+(R<<9&4294967295|R>>>23),R=L+(b^x&(O^b))+A[7]+1735328473&4294967295,L=O+(R<<14&4294967295|R>>>18),R=x+(O^b&(L^O))+A[12]+2368359562&4294967295,x=L+(R<<20&4294967295|R>>>12),R=b+(x^L^O)+A[5]+4294588738&4294967295,b=x+(R<<4&4294967295|R>>>28),R=O+(b^x^L)+A[8]+2272392833&4294967295,O=b+(R<<11&4294967295|R>>>21),R=L+(O^b^x)+A[11]+1839030562&4294967295,L=O+(R<<16&4294967295|R>>>16),R=x+(L^O^b)+A[14]+4259657740&4294967295,x=L+(R<<23&4294967295|R>>>9),R=b+(x^L^O)+A[1]+2763975236&4294967295,b=x+(R<<4&4294967295|R>>>28),R=O+(b^x^L)+A[4]+1272893353&4294967295,O=b+(R<<11&4294967295|R>>>21),R=L+(O^b^x)+A[7]+4139469664&4294967295,L=O+(R<<16&4294967295|R>>>16),R=x+(L^O^b)+A[10]+3200236656&4294967295,x=L+(R<<23&4294967295|R>>>9),R=b+(x^L^O)+A[13]+681279174&4294967295,b=x+(R<<4&4294967295|R>>>28),R=O+(b^x^L)+A[0]+3936430074&4294967295,O=b+(R<<11&4294967295|R>>>21),R=L+(O^b^x)+A[3]+3572445317&4294967295,L=O+(R<<16&4294967295|R>>>16),R=x+(L^O^b)+A[6]+76029189&4294967295,x=L+(R<<23&4294967295|R>>>9),R=b+(x^L^O)+A[9]+3654602809&4294967295,b=x+(R<<4&4294967295|R>>>28),R=O+(b^x^L)+A[12]+3873151461&4294967295,O=b+(R<<11&4294967295|R>>>21),R=L+(O^b^x)+A[15]+530742520&4294967295,L=O+(R<<16&4294967295|R>>>16),R=x+(L^O^b)+A[2]+3299628645&4294967295,x=L+(R<<23&4294967295|R>>>9),R=b+(L^(x|~O))+A[0]+4096336452&4294967295,b=x+(R<<6&4294967295|R>>>26),R=O+(x^(b|~L))+A[7]+1126891415&4294967295,O=b+(R<<10&4294967295|R>>>22),R=L+(b^(O|~x))+A[14]+2878612391&4294967295,L=O+(R<<15&4294967295|R>>>17),R=x+(O^(L|~b))+A[5]+4237533241&4294967295,x=L+(R<<21&4294967295|R>>>11),R=b+(L^(x|~O))+A[12]+1700485571&4294967295,b=x+(R<<6&4294967295|R>>>26),R=O+(x^(b|~L))+A[3]+2399980690&4294967295,O=b+(R<<10&4294967295|R>>>22),R=L+(b^(O|~x))+A[10]+4293915773&4294967295,L=O+(R<<15&4294967295|R>>>17),R=x+(O^(L|~b))+A[1]+2240044497&4294967295,x=L+(R<<21&4294967295|R>>>11),R=b+(L^(x|~O))+A[8]+1873313359&4294967295,b=x+(R<<6&4294967295|R>>>26),R=O+(x^(b|~L))+A[15]+4264355552&4294967295,O=b+(R<<10&4294967295|R>>>22),R=L+(b^(O|~x))+A[6]+2734768916&4294967295,L=O+(R<<15&4294967295|R>>>17),R=x+(O^(L|~b))+A[13]+1309151649&4294967295,x=L+(R<<21&4294967295|R>>>11),R=b+(L^(x|~O))+A[4]+4149444226&4294967295,b=x+(R<<6&4294967295|R>>>26),R=O+(x^(b|~L))+A[11]+3174756917&4294967295,O=b+(R<<10&4294967295|R>>>22),R=L+(b^(O|~x))+A[2]+718787259&4294967295,L=O+(R<<15&4294967295|R>>>17),R=x+(O^(L|~b))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.v=function(E,b){b===void 0&&(b=E.length);const x=b-this.blockSize,A=this.C;let L=this.h,O=0;for(;O<b;){if(L==0)for(;O<=x;)s(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<b;)if(A[L++]=E.charCodeAt(O++),L==this.blockSize){s(this,A),L=0;break}}else for(;O<b;)if(A[L++]=E[O++],L==this.blockSize){s(this,A),L=0;break}}this.h=L,this.o+=b},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;b=this.o*8;for(var x=E.length-8;x<E.length;++x)E[x]=b&255,b/=256;for(this.v(E),E=Array(16),b=0,x=0;x<4;++x)for(let A=0;A<32;A+=8)E[b++]=this.g[x]>>>A&255;return E};function i(E,b){var x=a;return Object.prototype.hasOwnProperty.call(x,E)?x[E]:x[E]=b(E)}function o(E,b){this.h=b;const x=[];let A=!0;for(let L=E.length-1;L>=0;L--){const O=E[L]|0;A&&O==b||(x[L]=O,A=!1)}this.g=x}var a={};function l(E){return-128<=E&&E<128?i(E,function(b){return new o([b|0],b<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return S(u(-E));const b=[];let x=1;for(let A=0;E>=x;A++)b[A]=E/x|0,x*=4294967296;return new o(b,0)}function h(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return S(h(E.substring(1),b));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=u(Math.pow(b,8));let A=f;for(let O=0;O<E.length;O+=8){var L=Math.min(8,E.length-O);const R=parseInt(E.substring(O,O+L),b);L<8?(L=u(Math.pow(b,L)),A=A.j(L).add(u(R))):(A=A.j(x),A=A.add(u(R)))}return A}var f=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();let E=0,b=1;for(let x=0;x<this.g.length;x++){const A=this.i(x);E+=(A>=0?A:4294967296+A)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(T(this))return"-"+S(this).toString(E);const b=u(Math.pow(E,6));var x=this;let A="";for(;;){const L=k(x,b).g;x=C(x,L.j(b));let O=((x.g.length>0?x.g[0]:x.h)>>>0).toString(E);if(x=L,g(x))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(let b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function T(E){return E.h==-1}t.l=function(E){return E=C(this,E),T(E)?-1:g(E)?0:1};function S(E){const b=E.g.length,x=[];for(let A=0;A<b;A++)x[A]=~E.g[A];return new o(x,~E.h).add(m)}t.abs=function(){return T(this)?S(this):this},t.add=function(E){const b=Math.max(this.g.length,E.g.length),x=[];let A=0;for(let L=0;L<=b;L++){let O=A+(this.i(L)&65535)+(E.i(L)&65535),R=(O>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);A=R>>>16,O&=65535,R&=65535,x[L]=R<<16|O}return new o(x,x[x.length-1]&-2147483648?-1:0)};function C(E,b){return E.add(S(b))}t.j=function(E){if(g(this)||g(E))return f;if(T(this))return T(E)?S(this).j(S(E)):S(S(this).j(E));if(T(E))return S(this.j(S(E)));if(this.l(v)<0&&E.l(v)<0)return u(this.m()*E.m());const b=this.g.length+E.g.length,x=[];for(var A=0;A<2*b;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(let L=0;L<E.g.length;L++){const O=this.i(A)>>>16,R=this.i(A)&65535,q=E.i(L)>>>16,re=E.i(L)&65535;x[2*A+2*L]+=R*re,_(x,2*A+2*L),x[2*A+2*L+1]+=O*re,_(x,2*A+2*L+1),x[2*A+2*L+1]+=R*q,_(x,2*A+2*L+1),x[2*A+2*L+2]+=O*q,_(x,2*A+2*L+2)}for(E=0;E<b;E++)x[E]=x[2*E+1]<<16|x[2*E];for(E=b;E<2*b;E++)x[E]=0;return new o(x,0)};function _(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function I(E,b){this.g=E,this.h=b}function k(E,b){if(g(b))throw Error("division by zero");if(g(E))return new I(f,f);if(T(E))return b=k(S(E),b),new I(S(b.g),S(b.h));if(T(b))return b=k(E,S(b)),new I(S(b.g),b.h);if(E.g.length>30){if(T(E)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var x=m,A=b;A.l(E)<=0;)x=N(x),A=N(A);var L=M(x,1),O=M(A,1);for(A=M(A,2),x=M(x,2);!g(A);){var R=O.add(A);R.l(E)<=0&&(L=L.add(x),O=R),A=M(A,1),x=M(x,1)}return b=C(E,L.j(b)),new I(L,b)}for(L=f;E.l(b)>=0;){for(x=Math.max(1,Math.floor(E.m()/b.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=u(x),R=O.j(b);T(R)||R.l(E)>0;)x-=A,O=u(x),R=O.j(b);g(O)&&(O=m),L=L.add(O),E=C(E,R)}return new I(L,E)}t.B=function(E){return k(this,E).h},t.and=function(E){const b=Math.max(this.g.length,E.g.length),x=[];for(let A=0;A<b;A++)x[A]=this.i(A)&E.i(A);return new o(x,this.h&E.h)},t.or=function(E){const b=Math.max(this.g.length,E.g.length),x=[];for(let A=0;A<b;A++)x[A]=this.i(A)|E.i(A);return new o(x,this.h|E.h)},t.xor=function(E){const b=Math.max(this.g.length,E.g.length),x=[];for(let A=0;A<b;A++)x[A]=this.i(A)^E.i(A);return new o(x,this.h^E.h)};function N(E){const b=E.g.length+1,x=[];for(let A=0;A<b;A++)x[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(x,E.h)}function M(E,b){const x=b>>5;b%=32;const A=E.g.length-x,L=[];for(let O=0;O<A;O++)L[O]=b>0?E.i(O+x)>>>b|E.i(O+x+1)<<32-b:E.i(O+x);return new o(L,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ps=o}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,Sa,kT,Wc,Pp,LT,NT,OT;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var p=0;p<c.length;++p){var w=c[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var w=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var D=c[P];if(!(D in w))break e;w=w[D]}c=c[c.length-1],P=w[c],p=p(P),p!=P&&p!=null&&e(w,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var w=[],P;for(P in p)Object.prototype.hasOwnProperty.call(p,P)&&w.push([P,p[P]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,w){return c.call.apply(c.bind,arguments)}function u(c,p,w){return u=l,u.apply(null,arguments)}function h(c,p){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function f(c,p){function w(){}w.prototype=p.prototype,c.Z=p.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(P,D,j){for(var Q=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)Q[xe-2]=arguments[xe];return p.prototype[D].apply(P,Q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const p=c.length;if(p>0){const w=Array(p);for(let P=0;P<p;P++)w[P]=c[P];return w}return[]}function g(c,p){for(let P=1;P<arguments.length;P++){const D=arguments[P];var w=typeof D;if(w=w!="object"?w:D?Array.isArray(D)?"array":w:"null",w=="array"||w=="object"&&typeof D.length=="number"){w=c.length||0;const j=D.length||0;c.length=w+j;for(let Q=0;Q<j;Q++)c[w+Q]=D[Q]}else c.push(D)}}class T{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(c){o.setTimeout(()=>{throw c},0)}function C(){var c=E;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class _{constructor(){this.h=this.g=null}add(p,w){const P=I.get();P.set(p,w),this.h?this.h.next=P:this.g=P,this.h=P}}var I=new T(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let N,M=!1,E=new _,b=()=>{const c=Promise.resolve(void 0);N=()=>{c.then(x)}};function x(){for(var c;c=C();){try{c.h.call(c.g)}catch(w){S(w)}var p=I;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};o.addEventListener("test",w,p),o.removeEventListener("test",w,p)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function q(c,p){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(q,L),q.prototype.init=function(c,p){const w=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(w=="mouseover"?p=c.fromElement:w=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ae(c,p,w,P,D){this.listener=c,this.proxy=null,this.src=p,this.type=w,this.capture=!!P,this.ha=D,this.key=++ee,this.da=this.fa=!1}function U(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function W(c,p,w){for(const P in c)p.call(w,c[P],P,c)}function G(c,p){for(const w in c)p.call(void 0,c[w],w,c)}function K(c){const p={};for(const w in c)p[w]=c[w];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(c,p){let w,P;for(let D=1;D<arguments.length;D++){P=arguments[D];for(w in P)c[w]=P[w];for(let j=0;j<Z.length;j++)w=Z[j],Object.prototype.hasOwnProperty.call(P,w)&&(c[w]=P[w])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,p,w,P,D){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const Q=ye(c,p,P,D);return Q>-1?(p=c[Q],w||(p.fa=!1)):(p=new ae(p,this.src,j,!!P,D),p.fa=w,c.push(p)),p};function V(c,p){const w=p.type;if(w in c.g){var P=c.g[w],D=Array.prototype.indexOf.call(P,p,void 0),j;(j=D>=0)&&Array.prototype.splice.call(P,D,1),j&&(U(p),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ye(c,p,w,P){for(let D=0;D<c.length;++D){const j=c[D];if(!j.da&&j.listener==p&&j.capture==!!w&&j.ha==P)return D}return-1}var we="closure_lm_"+(Math.random()*1e6|0),le={};function De(c,p,w,P,D){if(Array.isArray(p)){for(let j=0;j<p.length;j++)De(c,p[j],w,P,D);return null}return w=Rr(w),c&&c[re]?c.J(p,w,a(P)?!!P.capture:!1,D):se(c,p,w,!1,P,D)}function se(c,p,w,P,D,j){if(!p)throw Error("Invalid event type");const Q=a(D)?!!D.capture:!!D;let xe=cr(c);if(xe||(c[we]=xe=new ie(c)),w=xe.add(p,w,P,Q,j),w.proxy)return w;if(P=_e(),w.proxy=P,P.src=c,P.listener=w,c.addEventListener)O||(D=Q),D===void 0&&(D=!1),c.addEventListener(p.toString(),P,D);else if(c.attachEvent)c.attachEvent(Ae(p.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function _e(){function c(w){return p.call(c.src,c.listener,w)}const p=Re;return c}function it(c,p,w,P,D){if(Array.isArray(p))for(var j=0;j<p.length;j++)it(c,p[j],w,P,D);else P=a(P)?!!P.capture:!!P,w=Rr(w),c&&c[re]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],w=ye(p,w,P,D),w>-1&&(U(p[w]),Array.prototype.splice.call(p,w,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=cr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ye(p,w,P,D)),(w=c>-1?p[c]:null)&&Y(w))}function Y(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[re])V(p.i,c);else{var w=c.type,P=c.proxy;p.removeEventListener?p.removeEventListener(w,P,c.capture):p.detachEvent?p.detachEvent(Ae(w),P):p.addListener&&p.removeListener&&p.removeListener(P),(w=cr(p))?(V(w,c),w.h==0&&(w.src=null,p[we]=null)):U(c)}}}function Ae(c){return c in le?le[c]:le[c]="on"+c}function Re(c,p){if(c.da)c=!0;else{p=new q(p,this);const w=c.listener,P=c.ha||c.src;c.fa&&Y(c),c=w.call(P,p)}return c}function cr(c){return c=c[we],c instanceof ie?c:null}var Cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(c){return typeof c=="function"?c:(c[Cn]||(c[Cn]=function(p){return c.handleEvent(p)}),c[Cn])}function qe(){A.call(this),this.i=new ie(this),this.M=this,this.G=null}f(qe,A),qe.prototype[re]=!0,qe.prototype.removeEventListener=function(c,p,w,P){it(this,c,p,w,P)};function nt(c,p){var w,P=c.G;if(P)for(w=[];P;P=P.G)w.push(P);if(c=c.M,P=p.type||p,typeof p=="string")p=new L(p,c);else if(p instanceof L)p.target=p.target||c;else{var D=p;p=new L(P,c),X(p,D)}D=!0;let j,Q;if(w)for(Q=w.length-1;Q>=0;Q--)j=p.g=w[Q],D=mn(j,P,!0,p)&&D;if(j=p.g=c,D=mn(j,P,!0,p)&&D,D=mn(j,P,!1,p)&&D,w)for(Q=0;Q<w.length;Q++)j=p.g=w[Q],D=mn(j,P,!1,p)&&D}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const w=c.g[p];for(let P=0;P<w.length;P++)U(w[P]);delete c.g[p],c.h--}}this.G=null},qe.prototype.J=function(c,p,w,P){return this.i.add(String(c),p,!1,w,P)},qe.prototype.K=function(c,p,w,P){return this.i.add(String(c),p,!0,w,P)};function mn(c,p,w,P){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let D=!0;for(let j=0;j<p.length;++j){const Q=p[j];if(Q&&!Q.da&&Q.capture==w){const xe=Q.listener,ut=Q.ha||Q.src;Q.fa&&V(c.i,Q),D=xe.call(ut,P)!==!1&&D}}return D&&!P.defaultPrevented}function Ds(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Vn(c){c.g=Ds(()=>{c.g=null,c.i&&(c.i=!1,Vn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class me extends A{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ke(c){A.call(this),this.h=c,this.g={}}f(ke,A);var gt=[];function bt(c){W(c.g,function(p,w){this.g.hasOwnProperty(w)&&Y(p)},c),c.g={}}ke.prototype.N=function(){ke.Z.N.call(this),bt(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=o.JSON.stringify,Ri=o.JSON.parse,Bl=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function $s(){}function Wo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ki(){L.call(this,"d")}f(ki,L);function kr(){L.call(this,"c")}f(kr,L);var Bn={},js=null;function Fs(){return js=js||new qe}Bn.Ia="serverreachability";function Vs(c){L.call(this,Bn.Ia,c)}f(Vs,L);function Lr(c){const p=Fs();nt(p,new Vs(p))}Bn.STAT_EVENT="statevent";function qo(c,p){L.call(this,Bn.STAT_EVENT,c),this.stat=p}f(qo,L);function yt(c){const p=Fs();nt(p,new qo(p,c))}Bn.Ja="timingevent";function Us(c,p){L.call(this,Bn.Ja,c),this.size=p}f(Us,L);function Nr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function zl(c,p,w,P,D,j){c.info(function(){if(c.g)if(j){var Q="",xe=j.split("&");for(let je=0;je<xe.length;je++){var ut=xe[je].split("=");if(ut.length>1){const vt=ut[0];ut=ut[1];const Wn=vt.split("_");Q=Wn.length>=2&&Wn[1]=="type"?Q+(vt+"="+ut+"&"):Q+(vt+"=redacted&")}}}else Q=null;else Q=j;return"XMLHTTP REQ ("+P+") [attempt "+D+"]: "+p+`
`+w+`
`+Q})}function Li(c,p,w,P,D,j,Q){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+D+"]: "+p+`
`+w+`
`+j+" "+Q})}function ur(c,p,w,P){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Bs(c,w)+(P?" "+P:"")})}function sh(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function Bs(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var w=j[c];if(!(w.length<2)){var P=w[1];if(Array.isArray(P)&&!(P.length<1)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(let Q=1;Q<P.length;Q++)P[Q]=""}}}}return Ft(j)}catch{return p}}var de={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ay;function ih(){}f(ih,$s),ih.prototype.g=function(){return new XMLHttpRequest},ay=new ih;function Go(c){return encodeURIComponent(String(c))}function m1(c){var p=1;c=c.split(":");const w=[];for(;p>0&&c.length;)w.push(c.shift()),p--;return c.length&&w.push(c.join(":")),w}function Or(c,p,w,P){this.j=c,this.i=p,this.l=w,this.S=P||1,this.V=new ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ly}function ly(){this.i=null,this.g="",this.h=!1}var cy={},oh={};function ah(c,p,w){c.M=1,c.A=Wl(Hn(p)),c.u=w,c.R=!0,uy(c,null)}function uy(c,p){c.F=Date.now(),Hl(c),c.B=Hn(c.A);var w=c.B,P=c.S;Array.isArray(P)||(P=[String(P)]),Ey(w.i,"t",P),c.C=0,w=c.j.L,c.h=new ly,c.g=Uy(c.j,w?p:null,!c.u),c.P>0&&(c.O=new me(u(c.Y,c,c.g),c.P)),p=c.V,w=c.g,P=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(gt[0]=D.toString()),D=gt);for(let j=0;j<D.length;j++){const Q=De(w,D[j],P||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=c.J?K(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Lr(),zl(c.i,c.v,c.B,c.l,c.S,c.u)}Or.prototype.ba=function(c){c=c.target;const p=this.O;p&&$r(c)==3?p.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{const xe=$r(this.g),ut=this.g.ya(),je=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ry(this.g)))){this.K||xe!=4||ut==7||(ut==8||je<=0?Lr(3):Lr(2)),lh(this);var p=this.g.ca();this.X=p;var w=g1(this);if(this.o=p==200,Li(this.i,this.v,this.B,this.l,this.S,xe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var P,D=this.g;if((P=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(P)){var j=P;break t}}j=null}if(c=j)ur(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ch(this,c);else{this.o=!1,this.m=3,yt(12),zs(this),Ko(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<w.length;)if(vt=y1(this,w),vt==oh){xe==4&&(this.m=4,yt(14),c=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==cy){this.m=4,yt(15),ur(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else ur(this.i,this.l,vt,null),ch(this,vt);if(dy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||w.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)ur(this.i,this.l,w,"[Invalid Chunked Response]"),zs(this),Ko(this);else if(w.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),yh(Q),Q.P=!0,yt(11))}}else ur(this.i,this.l,w,null),ch(this,w);xe==4&&zs(this),this.o&&!this.K&&(xe==4?$y(this.j,this):(this.o=!1,Hl(this)))}else k1(this.g),p==400&&w.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),zs(this),Ko(this)}}}catch{}finally{}};function g1(c){if(!dy(c))return c.g.la();const p=Ry(c.g);if(p==="")return"";let w="";const P=p.length,D=$r(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return zs(c),Ko(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<P;j++)c.h.h=!0,w+=c.h.i.decode(p[j],{stream:!(D&&j==P-1)});return p.length=0,c.h.g+=w,c.C=0,c.h.g}function dy(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function y1(c,p){var w=c.C,P=p.indexOf(`
`,w);return P==-1?oh:(w=Number(p.substring(w,P)),isNaN(w)?cy:(P+=1,P+w>p.length?oh:(p=p.slice(P,P+w),c.C=P+w,p)))}Or.prototype.cancel=function(){this.K=!0,zs(this)};function Hl(c){c.T=Date.now()+c.H,hy(c,c.H)}function hy(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Nr(u(c.aa,c),p)}function lh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Or.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sh(this.i,this.B),this.M!=2&&(Lr(),yt(17)),zs(this),this.m=2,Ko(this)):hy(this,this.T-c)};function Ko(c){c.j.I==0||c.K||$y(c.j,c)}function zs(c){lh(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,bt(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ch(c,p){try{var w=c.j;if(w.I!=0&&(w.g==c||uh(w.h,c))){if(!c.L&&uh(w.h,c)&&w.I==3){try{var P=w.Ba.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var D=P;if(D[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Yl(w),Kl(w);else break e;gh(w),yt(18)}}else w.xa=D[1],0<w.xa-w.K&&D[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Nr(u(w.Va,w),6e3));my(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ws(w,11)}else if((c.L||w.g==c)&&Yl(w),!R(p))for(D=w.Ba.g.parse(p),p=0;p<D.length;p++){let je=D[p];const vt=je[0];if(!(vt<=w.K))if(w.K=vt,je=je[1],w.I==2)if(je[0]=="c"){w.M=je[1],w.ba=je[2];const Wn=je[3];Wn!=null&&(w.ka=Wn,w.j.info("VER="+w.ka));const qs=je[4];qs!=null&&(w.za=qs,w.j.info("SVER="+w.za));const jr=je[5];jr!=null&&typeof jr=="number"&&jr>0&&(P=1.5*jr,w.O=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const Fr=c.g;if(Fr){const Zl=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zl){var j=P.h;j.g||Zl.indexOf("spdy")==-1&&Zl.indexOf("quic")==-1&&Zl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(dh(j,j.h),j.h=null))}if(P.G){const vh=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(P.wa=vh,Be(P.J,P.G,vh))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),P=w;var Q=c;if(P.na=Vy(P,P.L?P.ba:null,P.W),Q.L){gy(P.h,Q);var xe=Q,ut=P.O;ut&&(xe.H=ut),xe.D&&(lh(xe),Hl(xe)),P.g=Q}else My(P);w.i.length>0&&Ql(w)}else je[0]!="stop"&&je[0]!="close"||Ws(w,7);else w.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ws(w,7):mh(w):je[0]!="noop"&&w.l&&w.l.qa(je),w.A=0)}}Lr(4)}catch{}}var v1=class{constructor(c,p){this.g=c,this.map=p}};function fy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function py(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function my(c){return c.h?1:c.g?c.g.size:0}function uh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function dh(c,p){c.g?c.g.add(p):c.h=p}function gy(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}fy.prototype.cancel=function(){if(this.i=yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const w of c.g.values())p=p.concat(w.G);return p}return v(c.i)}var vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w1(c,p){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const P=c[w].indexOf("=");let D,j=null;P>=0?(D=c[w].substring(0,P),j=c[w].substring(P+1)):D=c[w],p(D,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Mr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Mr?(this.l=c.l,Qo(this,c.j),this.o=c.o,this.g=c.g,Yo(this,c.u),this.h=c.h,hh(this,Sy(c.i)),this.m=c.m):c&&(p=String(c).match(vy))?(this.l=!1,Qo(this,p[1]||"",!0),this.o=Jo(p[2]||""),this.g=Jo(p[3]||"",!0),Yo(this,p[4]),this.h=Jo(p[5]||"",!0),hh(this,p[6]||"",!0),this.m=Jo(p[7]||"")):(this.l=!1,this.i=new Xo(null,this.l))}Mr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Zo(p,wy,!0),":");var w=this.g;return(w||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Zo(p,wy,!0),"@"),c.push(Go(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Zo(w,w.charAt(0)=="/"?b1:x1,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Zo(w,S1)),c.join("")},Mr.prototype.resolve=function(c){const p=Hn(this);let w=!!c.j;w?Qo(p,c.j):w=!!c.o,w?p.o=c.o:w=!!c.g,w?p.g=c.g:w=c.u!=null;var P=c.h;if(w)Yo(p,c.u);else if(w=!!c.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var D=p.h.lastIndexOf("/");D!=-1&&(P=p.h.slice(0,D+1)+P)}if(D=P,D==".."||D==".")P="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){P=D.lastIndexOf("/",0)==0,D=D.split("/");const j=[];for(let Q=0;Q<D.length;){const xe=D[Q++];xe=="."?P&&Q==D.length&&j.push(""):xe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),P&&Q==D.length&&j.push("")):(j.push(xe),P=!0)}P=j.join("/")}else P=D}return w?p.h=P:w=c.i.toString()!=="",w?hh(p,Sy(c.i)):w=!!c.m,w&&(p.m=c.m),p};function Hn(c){return new Mr(c)}function Qo(c,p,w){c.j=w?Jo(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Yo(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function hh(c,p,w){p instanceof Xo?(c.i=p,T1(c.i,c.l)):(w||(p=Zo(p,E1)),c.i=new Xo(p,c.l))}function Be(c,p,w){c.i.set(p,w)}function Wl(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Jo(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zo(c,p,w){return typeof c=="string"?(c=encodeURI(c).replace(p,_1),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wy=/[#\/\?@]/g,x1=/[#\?:]/g,b1=/[#\?]/g,E1=/[#\?@]/g,S1=/#/g;function Xo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Hs(c){c.g||(c.g=new Map,c.h=0,c.i&&w1(c.i,function(p,w){c.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=Xo.prototype,t.add=function(c,p){Hs(this),this.i=null,c=Ni(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(p),this.h+=1,this};function _y(c,p){Hs(c),p=Ni(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function xy(c,p){return Hs(c),p=Ni(c,p),c.g.has(p)}t.forEach=function(c,p){Hs(this),this.g.forEach(function(w,P){w.forEach(function(D){c.call(p,D,P,this)},this)},this)};function by(c,p){Hs(c);let w=[];if(typeof p=="string")xy(c,p)&&(w=w.concat(c.g.get(Ni(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)w=w.concat(c[p]);return w}t.set=function(c,p){return Hs(this),this.i=null,c=Ni(this,c),xy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=by(this,c),c.length>0?String(c[0]):p):p};function Ey(c,p,w){_y(c,p),w.length>0&&(c.i=null,c.g.set(Ni(c,p),v(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let P=0;P<p.length;P++){var w=p[P];const D=Go(w);w=by(this,w);for(let j=0;j<w.length;j++){let Q=D;w[j]!==""&&(Q+="="+Go(w[j])),c.push(Q)}}return this.i=c.join("&")};function Sy(c){const p=new Xo;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ni(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function T1(c,p){p&&!c.j&&(Hs(c),c.i=null,c.g.forEach(function(w,P){const D=P.toLowerCase();P!=D&&(_y(this,P),Ey(this,D,w))},c)),c.j=p}function C1(c,p){const w=new zn;if(o.Image){const P=new Image;P.onload=h(Dr,w,"TestLoadImage: loaded",!0,p,P),P.onerror=h(Dr,w,"TestLoadImage: error",!1,p,P),P.onabort=h(Dr,w,"TestLoadImage: abort",!1,p,P),P.ontimeout=h(Dr,w,"TestLoadImage: timeout",!1,p,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else p(!1)}function I1(c,p){const w=new zn,P=new AbortController,D=setTimeout(()=>{P.abort(),Dr(w,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:P.signal}).then(j=>{clearTimeout(D),j.ok?Dr(w,"TestPingServer: ok",!0,p):Dr(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),Dr(w,"TestPingServer: error",!1,p)})}function Dr(c,p,w,P,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),P(w)}catch{}}function P1(){this.g=new Bl}function fh(c){this.i=c.Sb||null,this.h=c.ab||!1}f(fh,$s),fh.prototype.g=function(){return new ql(this.i,this.h)};function ql(c,p){qe.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ql,qe),t=ql.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ty(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ty(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ea(this):ta(this),this.readyState==3&&Ty(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ea(this))},t.Na=function(c){this.g&&(this.response=c,ea(this))},t.ga=function(){this.g&&ea(this)};function ea(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ta(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=p.next();return c.join(`\r
`)};function ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cy(c){let p="";return W(c,function(w,P){p+=P,p+=":",p+=w,p+=`\r
`}),p}function ph(c,p,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=Cy(w),typeof c=="string"?w!=null&&Go(w):Be(c,p,w))}function Ze(c){qe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ze,qe);var A1=/^https?$/i,R1=["POST","PUT"];t=Ze.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ay.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){Iy(this,j);return}if(c=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var D in P)w.set(D,P[D]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const j of P.keys())w.set(j,P.get(j));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),D=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(R1,p,void 0)>=0)||P||D||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of w)this.g.setRequestHeader(j,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Iy(this,j)}};function Iy(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Py(c),Gl(c)}function Py(c){c.A||(c.A=!0,nt(c,"complete"),nt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,nt(this,"complete"),nt(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ay(this):this.Xa())},t.Xa=function(){Ay(this)};function Ay(c){if(c.h&&typeof i<"u"){if(c.v&&$r(c)==4)setTimeout(c.Ca.bind(c),0);else if(nt(c,"readystatechange"),$r(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var P;if(P=j===0){let Q=String(c.D).match(vy)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),P=!A1.test(Q?Q.toLowerCase():"")}w=P}if(w)nt(c,"complete"),nt(c,"success");else{c.o=6;try{var D=$r(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",Py(c)}}finally{Gl(c)}}}}function Gl(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,p||nt(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}t.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ri(p)}};function Ry(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function k1(c){const p={};c=(c.g&&$r(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(R(c[P]))continue;var w=m1(c[P]);const D=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=p[D]||[];p[D]=j,j.push(w)}G(p,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||p}function ky(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,c),this.Za=na("retryDelaySeedMs",1e4,c),this.Ta=na("forwardChannelMaxRetries",2,c),this.va=na("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new fy(c&&c.concurrentRequestLimit),this.Ba=new P1,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ky.prototype,t.ka=8,t.I=1,t.connect=function(c,p,w,P){yt(0),this.W=c,this.H=p||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.J=Vy(this,null,this.W),Ql(this)};function mh(c){if(Ly(c),c.I==3){var p=c.V++,w=Hn(c.J);if(Be(w,"SID",c.M),Be(w,"RID",p),Be(w,"TYPE","terminate"),ra(c,w),p=new Or(c,c.j,p),p.M=2,p.A=Wl(Hn(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=p.A,w=!0),w||(p.g=Uy(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Hl(p)}Fy(c)}function Kl(c){c.g&&(yh(c),c.g.cancel(),c.g=null)}function Ly(c){Kl(c),c.v&&(o.clearTimeout(c.v),c.v=null),Yl(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Ql(c){if(!py(c.h)&&!c.m){c.m=!0;var p=c.Ea;N||b(),M||(N(),M=!0),E.add(p,c),c.D=0}}function L1(c,p){return my(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Nr(u(c.Ea,c,p),jy(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const D=new Or(this,this.j,c);let j=this.o;if(this.U&&(j?(j=K(j),X(j,this.U)):j=this.U),this.u!==null||this.R||(D.J=j,j=null),this.S)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,p>4096){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Oy(this,D,p),w=Hn(this.J),Be(w,"RID",c),Be(w,"CVER",22),this.G&&Be(w,"X-HTTP-Session-Id",this.G),ra(this,w),j&&(this.R?p="headers="+Go(Cy(j))+"&"+p:this.u&&ph(w,this.u,j)),dh(this.h,D),this.Ra&&Be(w,"TYPE","init"),this.S?(Be(w,"$req",p),Be(w,"SID","null"),D.U=!0,ah(D,w,null)):ah(D,w,p),this.I=2}}else this.I==3&&(c?Ny(this,c):this.i.length==0||py(this.h)||Ny(this))};function Ny(c,p){var w;p?w=p.l:w=c.V++;const P=Hn(c.J);Be(P,"SID",c.M),Be(P,"RID",w),Be(P,"AID",c.K),ra(c,P),c.u&&c.o&&ph(P,c.u,c.o),w=new Or(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Oy(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),dh(c.h,w),ah(w,P,p)}function ra(c,p){c.H&&W(c.H,function(w,P){Be(p,P,w)}),c.l&&W({},function(w,P){Be(p,P,w)})}function Oy(c,p,w){w=Math.min(c.i.length,w);const P=c.l?u(c.l.Ka,c.l,c):null;e:{var D=c.i;let xe=-1;for(;;){const ut=["count="+w];xe==-1?w>0?(xe=D[0].g,ut.push("ofs="+xe)):xe=0:ut.push("ofs="+xe);let je=!0;for(let vt=0;vt<w;vt++){var j=D[vt].g;const Wn=D[vt].map;if(j-=xe,j<0)xe=Math.max(0,D[vt].g-100),je=!1;else try{j="req"+j+"_"||"";try{var Q=Wn instanceof Map?Wn:Object.entries(Wn);for(const[qs,jr]of Q){let Fr=jr;a(jr)&&(Fr=Ft(jr)),ut.push(j+qs+"="+encodeURIComponent(Fr))}}catch(qs){throw ut.push(j+"type="+encodeURIComponent("_badmap")),qs}}catch{P&&P(Wn)}}if(je){Q=ut.join("&");break e}}Q=void 0}return c=c.i.splice(0,w),p.G=c,Q}function My(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;N||b(),M||(N(),M=!0),E.add(p,c),c.A=0}}function gh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Nr(u(c.Da,c),jy(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Dy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Nr(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Kl(this),Dy(this))};function yh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Dy(c){c.g=new Or(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Hn(c.na);Be(p,"RID","rpc"),Be(p,"SID",c.M),Be(p,"AID",c.K),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(p,"TO",c.ia),Be(p,"TYPE","xmlhttp"),ra(c,p),c.u&&c.o&&ph(p,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Wl(Hn(p)),w.u=null,w.R=!0,uy(w,c)}t.Va=function(){this.C!=null&&(this.C=null,Kl(this),gh(this),yt(19))};function Yl(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function $y(c,p){var w=null;if(c.g==p){Yl(c),yh(c),c.g=null;var P=2}else if(uh(c.h,p))w=p.G,gy(c.h,p),P=1;else return;if(c.I!=0){if(p.o)if(P==1){w=p.u?p.u.length:0,p=Date.now()-p.F;var D=c.D;P=Fs(),nt(P,new Us(P,w)),Ql(c)}else My(c);else if(D=p.m,D==3||D==0&&p.X>0||!(P==1&&L1(c,p)||P==2&&gh(c)))switch(w&&w.length>0&&(p=c.h,p.i=p.i.concat(w)),D){case 1:Ws(c,5);break;case 4:Ws(c,10);break;case 3:Ws(c,6);break;default:Ws(c,2)}}}function jy(c,p){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*p}function Ws(c,p){if(c.j.info("Error code "+p),p==2){var w=u(c.bb,c),P=c.Ua;const D=!P;P=new Mr(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qo(P,"https"),Wl(P),D?C1(P.toString(),w):I1(P.toString(),w)}else yt(2);c.I=0,c.l&&c.l.pa(p),Fy(c),Ly(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Fy(c){if(c.I=0,c.ja=[],c.l){const p=yy(c.h);(p.length!=0||c.i.length!=0)&&(g(c.ja,p),g(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function Vy(c,p,w){var P=w instanceof Mr?Hn(w):new Mr(w);if(P.g!="")p&&(P.g=p+"."+P.g),Yo(P,P.u);else{var D=o.location;P=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;const j=new Mr(null);P&&Qo(j,P),p&&(j.g=p),D&&Yo(j,D),w&&(j.h=w),P=j}return w=c.G,p=c.wa,w&&p&&Be(P,w,p),Be(P,"VER",c.ka),ra(c,P),P}function Uy(c,p,w){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Ze(new fh({ab:w})):new Ze(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function By(){}t=By.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jl(){}Jl.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){qe.call(this),this.g=new ky(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Oi(this)}f(nn,qe),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){mh(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=Ft(c),c=w);p.i.push(new v1(p.Ya++,c)),p.I==3&&Ql(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,nn.Z.N.call(this)};function zy(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const w in p){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f(zy,ki);function Hy(){kr.call(this),this.status=1}f(Hy,kr);function Oi(c){this.g=c}f(Oi,By),Oi.prototype.ra=function(){nt(this.g,"a")},Oi.prototype.qa=function(c){nt(this.g,new zy(c))},Oi.prototype.pa=function(c){nt(this.g,new Hy)},Oi.prototype.oa=function(){nt(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,OT=function(){return new Jl},NT=function(){return Fs()},LT=Bn,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Wc=de,oy.COMPLETE="complete",kT=oy,Wo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Sa=Wo,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,RT=Ze}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const t0="@firebase/firestore",n0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Id("@firebase/firestore");function Fi(){return vi.logLevel}function te(t,...e){if(vi.logLevel<=Te.DEBUG){const n=e.map(pg);vi.debug(`Firestore (${$o}): ${t}`,...n)}}function Cr(t,...e){if(vi.logLevel<=Te.ERROR){const n=e.map(pg);vi.error(`Firestore (${$o}): ${t}`,...n)}}function To(t,...e){if(vi.logLevel<=Te.WARN){const n=e.map(pg);vi.warn(`Firestore (${$o}): ${t}`,...n)}}function pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MT(t,r,n)}function MT(t,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||MT(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uM{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new DT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}}class dM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Ap(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return rf(s)===rf(i)?Ce(s,i):rf(s)?1:-1}return Ce(t.length,e.length)}const mM=55296,gM=57343;function rf(t){const e=t.charCodeAt(0);return e>=mM&&e<=gM}function Co(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class Qn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Qn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ce(e.length,n.length)}static compareSegments(e,n){const r=Qn.isNumericId(e),s=Qn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Qn.extractNumericId(e).compare(Qn.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class Fe extends Qn{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const yM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Qn{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return yM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Tt([s0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Fe.fromString(e))}static fromName(e){return new oe(Fe.fromString(e).popFirst(5))}static empty(){return new oe(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vM(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i0(t){if(!oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o0(t){if(oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wM(t,e){if(e<=0)throw new J(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ll(t,e){if(!jT(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=-62135596800,l0=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l0);return new Oe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a0)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ll(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:ct("string",Oe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Oe(0,0))}static max(){return new fe(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function _M(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new _s(s,oe.empty(),e)}function xM(t){return new _s(t.readTime,t.key,pl)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(fe.min(),oe.empty(),pl)}static max(){return new _s(fe.max(),oe.empty(),pl)}}function bM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==EM)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Dd(t){return t==null}function $u(t){return t===0&&1/t==-1/0}function CM(t){return typeof t=="number"&&Number.isInteger(t)&&!$u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function IM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c0(e)),e=PM(t.get(n),e);return c0(e)}function PM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case FT:n+="";break;default:n+=i}}return n}function c0(t){return t+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new pt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UT("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const AM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=AM.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="server_timestamp",zT="__type__",HT="__previous_value__",WT="__local_write_time__";function yg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zT])==null?void 0:r.stringValue)===BT}function $d(t){const e=t.mapValue.fields[HT];return yg(e)?$d(e):e}function ml(t){const e=xs(t.mapValue.fields[WT].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const ju="(default)";class gl{constructor(e,n){this.projectId=e,this.database=n||ju}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",kM="__max__",_c={mapValue:{}},GT="__vector__",Fu="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:NM(t)?9007199254740991:LM(t)?10:11:ue(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=xs(s.timestampValue),a=xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bs(s.bytesValue).isEqual(bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?$u(o)===$u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(u0(o)!==u0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!lr(o[l],a[l])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function yl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return h0(t.timestampValue,e.timestampValue);case 4:return h0(ml(t),ml(e));case 5:return Ap(t.stringValue,e.stringValue);case 6:return function(i,o){const a=bs(i),l=bs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ce(a[u],l[u]);if(h!==0)return h}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(rt(i.latitude),rt(o.latitude));return a!==0?a:Ce(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,v,g,T;const a=i.fields||{},l=o.fields||{},u=(m=a[Fu])==null?void 0:m.arrayValue,h=(v=l[Fu])==null?void 0:v.arrayValue,f=Ce(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return f!==0?f:f0(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_c.mapValue&&o===_c.mapValue)return 0;if(i===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Ap(l[f],h[f]);if(m!==0)return m;const v=Po(a[l[f]],u[h[f]]);if(v!==0)return v}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{he:n})}}function h0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=xs(t),r=xs(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function f0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Po(n[s],r[s]);if(i)return i}return Ce(n.length,r.length)}function Ao(t){return Rp(t)}function Rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rp(n.fields[o])}`;return s+"}"}(t.mapValue):ue(61005,{value:t})}function qc(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(t);return e?16+qc(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ns(r.fields,(i,o)=>{s+=i.length+qc(o)}),s}(t.mapValue);default:throw ue(13486,{value:t})}}function p0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kp(t){return!!t&&"integerValue"in t}function vg(t){return!!t&&"arrayValue"in t}function m0(t){return!!t&&"nullValue"in t}function g0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gc(t){return!!t&&"mapValue"in t}function LM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qT])==null?void 0:r.stringValue)===GT}function Fa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fa(t.arrayValue.values[n]);return e}return{...t}}function NM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Fa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(Fa(this.value))}}function KT(t){const e=[];return Ns(t.fields,(n,r)=>{const s=new Tt([n]);if(Gc(r)){const i=KT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,fe.min(),fe.min(),fe.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,fe.min(),fe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,fe.min(),fe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.position=e,this.inclusive=n}}function y0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function OM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class lt extends QT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DM(e,n,r):n==="array-contains"?new FM(e,r):n==="in"?new VM(e,r):n==="not-in"?new UM(e,r):n==="array-contains-any"?new BM(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $M(e,r):new jM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jn(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(t){return t.op==="and"}function JT(t){return MM(t)&&YT(t)}function MM(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Lp(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(JT(t))return t.filters.map(e=>Lp(e)).join(",");{const e=t.filters.map(n=>Lp(n)).join(",");return`${t.op}(${e})`}}function ZT(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&lr(r.value,s.value)}(t,e):t instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ZT(o,s.filters[a]),!0):!1}(t,e):void ue(19439)}function XT(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}class DM extends lt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $M extends lt{constructor(e,n){super(e,"in",n),this.keys=eC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jM extends lt{constructor(e,n){super(e,"not-in",n),this.keys=eC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class FM extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&yl(n.arrayValue,this.value)}}class VM extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class UM extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yl(this.value.arrayValue,n)}}class BM extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function w0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zM(t,e,n,r,s,i,o)}function wg(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.Te=n}return e.Te}function _g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function Np(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HM(t,e,n,r,s,i,o,a){return new Vo(t,e,n,r,s,i,o,a)}function tC(t){return new Vo(t)}function _0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nC(t){return t.collectionGroup!==null}function Va(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new vl(i,r))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new vl(Tt.keyField(),r))}return e.Ie}function rr(t){const e=pe(t);return e.Ee||(e.Ee=WM(e,Va(t))),e.Ee}function WM(t,e){if(t.limitType==="F")return w0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vl(s.field,i)});const n=t.endAt?new Vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vu(t.startAt.position,t.startAt.inclusive):null;return w0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Op(t,e){const n=t.filters.concat([e]);return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uu(t,e,n){return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return _g(rr(t),rr(e))&&t.limitType===e.limitType}function rC(t){return`${wg(rr(t))}|lt:${t.limitType}`}function Vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XT(s)).join(", ")}]`),Dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ao(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ao(s)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Va(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=y0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Va(r),s)||r.endAt&&!function(o,a,l){const u=y0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Va(r),s))}(t,e)}function qM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sC(t){return(e,n)=>{let r=!1;for(const s of Va(t)){const i=GM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function GM(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Po(l,u):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Je(oe.comparator);function Ir(){return KM}const iC=new Je(oe.comparator);function Ta(...t){let e=iC;for(const n of t)e=e.insert(n.key,n);return e}function oC(t){let e=iC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return Ua()}function aC(){return Ua()}function Ua(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const QM=new Je(oe.comparator),YM=new pt(oe.comparator);function Ie(...t){let e=YM;for(const n of t)e=e.add(n);return e}const JM=new pt(Ce);function ZM(){return JM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function lC(t){return{integerValue:""+t}}function XM(t,e){return CM(e)?lC(e):xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function eD(t,e,n){return t instanceof Bu?function(s,i){const o={fields:{[zT]:{stringValue:BT},[WT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yg(i)&&(i=$d(i)),i&&(o.fields[HT]=i),{mapValue:o}}(n,e):t instanceof wl?uC(t,e):t instanceof _l?dC(t,e):function(s,i){const o=cC(s,i),a=x0(o)+x0(s.Ae);return kp(o)&&kp(s.Ae)?lC(a):xg(s.serializer,a)}(t,e)}function tD(t,e,n){return t instanceof wl?uC(t,e):t instanceof _l?dC(t,e):n}function cC(t,e){return t instanceof zu?function(r){return kp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bu extends Vd{}class wl extends Vd{constructor(e){super(),this.elements=e}}function uC(t,e){const n=hC(e);for(const r of t.elements)n.some(s=>lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends Vd{constructor(e){super(),this.elements=e}}function dC(t,e){let n=hC(e);for(const r of t.elements)n=n.filter(s=>!lr(s,r));return{arrayValue:{values:n}}}class zu extends Vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x0(t){return rt(t.integerValue||t.doubleValue)}function hC(t){return vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wl&&s instanceof wl||r instanceof _l&&s instanceof _l?Co(r.elements,s.elements,lr):r instanceof zu&&s instanceof zu?lr(r.Ae,s.Ae):r instanceof Bu&&s instanceof Bu}(t.transform,e.transform)}class rD{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function fC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mC(t.key,sr.none()):new Nl(t.key,t.data,sr.none());{const n=t.data,r=Kt.empty();let s=new pt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Os(t.key,r,new ln(s.toArray()),sr.none())}}function sD(t,e,n){t instanceof Nl?function(s,i,o){const a=s.value.clone(),l=E0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(s,i,o){if(!Kc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=E0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(pC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof Nl?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const u=i.value.clone(),h=S0(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const u=S0(i.fieldTransforms,l,o),h=o.data;return h.setAll(pC(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Kc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cC(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function b0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Co(r,s,(i,o)=>nD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nl extends Ud{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Ud{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E0(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tD(o,a,n[s]))}return r}function S0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,eD(i,o,e))}return r}class mC extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oD extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=fC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,r)=>b0(n,r))&&Co(this.baseMutations,e.baseMutations,(n,r)=>b0(n,r))}}class bg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return QM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Pe;function uD(t){switch(t){case B.OK:return ue(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function gC(t){if(t===void 0)return Cr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ot.OK:return B.OK;case ot.CANCELLED:return B.CANCELLED;case ot.UNKNOWN:return B.UNKNOWN;case ot.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ot.INTERNAL:return B.INTERNAL;case ot.UNAVAILABLE:return B.UNAVAILABLE;case ot.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ot.NOT_FOUND:return B.NOT_FOUND;case ot.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ot.ABORTED:return B.ABORTED;case ot.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ot.DATA_LOSS:return B.DATA_LOSS;default:return ue(39323,{code:t})}}(Pe=ot||(ot={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new ps([4294967295,4294967295],0);function T0(t){const e=dD().encode(t),n=new AT;return n.update(e),new Uint8Array(n.digest())}function C0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ps([n,r],0),new ps([s,i],0)]}class Eg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ps.fromNumber(r)));return s.compare(hD)===1&&(s=new ps([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[r,s]=C0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Eg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=T0(e),[r,s]=C0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bd(fe.min(),s,new Je(Ce),Ir(),Ie())}}class Ol{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ol(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class yC{constructor(e,n){this.targetId=e,this.Ce=n}}class vC{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class I0{constructor(){this.ve=0,this.Fe=P0(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue(38017,{changeType:i})}}),new Ol(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=P0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=xc(),this.He=xc(),this.Ye=new Je(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Np(i))if(r===0){const o=new oe(i.path);this.et(n,o,Ot.newNoDocument(o,fe.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=bs(r).toUint8Array()}catch(l){if(l instanceof UT)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Eg(o,s,i)}catch(l){return To(l instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Np(a.target)){const l=new oe(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ot.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Bd(e,n,this.Ye,this.je,r);return this.je=Ir(),this.Je=xc(),this.He=xc(),this.Ye=new Je(Ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xc(){return new Je(oe.comparator)}function P0(){return new Je(oe.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class yD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mp(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function Hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vD(t,e){return Hu(t,e.toTimestamp())}function ir(t){return Me(!!t,49232),fe.fromTimestamp(function(n){const r=xs(n);return new Oe(r.seconds,r.nanos)}(t))}function Sg(t,e){return Dp(t,e).canonicalString()}function Dp(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _C(t){const e=Fe.fromString(t);return Me(TC(e),10190,{key:e.toString()}),e}function $p(t,e){return Sg(t.databaseId,e.path)}function sf(t,e){const n=_C(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(bC(n))}function xC(t,e){return Sg(t.databaseId,e)}function wD(t){const e=_C(t);return e.length===4?Fe.emptyPath():bC(e)}function jp(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bC(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A0(t,e,n){return{name:$p(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Me(h===void 0||typeof h=="string",58123),Pt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:gC(u.code);return new J(h,u.message||"")}(o);n=new vC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sf(t,r.document.name),i=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):fe.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Qc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sf(t,r.document),i=r.readTime?ir(r.readTime):fe.min(),o=Ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sf(t,r.document),i=r.removedTargetIds||[];n=new Qc([],i,s,null)}else{if(!("filter"in e))return ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cD(s,i),a=r.targetId;n=new yC(a,o)}}return n}function xD(t,e){let n;if(e instanceof Nl)n={update:A0(t,e.key,e.value)};else if(e instanceof mC)n={delete:$p(t,e.key)};else if(e instanceof Os)n={update:A0(t,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof oD))return ue(16599,{Vt:e.type});n={verify:$p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue(27497)}(t,e.precondition)),n}function bD(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ir(s.updateTime):ir(i);return o.isEqual(fe.min())&&(o=ir(i)),new rD(o,s.transformResults||[])}(n,e))):[]}function ED(t,e){return{documents:[xC(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xC(t,s);const i=function(u){if(u.length!==0)return SC(jn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ui(m.field),direction:ID(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function TD(t){let e=wD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=EC(f);return m instanceof jn&&JT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(g){return new vl(Bi(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Dd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new Vu(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,v=f.values||[];return new Vu(v,m)}(n.endAt)),HM(e,s,o,i,a,"F",l,u)}function CD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bi(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bi(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bi(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bi(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Bi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>EC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function ID(t){return pD[t]}function PD(t){return mD[t]}function AD(t){return gD[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function Bi(t){return Tt.fromServerFormat(t.fieldPath)}function SC(t){return t instanceof lt?function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:PD(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(s=>SC(s));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):ue(54877,{filter:t})}function RD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.yt=e}}function LD(t){const e=TD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Cn=new OD}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(_s.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CC=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(CC,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="LruGarbageCollector",MD=1048576;function L0([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class DD{constructor(e){this.Ir=e,this.buffer=new pt(L0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();L0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(k0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?te(k0,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)})}}class jD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Md.ce);const r=new DD(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(R0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Fi()<=Te.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function FD(t,e){return new jD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ba(r.mutation,s,ln.empty(),Oe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ta();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ir();const o=Ua(),a=function(){return Ua()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Os)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ba(h.mutation,u,h.mutation.getFieldMask(),Oe.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new UD(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let s=new Je((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ln.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=aC();h.forEach(m=>{if(!i.has(m)){const v=fC(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ti());let a=pl,l=i;return o.next(u=>z.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(h=>({batchId:a,changes:oC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Ta();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(f,m){return new Vo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=Ta();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Ba(h.mutation,u,ln.empty(),Oe.now()),Fd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:LD(s.bundledQuery),readTime:ir(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new Je(oe.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ti(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ti(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ti(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lD(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Qr=new pt(wt.$r),this.Ur=new pt(wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new wt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new oe(new Fe([])),r=new wt(n,e),s=new wt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new Fe([])),r=new wt(n,e),s=new wt(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new wt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(wt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new wt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?gg:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),s=new wt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Ce);return n.forEach(s=>{const i=new wt(s,0),o=new wt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new wt(new oe(i),0);let a=new pt(Ce);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new wt(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.ri=e,this.docs=function(){return new Je(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ir();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bM(xM(h),r)<=0||(s.has(h.key)||Fd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KD(this)}getSize(e){return z.resolve(this.size)}}class KD extends VD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.persistence=e,this.si=new Pi(n=>wg(n),_g),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Tg,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new WD,this.referenceDelegate=e(this),this.Pi=new QD(this),this.indexManager=new ND,this.remoteDocumentCache=function(s){return new GD(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kD(n),this.Ii=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new YD(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class YD extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Ri=new Tg,this.Vi=null}static mi(e){return new Cg(e)}get fi(){if(this.Vi)return this.Vi;throw ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=oe.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wu{constructor(e,n){this.persistence=e,this.pi=new Pi(r=>IM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=FD(this,n)}static mi(e,n){return new Wu(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ig(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sk()?8:TM($t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new JD;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Fi()<=Te.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Fi()<=Te.DEBUG&&te("QueryEngine","Query:",Vi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Fi()<=Te.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):z.resolve())}ys(e,n){if(_0(n))return z.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uu(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Uu(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return _0(n)||s.isEqual(fe.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?z.resolve(null):(Fi()<=Te.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vi(n)),this.vs(e,o,n,_M(s,pl)).next(a=>a))})}Ds(e,n){let r=new pt(sC(e));return n.forEach((s,i)=>{Fd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Fi()<=Te.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Vi(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",XD=3e8;class e${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(Ce),this.xs=new Pi(i=>wg(i),_g),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function t$(t,e,n,r){return new e$(t,e,n,r)}async function PC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function n$(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let v=z.resolve();return m.forEach(g=>{v=v.next(()=>h.getEntry(l,g)).next(T=>{const S=u.docVersions.get(g);Me(S!==null,48541),T.version.compareTo(S)<0&&(f.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),h.addEntry(T)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function AC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function r$(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Pt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(T,S,C){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=XD?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=Ir(),u=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(s$(i,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function s$(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ir();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(Pg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function i$(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o$(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Fp(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fo(o))throw o;te(Pg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function N0(t,e,n){const r=pe(t);let s=fe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=pe(l),m=f.xs.get(h);return m!==void 0?z.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ie())).next(a=>(a$(r,qM(e),a),{documents:a,Qs:i})))}function a$(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class O0{constructor(){this.activeTargetIds=ZM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l${constructor(){this.Mo=new O0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(M0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Vp(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="RestConnection",u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ju?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Vp(),a=this.zo(e,n.toUriEncodedString());te(of,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=As(u);return this.Jo(e,a,l,r,h).then(f=>(te(of,`Received RPC '${e}' ${o}: `,f),f),f=>{throw To(of,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=u$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class f$ extends d${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Vp();return new Promise((a,l)=>{const u=new RT;u.setWithCredentials(!0),u.listenOnce(kT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wc.NO_ERROR:const f=u.getResponseJson();te(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Wc.TIMEOUT:te(kt,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const m=u.getStatus();if(te(kt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const g=v==null?void 0:v.error;if(g&&g.status&&g.message){const T=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(g.status);l(new J(T,g.message))}else l(new J(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{te(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te(kt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Vp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OT(),a=NT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");te(kt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,v=!1;const g=new h$({Yo:S=>{v?te(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(te(kt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),te(kt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),T=(S,C,_)=>{S.listen(C,I=>{try{_(I)}catch(k){setTimeout(()=>{throw k},0)}})};return T(f,Sa.EventType.OPEN,()=>{v||(te(kt,`RPC '${e}' stream ${s} transport opened.`),g.o_())}),T(f,Sa.EventType.CLOSE,()=>{v||(v=!0,te(kt,`RPC '${e}' stream ${s} transport closed`),g.a_(),this.E_(f))}),T(f,Sa.EventType.ERROR,S=>{v||(v=!0,To(kt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),g.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),T(f,Sa.EventType.MESSAGE,S=>{var C;if(!v){const _=S.data[0];Me(!!_,16349);const I=_,k=(I==null?void 0:I.error)||((C=I[0])==null?void 0:C.error);if(k){te(kt,`RPC '${e}' stream ${s} received error:`,k);const N=k.status;let M=function(x){const A=ot[x];if(A!==void 0)return gC(A)}(N),E=k.message;M===void 0&&(M=B.INTERNAL,E="Unknown error status: "+N+" with message "+k.message),v=!0,g.a_(new J(M,E)),f.close()}else te(kt,`RPC '${e}' stream ${s} received:`,_),g.u_(_)}}),T(a,LT.STAT_EVENT,S=>{S.stat===Pp.PROXY?te(kt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Pp.NOPROXY&&te(kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new yD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="PersistentStream";class kC{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p$ extends kC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_D(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?ir(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Np(l)?{documents:ED(i,l)}:{query:SD(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wC(i,o.resumeToken);const u=Mp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Hu(i,o.snapshotVersion.toTimestamp());const u=Mp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.q_(n)}}class m$ extends kC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bD(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xD(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${}class y$ extends g${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Dp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Dp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class v${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="RemoteStore";class w${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(te(wi,"Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.Ea.add(4),await Ml(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Hd(u)}(this))})}),this.Ra=new v$(r,s)}}async function Hd(t){if(Ai(t))for(const e of t.da)await e(!0)}async function Ml(t){for(const e of t.da)await e(!1)}function LC(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lg(n)?kg(n):Uo(n).O_()&&Rg(n,e))}function Ag(t,e){const n=pe(t),r=Uo(n);n.Ia.delete(e),r.O_()&&NC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ai(n)&&n.Ra.set("Unknown"))}function Rg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(t).Y_(e)}function NC(t,e){t.Va.Ue(e),Uo(t).Z_(e)}function kg(t){t.Va=new fD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uo(t).start(),t.Ra.ua()}function Lg(t){return Ai(t)&&!Uo(t).x_()&&t.Ia.size>0}function Ai(t){return pe(t).Ea.size===0}function OC(t){t.Va=void 0}async function _$(t){t.Ra.set("Online")}async function x$(t){t.Ia.forEach((e,n)=>{Rg(t,e)})}async function b$(t,e){OC(t),Lg(t)?(t.Ra.ha(e),kg(t)):t.Ra.set("Unknown")}async function E$(t,e,n){if(t.Ra.set("Online"),e instanceof vC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){te(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qu(t,r)}else if(e instanceof Qc?t.Va.Ze(e):e instanceof yC?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await AC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),NC(i,l);const f=new ns(h.target,l,u,h.sequenceNumber);Rg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(wi,"Failed to raise snapshot:",r),await qu(t,r)}}async function qu(t,e,n){if(!Fo(e))throw e;t.Ea.add(1),await Ml(t),t.Ra.set("Offline"),n||(n=()=>AC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hd(t)})}function MC(t,e){return e().catch(n=>qu(t,n,e))}async function Wd(t){const e=pe(t),n=Ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;S$(e);)try{const s=await i$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,T$(e,s)}catch(s){await qu(e,s)}DC(e)&&$C(e)}function S$(t){return Ai(t)&&t.Ta.length<10}function T$(t,e){t.Ta.push(e);const n=Ss(t);n.O_()&&n.X_&&n.ea(e.mutations)}function DC(t){return Ai(t)&&!Ss(t).x_()&&t.Ta.length>0}function $C(t){Ss(t).start()}async function C$(t){Ss(t).ra()}async function I$(t){const e=Ss(t);for(const n of t.Ta)e.ea(n.mutations)}async function P$(t,e,n){const r=t.Ta.shift(),s=bg.from(r,e,n);await MC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wd(t)}async function A$(t,e){e&&Ss(t).X_&&await async function(r,s){if(function(o){return uD(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Ss(r).B_(),await MC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wd(r)}}(t,e),DC(t)&&$C(t)}async function j0(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te(wi,"RemoteStore received new credentials");const r=Ai(n);n.Ea.add(3),await Ml(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hd(n)}async function R$(t,e){const n=pe(t);e?(n.Ea.delete(2),await Hd(n)):e||(n.Ea.add(2),await Ml(n),n.Ra.set("Unknown"))}function Uo(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new p$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:_$.bind(null,t),t_:x$.bind(null,t),r_:b$.bind(null,t),H_:E$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Lg(t)?kg(t):t.Ra.set("Unknown")):(await t.ma.stop(),OC(t))})),t.ma}function Ss(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new m$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:C$.bind(null,t),r_:A$.bind(null,t),ta:I$.bind(null,t),na:P$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Wd(t)):(await t.fa.stop(),t.Ta.length>0&&(te(wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ng(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Fo(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.ga=new Je(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ko(e,n,fo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class L${constructor(){this.queries=V0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=V0(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function V0(){return new Pi(t=>rC(t),jd)}async function N$(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new k$,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Og(o,`Initialization of query '${Vi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Mg(n)}async function O$(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M$(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Mg(n)}function D$(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Mg(t){t.Ca.forEach(e=>{e.next()})}var Up,U0;(U0=Up||(Up={})).Ma="default",U0.Cache="cache";class $${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.key=e}}class FC{constructor(e){this.key=e}}class j${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=sC(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new F0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=Fd(this.query,f)?f:null,g=!!m&&this.mutatedKeys.has(m.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;m&&v?m.data.isEqual(v.data)?g!==T&&(r.track({type:3,doc:v}),S=!0):this.su(m,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),S=!0):m&&!v&&(r.track({type:1,doc:m}),S=!0,(l||u)&&(a=!0)),S&&(v?(o=o.add(v),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,g){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Rt:S})}};return T(v)-T(g)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new ko(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new FC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new jC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class F${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class V${constructor(e){this.key=e,this.hu=!1}}class U${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pi(a=>rC(a),jd),this.Iu=new Map,this.Eu=new Set,this.du=new Je(oe.comparator),this.Au=new Map,this.Ru=new Tg,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B$(t,e,n=!0){const r=WC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await VC(r,e,n,!0),s}async function z$(t,e){const n=WC(t);await VC(n,e,!0,!1)}async function VC(t,e,n,r){const s=await o$(t.localStore,rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await H$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LC(t.remoteStore,s),a}async function H$(t,e,n,r,s){t.pu=(f,m,v)=>async function(T,S,C,_){let I=S.view.ru(C);I.Cs&&(I=await N0(T.localStore,S.query,!1).then(({documents:E})=>S.view.ru(E,I)));const k=_&&_.targetChanges.get(S.targetId),N=_&&_.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(I,T.isPrimaryClient,k,N);return z0(T,S.targetId,M.au),M.snapshot}(t,f,m,v);const i=await N0(t.localStore,e,!0),o=new j$(e,i.Qs),a=o.ru(i.documents),l=Ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);z0(t,n,u.au);const h=new F$(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function W$(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!jd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ag(r.remoteStore,s.targetId),Bp(r,s.targetId)}).catch(jo)):(Bp(r,s.targetId),await Fp(r.localStore,s.targetId,!0))}async function q$(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(n.remoteStore,r.targetId))}async function G$(t,e,n){const r=ej(t);try{const s=await function(o,a){const l=pe(o),u=Oe.now(),h=a.reduce((v,g)=>v.add(g.key),Ie());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let g=Ir(),T=Ie();return l.Ns.getEntries(v,h).next(S=>{g=S,g.forEach((C,_)=>{_.isValidDocument()||(T=T.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,g)).next(S=>{f=S;const C=[];for(const _ of a){const I=iD(_,f.get(_.key).overlayedDocument);I!=null&&C.push(new Os(_.key,I,KT(I.value.mapValue),sr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,C,a)}).next(S=>{m=S;const C=S.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(v,S.batchId,C)})}).then(()=>({batchId:m.batchId,changes:oC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Je(Ce)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Dl(r,s.changes),await Wd(r.remoteStore)}catch(s){const i=Og(s,"Failed to persist write");n.reject(i)}}async function UC(t,e){const n=pe(t);try{const r=await r$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Me(o.hu,14607):s.removedDocuments.size>0&&(Me(o.hu,42227),o.hu=!1))}),await Dl(n,r,e)}catch(r){await jo(r)}}function B0(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&Mg(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K$(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(oe.comparator);o=o.insert(i,Ot.newNoDocument(i,fe.min()));const a=Ie().add(i),l=new Bd(fe.min(),new Map,new Je(Ce),o,a);await UC(r,l),r.du=r.du.remove(i),r.Au.delete(e),$g(r)}else await Fp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(jo)}async function Q$(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await n$(n.localStore,e);zC(n,r,null),BC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dl(n,s)}catch(s){await jo(s)}}async function Y$(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Me(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);zC(r,e,n),BC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dl(r,s)}catch(s){await jo(s)}}function BC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function zC(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||HC(t,r)})}function HC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ag(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$g(t))}function z0(t,e,n){for(const r of n)r instanceof jC?(t.Ru.addReference(r.key,e),J$(t,r)):r instanceof FC?(te(Dg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HC(t,r.key)):ue(19791,{wu:r})}function J$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(Dg,"New document in limbo: "+n),t.Eu.add(r),$g(t))}function $g(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(Fe.fromString(e)),r=t.fu.next();t.Au.set(r,new V$(n)),t.du=t.du.insert(n,r),LC(t.remoteStore,new ns(rr(tC(n.path)),r,"TargetPurposeLimboResolution",Md.ce))}}async function Dl(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Ig.As(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,m=>z.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>z.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Fo(f))throw f;te(Pg,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const v=h.Ms.get(m),g=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(g);h.Ms=h.Ms.insert(m,T)}}}(r.localStore,i))}async function Z$(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te(Dg,"User change. New user:",e.toKey());const r=await PC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dl(n,r.Ls)}}function X$(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function WC(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K$.bind(null,e),e.Pu.H_=M$.bind(null,e.eventManager),e.Pu.yu=D$.bind(null,e.eventManager),e}function ej(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y$.bind(null,e),e}class Gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t$(this.persistence,new ZD,e.initialUser,this.serializer)}Cu(e){return new IC(Cg.mi,this.serializer)}Du(e){return new l$}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gu.provider={build:()=>new Gu};class tj extends Gu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof Wu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $D(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new IC(r=>Wu.mi(r,n),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z$.bind(null,this.syncEngine),await R$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L$}()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=function(i){return new f$(i)}(e.databaseInfo);return function(i,o,a,l){return new y$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new w$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>B0(this.syncEngine,n,0),function(){return D0.v()?new D0:new c$}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new U$(s,i,o,a,l,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);te(wi,"RemoteStore shutting down."),i.Ea.add(5),await Ml(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class rj{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Ts,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Ts,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lf(t,e){t.asyncQueue.verifyOperationInProgress(),te(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await PC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sj(t);te(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>j0(e.remoteStore,s)),t._onlineComponents=e}async function sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Ts,"Using user provided OfflineComponentProvider");try{await lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await lf(t,new Gu)}}else te(Ts,"Using default OfflineComponentProvider"),await lf(t,new tj(void 0));return t._offlineComponents}async function qC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Ts,"Using user provided OnlineComponentProvider"),await H0(t,t._uninitializedComponentsProvider._online)):(te(Ts,"Using default OnlineComponentProvider"),await H0(t,new zp))),t._onlineComponents}function ij(t){return qC(t).then(e=>e.syncEngine)}async function oj(t){const e=await qC(t),n=e.eventManager;return n.onListen=B$.bind(null,e.syncEngine),n.onUnlisten=W$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q$.bind(null,e.syncEngine),n}function aj(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new nj({next:m=>{h.Nu(),o.enqueueAndForget(()=>O$(i,f)),m.fromCache&&l.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new $$(a,h,{includeMetadataChanges:!0,qa:!0});return N$(i,f)}(await oj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firestore.googleapis.com",q0=!0;class G0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KC,this.ssl=q0}else this.host=e.host,this.ssl=e.ssl??q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MD)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new hM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W0.get(n);r&&(te("ComponentProvider","Removing Datastore"),W0.delete(n),r.terminate())}(this),Promise.resolve()}}function lj(t,e,n,r={}){var u;t=Io(t,qd);const s=As(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Jm(`https://${a}`),Zm("Firestore",!0)),i.host!==KC&&i.host!==a&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ws(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Lt.MOCK_USER;else{h=vS(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lt(m)}t._authCredentials=new cM(new DT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ll(n,ft._jsonSchema))return new ft(e,r||null,new oe(Fe.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:ct("string",ft._jsonSchemaVersion),referencePath:ct("string")};class gs extends Ms{constructor(e,n,r){super(e,n,tC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new oe(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Zr(t,e,...n){if(t=We(t),$T("collection","path",e),t instanceof qd){const r=Fe.fromString(e,...n);return o0(r),new gs(t,null,r)}{if(!(t instanceof ft||t instanceof gs))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return o0(r),new gs(t.firestore,null,r)}}function Hp(t,e,...n){if(t=We(t),arguments.length===1&&(e=mg.newId()),$T("doc","path",e),t instanceof qd){const r=Fe.fromString(e,...n);return i0(r),new ft(t,null,new oe(r))}{if(!(t instanceof ft||t instanceof gs))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return i0(r),new ft(t.firestore,t instanceof gs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RC(this,"async_queue_retry"),this._c=()=>{const r=af();r&&te(K0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;te(K0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",Y0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ng.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ue(47125,{Pc:Y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gd extends qd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Q0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function cj(t,e){const n=typeof t=="object"?t:Pd(),r=typeof t=="string"?t:ju,s=Rs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=mS("firestore");i&&lj(s,...i)}return s}function QC(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uj(t),t._firestoreClient}function uj(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,h){return new RM(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(Pt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ll(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ct("string",wn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:or._jsonSchemaVersion}}static fromJSON(e){if(Ll(e,or._jsonSchema))return new or(e.latitude,e.longitude)}}or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:ct("string",or._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ll(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ar(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:ct("string",ar._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=/^__.*__$/;class hj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(e,this.data,n,this.fieldTransforms)}}class YC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ac:t})}}class Fg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ku(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JC(this.Ac)&&dj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}Cc(e,n,r,s=!1){return new Fg({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new fj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pj(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Ug("Data must be an object, but it was:",o,r);const a=ZC(r,o);let l,u;if(i.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Wp(e,f,n);if(!o.contains(m))throw new J(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eI(h,m)||h.push(m)}l=new ln(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new hj(new Kt(a),l,u)}class Qd extends jg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function mj(t,e,n,r){const s=t.Cc(1,e,n);Ug("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();Ns(r,(l,u)=>{const h=Bg(e,l,n);u=We(u);const f=s.yc(h);if(u instanceof Qd)i.push(h);else{const m=$l(u,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new ln(i);return new YC(o,a,s.fieldTransforms)}function gj(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Wp(e,r,n)],l=[s];if(i.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Wp(e,i[m])),l.push(i[m+1]);const u=[],h=Kt.empty();for(let m=a.length-1;m>=0;--m)if(!eI(u,a[m])){const v=a[m];let g=l[m];g=We(g);const T=o.yc(v);if(g instanceof Qd)u.push(v);else{const S=$l(g,T);S!=null&&(u.push(v),h.set(v,S))}}const f=new ln(u);return new YC(h,f,o.fieldTransforms)}function yj(t,e,n,r=!1){return $l(n,t.Cc(r?4:3,e))}function $l(t,e){if(XC(t=We(t)))return Ug("Unsupported field value:",e,t),ZC(t,e);if(t instanceof jg)return function(r,s){if(!JC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=$l(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Oe.fromDate(r);return{timestampValue:Hu(s.serializer,i)}}if(r instanceof Oe){const i=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hu(s.serializer,i)}}if(r instanceof or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wn)return{bytesValue:wC(s.serializer,r._byteString)};if(r instanceof ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ar)return function(o,a){return{mapValue:{fields:{[qT]:{stringValue:GT},[Fu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return xg(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Od(r)}`)}(t,e)}function ZC(t,e){const n={};return VT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,s)=>{const i=$l(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof or||t instanceof wn||t instanceof ft||t instanceof jg||t instanceof ar)}function Ug(t,e,n){if(!XC(n)||!jT(n)){const r=Od(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wp(t,e,n){if((e=We(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return Bg(t,e);throw Ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const vj=new RegExp("[~\\*/\\[\\]]");function Bg(t,e,n){if(e.search(vj)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ku(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function eI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wj extends tI{data(){return super.data()}}function Yd(t,e){return typeof e=="string"?Bg(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class Hg extends zg{}function Qu(t,e,...n){let r=[];e instanceof zg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Wg).length,a=i.filter(l=>l instanceof Jd).length;if(o>1||o>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jd extends Hg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return nI(e._query,n),new Ms(e.firestore,e.converter,Op(e._query,n))}_parse(e){const n=Vg(e.firestore);return function(i,o,a,l,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Z0(f,h);const g=[];for(const T of f)g.push(J0(l,i,T));m={arrayValue:{values:g}}}else m=J0(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Z0(f,h),m=yj(a,o,f,h==="in"||h==="not-in");return lt.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xj(t,e,n){const r=e,s=Yd("where",t);return Jd._create(s,r,n)}class Wg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)nI(o,l),o=Op(o,l)}(e._query,n),new Ms(e.firestore,e.converter,Op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends Hg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vl(i,o)}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Vo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function qp(t,e="asc"){const n=e,r=Yd("orderBy",t);return qg._create(r,n)}class Gg extends Hg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gg(e,n,r)}_apply(e){return new Ms(e.firestore,e.converter,Uu(e._query,this._limit,this._limitType))}}function Gp(t){return wM("limit",t),Gg._create("limit",t,"F")}function J0(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nC(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!oe.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p0(t,new oe(r))}if(n instanceof ft)return p0(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function Z0(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bj{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Fu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>rt(o.doubleValue));return new ar(n)}convertGeoPoint(e){return new or(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const n=xs(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Me(TC(r),9688,{name:e});const s=new gl(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends tI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:ct("string",po._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Yc extends po{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ec(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ec(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ec(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Sj(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:ct("string",mo._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Tj extends bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function Yu(t){t=Io(t,Ms);const e=Io(t.firestore,Gd),n=QC(e),r=new Tj(e);return _j(t._query),aj(n,t._query).then(s=>new mo(e,r,t,s))}function X0(t,e,n,...r){t=Io(t,ft);const s=Io(t.firestore,Gd),i=Vg(s);let o;return o=typeof(e=We(e))=="string"||e instanceof Kd?gj(i,"updateDoc",t._key,e,n,r):mj(i,"updateDoc",t._key,e),rI(s,[o.toMutation(t._key,sr.exists(!0))])}function Jc(t,e){const n=Io(t.firestore,Gd),r=Hp(t),s=Ej(t.converter,e);return rI(n,[pj(Vg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function rI(t,e){return function(r,s){const i=new ms;return r.asyncQueue.enqueueAndForget(async()=>G$(await ij(r),s,i)),i.promise}(QC(t),e)}(function(e,n=!0){(function(s){$o=s})(Ci),Dn(new Sn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Gd(new uM(r.getProvider("auth-internal")),new fM(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xt(t0,n0,e),Xt(t0,n0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebasestorage.googleapis.com",iI="storageBucket",Cj=2*60*1e3,Ij=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Tn{constructor(e,n,r=0){super(cf(e),`Firebase Storage: ${n} (${cf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function cf(t){return"storage/"+t}function Kg(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(et.UNKNOWN,t)}function Pj(t){return new tt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Aj(t){return new tt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(et.UNAUTHENTICATED,t)}function kj(){return new tt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Lj(t){return new tt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Nj(){return new tt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Oj(){return new tt(et.CANCELED,"User canceled the upload/download.")}function Mj(t){return new tt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function Dj(t){return new tt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $j(){return new tt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iI+"' property when initializing the app?")}function jj(){return new tt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fj(){return new tt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Vj(t){return new tt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kp(t){return new tt(et.INVALID_ARGUMENT,t)}function oI(){return new tt(et.APP_DELETED,"The Firebase app was deleted.")}function Uj(t){return new tt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function za(t,e){return new tt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fa(t){throw new tt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(r.path==="")return r;throw Dj(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),g={bucket:1,path:3},T=n===sI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${T}/${s}/${S}`,"i"),I=[{regex:a,indices:l,postModify:i},{regex:v,indices:g,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<I.length;k++){const N=I[k],M=N.regex.exec(e);if(M){const E=M[N.indices.bucket];let b=M[N.indices.path];b||(b=""),r=new cn(E,b),N.postModify(r);break}}if(r==null)throw Mj(e);return r}}class Bj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function f(S){s=setTimeout(()=>{s=null,t(v,l())},S)}function m(){i&&clearTimeout(i)}function v(S,...C){if(u){m();return}if(S){m(),h.call(null,S,...C);return}if(l()||o){m(),h.call(null,S,...C);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,f(I)}let g=!1;function T(S){g||(g=!0,m(),!u&&(s!==null?(S||(a=2),clearTimeout(s),f(0)):S||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function Hj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){return t!==void 0}function qj(t){return typeof t=="object"&&!Array.isArray(t)}function Qg(t){return typeof t=="string"||t instanceof String}function e_(t){return Yg()&&t instanceof Blob}function Yg(){return typeof Blob<"u"}function t_(t,e,n,r){if(r<e)throw Kp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Kp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function aI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ai||(ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r,s,i,o,a,l,u,h,f,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,T)=>{this.resolve_=g,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Sc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ai.NO_ERROR,l=i.getStatus();if(!a||Gj(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ai.ABORT;r(!1,new Sc(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Sc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Wj(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Kg();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?oI():Oj();o(l)}else{const l=Nj();o(l)}};this.canceled_?n(!1,new Sc(!1,null,!0)):this.backoffId_=zj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Hj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Qj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xj(t,e,n,r,s,i,o=!0,a=!1){const l=aI(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return Jj(h,e),Qj(h,n),Yj(h,i),Zj(h,r),new Kj(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t4(...t){const e=e4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Yg())return new Blob(t);throw new tt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){if(typeof atob>"u")throw Vj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uf{constructor(e,n){this.data=e,this.contentType=n||null}}function lI(t,e){switch(t){case Ln.RAW:return new uf(cI(e));case Ln.BASE64:case Ln.BASE64URL:return new uf(uI(t,e));case Ln.DATA_URL:return new uf(i4(e),o4(e))}throw Kg()}function cI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function s4(t){let e;try{e=decodeURIComponent(t)}catch{throw za(Ln.DATA_URL,"Malformed data URL.")}return cI(e)}function uI(t,e){switch(t){case Ln.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw za(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw za(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=r4(e)}catch(s){throw s.message.includes("polyfill")?s:za(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class dI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw za(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=a4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function i4(t){const e=new dI(t);return e.base64?uI(Ln.BASE64,e.rest):s4(e.rest)}function o4(t){return new dI(t).contentType}function a4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,s="";e_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(e_(this.data_)){const r=this.data_,s=n4(r,e,n);return s===null?null:new Xr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(Yg()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(t4.apply(null,n))}else{const n=e.map(o=>Qg(o)?lI(Ln.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Xr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){let e;try{e=JSON.parse(t)}catch{return null}return qj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function c4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){return e}class Vt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||u4}}let Tc=null;function d4(t){return!Qg(t)||t.length<2?t:fI(t)}function pI(){if(Tc)return Tc;const t=[];t.push(new Vt("bucket")),t.push(new Vt("generation")),t.push(new Vt("metageneration")),t.push(new Vt("name","fullPath",!0));function e(i,o){return d4(o)}const n=new Vt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Vt("size");return s.xform=r,t.push(s),t.push(new Vt("timeCreated")),t.push(new Vt("updated")),t.push(new Vt("md5Hash",null,!0)),t.push(new Vt("cacheControl",null,!0)),t.push(new Vt("contentDisposition",null,!0)),t.push(new Vt("contentEncoding",null,!0)),t.push(new Vt("contentLanguage",null,!0)),t.push(new Vt("contentType",null,!0)),t.push(new Vt("metadata","customMetadata",!0)),Tc=t,Tc}function h4(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new cn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function f4(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return h4(r,t),r}function mI(t,e,n){const r=hI(e);return r===null?null:f4(t,r,n)}function p4(t,e,n,r){const s=hI(e);if(s===null||!Qg(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),v=Jg(m,n,r),g=aI({alt:"media",token:u});return v+g})[0]}function m4(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class gI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){if(!t)throw Kg()}function g4(t,e){function n(r,s){const i=mI(t,s,e);return yI(i!==null),i}return n}function y4(t,e){function n(r,s){const i=mI(t,s,e);return yI(i!==null),p4(i,s,t.host,t._protocol)}return n}function vI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=kj():s=Rj():n.getStatus()===402?s=Aj(t.bucket):n.getStatus()===403?s=Lj(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function v4(t){const e=vI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Pj(t.path)),i.serverResponse=s.serverResponse,i}return n}function w4(t,e,n){const r=e.fullServerUrl(),s=Jg(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new gI(s,i,y4(t,n),o);return a.errorHandler=v4(e),a}function _4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function x4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_4(null,e)),r}function b4(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let k=0;k<2;k++)I=I+Math.random().toString().slice(2);return I}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=x4(e,r,s),h=m4(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=Xr.getBlob(f,r,m);if(v===null)throw jj();const g={name:u.fullPath},T=Jg(i,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,_=new gI(T,S,g4(t,n),C);return _.urlParams=g,_.headers=o,_.body=v.uploadData(),_.errorHandler=vI(e),_}class E4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw fa("cannot .send() more than once");if(As(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class S4 extends E4{initXhr(){this.xhr_.responseType="text"}}function wI(){return new S4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _i(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fI(this._location.path)}get storage(){return this._service}get parent(){const e=l4(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new _i(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Uj(e)}}function T4(t,e,n){t._throwIfRoot("uploadBytes");const r=b4(t.storage,t._location,pI(),new Xr(e,!0),n);return t.storage.makeRequestWithTokens(r,wI).then(s=>({metadata:s,ref:t}))}function C4(t,e,n=Ln.RAW,r){t._throwIfRoot("uploadString");const s=lI(n,e),i={...r};return i.contentType==null&&s.contentType!=null&&(i.contentType=s.contentType),T4(t,s.data,i)}function I4(t){t._throwIfRoot("getDownloadURL");const e=w4(t.storage,t._location,pI());return t.storage.makeRequestWithTokens(e,wI).then(n=>{if(n===null)throw Fj();return n})}function P4(t,e){const n=c4(t._location.path,e),r=new cn(t._location.bucket,n);return new _i(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){return/^[A-Za-z]+:\/\//.test(t)}function R4(t,e){return new _i(t,e)}function _I(t,e){if(t instanceof Zg){const n=t;if(n._bucket==null)throw $j();const r=new _i(n,n._bucket);return e!=null?_I(r,e):r}else return e!==void 0?P4(t,e):t}function k4(t,e){if(e&&A4(e)){if(t instanceof Zg)return R4(t,e);throw Kp("To use ref(service, url), the first argument must be a Storage instance.")}else return _I(t,e)}function n_(t,e){const n=e==null?void 0:e[iI];return n==null?null:cn.makeFromBucketSpec(n,t)}function L4(t,e,n,r={}){t.host=`${e}:${n}`;const s=As(e);s&&(Jm(`https://${t.host}/b`),Zm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vS(i,t.app.options.projectId))}class Zg{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=sI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cj,this._maxUploadRetryTime=Ij,this._requests=new Set,s!=null?this._bucket=cn.makeFromBucketSpec(s,this._host):this._bucket=n_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=n_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _i(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Bj(oI());{const o=Xj(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const r_="@firebase/storage",s_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="storage";function N4(t,e,n,r){return t=We(t),C4(t,e,n,r)}function O4(t){return t=We(t),I4(t)}function M4(t,e){return t=We(t),k4(t,e)}function D4(t=Pd(),e){t=We(t);const r=Rs(t,xI).getImmediate({identifier:e}),s=mS("storage");return s&&$4(r,...s),r}function $4(t,e,n,r={}){L4(t,e,n,r)}function j4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Zg(n,r,s,e,Ci)}function F4(){Dn(new Sn(xI,j4,"PUBLIC").setMultipleInstances(!0)),Xt(r_,s_,""),Xt(r_,s_,"esm2020")}F4();const V4={apiKey:"AIzaSyC_afRd0Ss4wk85D-940qtbSQPH_DUtMcU",authDomain:"sasyayojana-79840.firebaseapp.com",projectId:"sasyayojana-79840",storageBucket:"sasyayojana-79840.firebasestorage.app",messagingSenderId:"722672208125",appId:"1:722672208125:web:856be97e10465e89eb9694",measurementId:"G-71RGGWLD25"},Zd=TS(V4);rM(Zd);const go=$2(Zd),Jn=cj(Zd),U4=D4(Zd);var bI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i_=rs.createContext&&rs.createContext(bI),B4=["attr","size","title"];function z4(t,e){if(t==null)return{};var n=H4(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){W4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W4(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=G4(t,"string");return typeof e=="symbol"?e:e+""}function G4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EI(t){return t&&t.map((e,n)=>rs.createElement(e.tag,Zu({key:n},e.attr),EI(e.child)))}function Xg(t){return e=>rs.createElement(K4,Ju({attr:Zu({},t.attr)},e),EI(t.child))}function K4(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=z4(t,B4),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),rs.createElement("svg",Ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Zu(Zu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&rs.createElement("title",null,i),t.children)};return i_!==void 0?rs.createElement(i_.Consumer,null,n=>e(n)):e(bI)}function a_(t){return Xg({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function l_(t){return Xg({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function c_(t){return Xg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"},child:[]}]})(t)}const Q4=({onLanguageSelected:t})=>{const{t:e,i18n:n}=Ar(),[r,s]=y.useState(null),i=a=>{n.changeLanguage(a),t&&setTimeout(t,300)},o=[{code:"en",label:"English",native:"English"},{code:"hi",label:"",native:"Hindi"},{code:"mr",label:"",native:"Marathi"},{code:"te",label:"",native:"Telugu"},{code:"kn",label:"",native:"Kannada"}];return d.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-emerald-50 via-green-50 to-lime-50",children:[d.jsx("div",{className:"absolute top-10 left-10 opacity-10",children:d.jsx(l_,{className:"text-green-600 text-9xl transform -rotate-12"})}),d.jsx("div",{className:"absolute bottom-20 right-10 opacity-10",children:d.jsx(c_,{className:"text-green-600 text-9xl transform rotate-12"})}),d.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center min-h-screen p-6",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 shadow-2xl mb-4 animate-pulse",children:d.jsx(a_,{className:"text-white text-4xl"})}),d.jsx("h1",{className:"text-5xl sm:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 mb-2",children:e("appName")||"SasyaYojana"}),d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-700",children:[d.jsx("div",{className:"h-px w-12 bg-green-400"}),d.jsx(c_,{className:"text-green-500 text-sm"}),d.jsx("div",{className:"h-px w-12 bg-green-400"})]})]}),d.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 sm:p-12 max-w-2xl w-full border border-green-100",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-green-800 text-center mb-3",children:e("selectLanguage")||"Choose Your Language"}),d.jsx("p",{className:"text-green-600 text-center text-base mb-8",children:e("experienceAIforSmartFarming")||"Experience AI-powered smart farming"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:o.map(a=>{const l=n.language===a.code,u=r===a.code;return d.jsxs("button",{onClick:()=>i(a.code),onMouseEnter:()=>s(a.code),onMouseLeave:()=>s(null),className:`relative group py-5 px-6 rounded-2xl font-semibold text-lg transition-all duration-300 transform ${l?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-xl scale-105 -translate-y-1":"bg-white border-2 border-green-200 text-green-700 hover:border-green-400 hover:shadow-lg hover:scale-102 hover:-translate-y-0.5"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{className:"text-2xl mb-1",children:a.label}),d.jsx("span",{className:`text-xs ${l?"text-green-100":"text-green-500"}`,children:a.native})]}),l&&d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white/20",children:d.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),!l&&u&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 to-emerald-400/10 rounded-2xl"})]},a.code)})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t border-green-100",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-2",children:d.jsx(l_,{className:"text-green-600 text-xl"})}),d.jsx("p",{className:"text-xs text-green-700 font-medium",children:e("sustainableFarming")||"Sustainable"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-emerald-100 mb-2",children:d.jsxs("svg",{className:"w-6 h-6 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:[d.jsx("path",{d:"M13 7H7v6h6V7z"}),d.jsx("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"})]})}),d.jsx("p",{className:"text-xs text-green-700 font-medium",children:e("poweredByAI")||"AI Powered"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-lime-100 mb-2",children:d.jsx(a_,{className:"text-lime-600 text-xl"})}),d.jsx("p",{className:"text-xs text-green-700 font-medium",children:e("multilingual")||"Multi-lingual"})]})]})]}),d.jsx("p",{className:"mt-8 text-green-600 text-sm text-center max-w-md",children:e("empoweringFarmers")||"Empowering farmers with intelligent solutions for a sustainable future "})]})]})},Y4=({onSwitchToSignup:t})=>{const{t:e}=Ar(),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(!1),h=async f=>{f.preventDefault(),u(!0),a("");try{await bN(go,n,s),console.log("User logged in successfully")}catch(m){console.error("Login error:",m);let v="";switch(m.code){case"auth/invalid-email":v=e("invalidEmail")||"Invalid email address";break;case"auth/user-disabled":v=e("userDisabled")||"User account has been disabled";break;case"auth/user-not-found":v=e("userNotFound")||"No user found with this email";break;case"auth/wrong-password":v=e("wrongPassword")||"Incorrect password";break;default:v=e("loginFailed")||"Failed to login. Please try again."}a(v)}finally{u(!1)}};return d.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-md p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:e("login")}),o&&d.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4",children:o}),d.jsxs("form",{onSubmit:h,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:e("email")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:f=>r(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:l})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:e("password")}),d.jsx("input",{type:"password",id:"password",value:s,onChange:f=>i(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:l})]}),d.jsx("button",{type:"submit",className:`w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 ${l?"opacity-75 cursor-not-allowed":""}`,disabled:l,children:l?e("loggingIn")||"Logging in...":e("login")})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:[e("noAccount")," ",d.jsx("button",{onClick:t,className:"text-green-600 hover:text-green-700 font-medium",disabled:l,children:e("signup")})]})})]})},J4=({onSwitchToLogin:t})=>{const{t:e}=Ar(),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(""),[h,f]=y.useState(!1),m=async v=>{if(v.preventDefault(),f(!0),u(""),s!==o){u(e("passwordsDontMatch")||"Passwords don't match"),f(!1);return}if(s.length<6){u(e("passwordTooShort")||"Password should be at least 6 characters"),f(!1);return}try{await xN(go,n,s),console.log("User signed up successfully")}catch(g){console.error("Signup error:",g);let T="";switch(g.code){case"auth/email-already-in-use":T=e("emailInUse")||"Email already in use";break;case"auth/invalid-email":T=e("invalidEmail")||"Invalid email address";break;case"auth/weak-password":T=e("weakPassword")||"Password is too weak";break;default:T=e("signupFailed")||"Failed to create account. Please try again."}u(T)}finally{f(!1)}};return d.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-md p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:e("signup")}),l&&d.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4",children:l}),d.jsxs("form",{onSubmit:m,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:e("email")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:h})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:e("password")}),d.jsx("input",{type:"password",id:"password",value:s,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:h})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 mb-2",children:e("confirmPassword")}),d.jsx("input",{type:"password",id:"confirmPassword",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:h})]}),d.jsx("button",{type:"submit",className:`w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 ${h?"opacity-75 cursor-not-allowed":""}`,disabled:h,children:h?e("creatingAccount")||"Creating account...":e("signup")})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:[e("alreadyHaveAccount")," ",d.jsx("button",{onClick:t,className:"text-green-600 hover:text-green-700 font-medium",disabled:h,children:e("login")})]})})]})};function SI(t,e){return function(){return t.apply(e,arguments)}}const{toString:Z4}=Object.prototype,{getPrototypeOf:ey}=Object,{iterator:Xd,toStringTag:TI}=Symbol,eh=(t=>e=>{const n=Z4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=t=>(t=t.toLowerCase(),e=>eh(e)===t),th=t=>e=>typeof e===t,{isArray:Bo}=Array,Lo=th("undefined");function jl(t){return t!==null&&!Lo(t)&&t.constructor!==null&&!Lo(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const CI=Fn("ArrayBuffer");function X4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&CI(t.buffer),e}const eF=th("string"),en=th("function"),II=th("number"),Fl=t=>t!==null&&typeof t=="object",tF=t=>t===!0||t===!1,Zc=t=>{if(eh(t)!=="object")return!1;const e=ey(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(TI in t)&&!(Xd in t)},nF=t=>{if(!Fl(t)||jl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},rF=Fn("Date"),sF=Fn("File"),iF=Fn("Blob"),oF=Fn("FileList"),aF=t=>Fl(t)&&en(t.pipe),lF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=eh(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},cF=Fn("URLSearchParams"),[uF,dF,hF,fF]=["ReadableStream","Request","Response","Headers"].map(Fn),pF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Bo(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(jl(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function PI(t,e){if(jl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AI=t=>!Lo(t)&&t!==ni;function Qp(){const{caseless:t,skipUndefined:e}=AI(this)&&this||{},n={},r=(s,i)=>{const o=t&&PI(n,i)||i;Zc(n[o])&&Zc(s)?n[o]=Qp(n[o],s):Zc(s)?n[o]=Qp({},s):Bo(s)?n[o]=s.slice():(!e||!Lo(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Vl(arguments[s],r);return n}const mF=(t,e,n,{allOwnKeys:r}={})=>(Vl(e,(s,i)=>{n&&en(s)?t[i]=SI(s,n):t[i]=s},{allOwnKeys:r}),t),gF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vF=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ey(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_F=t=>{if(!t)return null;if(Bo(t))return t;let e=t.length;if(!II(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},xF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ey(Uint8Array)),bF=(t,e)=>{const r=(t&&t[Xd]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},EF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},SF=Fn("HTMLFormElement"),TF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),u_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CF=Fn("RegExp"),RI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Vl(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},IF=t=>{RI(t,(e,n)=>{if(en(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(en(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},PF=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Bo(t)?r(t):r(String(t).split(e)),n},AF=()=>{},RF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function kF(t){return!!(t&&en(t.append)&&t[TI]==="FormData"&&t[Xd])}const LF=t=>{const e=new Array(10),n=(r,s)=>{if(Fl(r)){if(e.indexOf(r)>=0)return;if(jl(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Bo(r)?[]:{};return Vl(r,(o,a)=>{const l=n(o,s+1);!Lo(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},NF=Fn("AsyncFunction"),OF=t=>t&&(Fl(t)||en(t))&&en(t.then)&&en(t.catch),kI=((t,e)=>t?setImmediate:e?((n,r)=>(ni.addEventListener("message",({source:s,data:i})=>{s===ni&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ni.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(ni.postMessage)),MF=typeof queueMicrotask<"u"?queueMicrotask.bind(ni):typeof process<"u"&&process.nextTick||kI,DF=t=>t!=null&&en(t[Xd]),$={isArray:Bo,isArrayBuffer:CI,isBuffer:jl,isFormData:lF,isArrayBufferView:X4,isString:eF,isNumber:II,isBoolean:tF,isObject:Fl,isPlainObject:Zc,isEmptyObject:nF,isReadableStream:uF,isRequest:dF,isResponse:hF,isHeaders:fF,isUndefined:Lo,isDate:rF,isFile:sF,isBlob:iF,isRegExp:CF,isFunction:en,isStream:aF,isURLSearchParams:cF,isTypedArray:xF,isFileList:oF,forEach:Vl,merge:Qp,extend:mF,trim:pF,stripBOM:gF,inherits:yF,toFlatObject:vF,kindOf:eh,kindOfTest:Fn,endsWith:wF,toArray:_F,forEachEntry:bF,matchAll:EF,isHTMLForm:SF,hasOwnProperty:u_,hasOwnProp:u_,reduceDescriptors:RI,freezeMethods:IF,toObjectSet:PF,toCamelCase:TF,noop:AF,toFiniteNumber:RF,findKey:PI,global:ni,isContextDefined:AI,isSpecCompliantForm:kF,toJSONObject:LF,isAsyncFn:NF,isThenable:OF,setImmediate:kI,asap:MF,isIterable:DF};function ge(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const LI=ge.prototype,NI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NI[t]={value:t}});Object.defineProperties(ge,NI);Object.defineProperty(LI,"isAxiosError",{value:!0});ge.from=(t,e,n,r,s,i)=>{const o=Object.create(LI);$.toFlatObject(t,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ge.call(o,a,l,n,r,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const $F=null;function Yp(t){return $.isPlainObject(t)||$.isArray(t)}function OI(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function d_(t,e,n){return t?t.concat(e).map(function(s,i){return s=OI(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function jF(t){return $.isArray(t)&&!t.some(Yp)}const FF=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function nh(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!$.isUndefined(S[T])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if($.isDate(g))return g.toISOString();if($.isBoolean(g))return g.toString();if(!l&&$.isBlob(g))throw new ge("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(g)||$.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,T,S){let C=g;if(g&&!S&&typeof g=="object"){if($.endsWith(T,"{}"))T=r?T:T.slice(0,-2),g=JSON.stringify(g);else if($.isArray(g)&&jF(g)||($.isFileList(g)||$.endsWith(T,"[]"))&&(C=$.toArray(g)))return T=OI(T),C.forEach(function(I,k){!($.isUndefined(I)||I===null)&&e.append(o===!0?d_([T],k,i):o===null?T:T+"[]",u(I))}),!1}return Yp(g)?!0:(e.append(d_(S,T,i),u(g)),!1)}const f=[],m=Object.assign(FF,{defaultVisitor:h,convertValue:u,isVisitable:Yp});function v(g,T){if(!$.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+T.join("."));f.push(g),$.forEach(g,function(C,_){(!($.isUndefined(C)||C===null)&&s.call(e,C,$.isString(_)?_.trim():_,T,m))===!0&&v(C,T?T.concat(_):[_])}),f.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return v(t),e}function h_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ty(t,e){this._pairs=[],t&&nh(t,this,e)}const MI=ty.prototype;MI.append=function(e,n){this._pairs.push([e,n])};MI.toString=function(e){const n=e?function(r){return e.call(this,r,h_)}:h_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function VF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DI(t,e,n){if(!e)return t;const r=n&&n.encode||VF;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=$.isURLSearchParams(e)?e.toString():new ty(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class f_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $I={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UF=typeof URLSearchParams<"u"?URLSearchParams:ty,BF=typeof FormData<"u"?FormData:null,zF=typeof Blob<"u"?Blob:null,HF={isBrowser:!0,classes:{URLSearchParams:UF,FormData:BF,Blob:zF},protocols:["http","https","file","blob","url","data"]},ny=typeof window<"u"&&typeof document<"u",Jp=typeof navigator=="object"&&navigator||void 0,WF=ny&&(!Jp||["ReactNative","NativeScript","NS"].indexOf(Jp.product)<0),qF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GF=ny&&window.location.href||"http://localhost",KF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ny,hasStandardBrowserEnv:WF,hasStandardBrowserWebWorkerEnv:qF,navigator:Jp,origin:GF},Symbol.toStringTag,{value:"Module"})),Mt={...KF,...HF};function QF(t,e){return nh(t,new Mt.classes.URLSearchParams,{visitor:function(n,r,s,i){return Mt.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function YF(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JF(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function jI(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,l?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=JF(s[o])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,s)=>{e(YF(r),s,n,0)}),n}return null}function ZF(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ul={transitional:$I,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(e);if(i&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return s?JSON.stringify(jI(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return QF(e,this.formSerializer).toString();if((a=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),ZF(e)):e}],transformResponse:[function(e){const n=this.transitional||Ul.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{Ul.headers[t]={}});const XF=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eV=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&XF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},p_=Symbol("internals");function pa(t){return t&&String(t).trim().toLowerCase()}function Xc(t){return t===!1||t==null?t:$.isArray(t)?t.map(Xc):String(t)}function tV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const nV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function df(t,e,n,r,s){if($.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function rV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function sV(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const h=pa(l);if(!h)throw new Error("header name must be a non-empty string");const f=$.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Xc(a))}const o=(a,l)=>$.forEach(a,(u,h)=>i(u,h,l));if($.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if($.isString(e)&&(e=e.trim())&&!nV(e))o(eV(e),n);else if($.isObject(e)&&$.isIterable(e)){let a={},l,u;for(const h of e){if(!$.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[u=h[0]]=(l=a[u])?$.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=pa(e),e){const r=$.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return tV(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=pa(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||df(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=pa(o),o){const a=$.findKey(r,o);a&&(!n||df(r,r[a],a,n))&&(delete r[a],s=!0)}}return $.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||df(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return $.forEach(this,(s,i)=>{const o=$.findKey(r,i);if(o){n[o]=Xc(s),delete n[i];return}const a=e?rV(i):String(i).trim();a!==i&&delete n[i],n[a]=Xc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[p_]=this[p_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=pa(o);r[a]||(sV(s,o),r[a]=!0)}return $.isArray(e)?e.forEach(i):i(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(tn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(tn);function hf(t,e){const n=this||Ul,r=e||n,s=tn.from(r.headers);let i=r.data;return $.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function FI(t){return!!(t&&t.__CANCEL__)}function zo(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(zo,ge,{__CANCEL__:!0});function VI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,m=0;for(;f!==s;)m+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const v=h&&u-h;return v?Math.round(m*1e3/v):void 0}}function aV(t,e){let n=0,r=1e3/e,s,i;const o=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Xu=(t,e,n=3)=>{let r=0;const s=oV(50,250);return aV(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},m_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},g_=t=>(...e)=>$.asap(()=>t(...e)),lV=Mt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Mt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,cV=Mt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),$.isString(r)&&o.push("path="+r),$.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UI(t,e,n){let r=!uV(e);return t&&(r||n==!1)?dV(t,e):e}const y_=t=>t instanceof tn?{...t}:t;function xi(t,e){e=e||{};const n={};function r(u,h,f,m){return $.isPlainObject(u)&&$.isPlainObject(h)?$.merge.call({caseless:m},u,h):$.isPlainObject(h)?$.merge({},h):$.isArray(h)?h.slice():h}function s(u,h,f,m){if($.isUndefined(h)){if(!$.isUndefined(u))return r(void 0,u,f,m)}else return r(u,h,f,m)}function i(u,h){if(!$.isUndefined(h))return r(void 0,h)}function o(u,h){if($.isUndefined(h)){if(!$.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h,f)=>s(y_(u),y_(h),f,!0)};return $.forEach(Object.keys({...t,...e}),function(h){const f=l[h]||s,m=f(t[h],e[h],h);$.isUndefined(m)&&f!==a||(n[h]=m)}),n}const BI=t=>{const e=xi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=tn.from(o),e.url=DI(UI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),$.isFormData(n)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([h,f])=>{u.includes(h.toLowerCase())&&o.set(h,f)})}}if(Mt.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&lV(e.url))){const l=s&&i&&cV.read(i);l&&o.set(s,l)}return e},hV=typeof XMLHttpRequest<"u",fV=hV&&function(t){return new Promise(function(n,r){const s=BI(t);let i=s.data;const o=tn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,f,m,v,g;function T(){v&&v(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function C(){if(!S)return;const I=tn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:I,config:t,request:S};VI(function(E){n(E),T()},function(E){r(E),T()},N),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(r(new ge("Request aborted",ge.ECONNABORTED,t,S)),S=null)},S.onerror=function(k){const N=k&&k.message?k.message:"Network Error",M=new ge(N,ge.ERR_NETWORK,t,S);M.event=k||null,r(M),S=null},S.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||$I;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new ge(k,N.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&$.forEach(o.toJSON(),function(k,N){S.setRequestHeader(N,k)}),$.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([m,g]=Xu(u,!0),S.addEventListener("progress",m)),l&&S.upload&&([f,v]=Xu(l),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=I=>{S&&(r(!I||I.type?new zo(null,t,S):I),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const _=iV(s.url);if(_&&Mt.protocols.indexOf(_)===-1){r(new ge("Unsupported protocol "+_+":",ge.ERR_BAD_REQUEST,t));return}S.send(i||null)})},pV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ge?h:new zo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>$.asap(a),l}},mV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},gV=async function*(t,e){for await(const n of yV(t))yield*mV(n,e)},yV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},v_=(t,e,n,r)=>{const s=gV(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let m=i+=f;n(m)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},w_=64*1024,{isFunction:Cc}=$,vV=(({Request:t,Response:e})=>({Request:t,Response:e}))($.global),{ReadableStream:__,TextEncoder:x_}=$.global,b_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},wV=t=>{t=$.merge.call({skipUndefined:!0},vV,t);const{fetch:e,Request:n,Response:r}=t,s=e?Cc(e):typeof fetch=="function",i=Cc(n),o=Cc(r);if(!s)return!1;const a=s&&Cc(__),l=s&&(typeof x_=="function"?(g=>T=>g.encode(T))(new x_):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&a&&b_(()=>{let g=!1;const T=new n(Mt.origin,{body:new __,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!T}),h=o&&a&&b_(()=>$.isReadableStream(new r("").body)),f={stream:h&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(T,S)=>{let C=T&&T[g];if(C)return C.call(T);throw new ge(`Response type '${g}' is not supported`,ge.ERR_NOT_SUPPORT,S)})});const m=async g=>{if(g==null)return 0;if($.isBlob(g))return g.size;if($.isSpecCompliantForm(g))return(await new n(Mt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if($.isArrayBufferView(g)||$.isArrayBuffer(g))return g.byteLength;if($.isURLSearchParams(g)&&(g=g+""),$.isString(g))return(await l(g)).byteLength},v=async(g,T)=>{const S=$.toFiniteNumber(g.getContentLength());return S??m(T)};return async g=>{let{url:T,method:S,data:C,signal:_,cancelToken:I,timeout:k,onDownloadProgress:N,onUploadProgress:M,responseType:E,headers:b,withCredentials:x="same-origin",fetchOptions:A}=BI(g),L=e||fetch;E=E?(E+"").toLowerCase():"text";let O=pV([_,I&&I.toAbortSignal()],k),R=null;const q=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let re;try{if(M&&u&&S!=="get"&&S!=="head"&&(re=await v(b,C))!==0){let K=new n(T,{method:"POST",body:C,duplex:"half"}),Z;if($.isFormData(C)&&(Z=K.headers.get("content-type"))&&b.setContentType(Z),K.body){const[X,ie]=m_(re,Xu(g_(M)));C=v_(K.body,w_,X,ie)}}$.isString(x)||(x=x?"include":"omit");const ee=i&&"credentials"in n.prototype,ae={...A,signal:O,method:S.toUpperCase(),headers:b.normalize().toJSON(),body:C,duplex:"half",credentials:ee?x:void 0};R=i&&new n(T,ae);let U=await(i?L(R,A):L(T,ae));const W=h&&(E==="stream"||E==="response");if(h&&(N||W&&q)){const K={};["status","statusText","headers"].forEach(V=>{K[V]=U[V]});const Z=$.toFiniteNumber(U.headers.get("content-length")),[X,ie]=N&&m_(Z,Xu(g_(N),!0))||[];U=new r(v_(U.body,w_,X,()=>{ie&&ie(),q&&q()}),K)}E=E||"text";let G=await f[$.findKey(f,E)||"text"](U,g);return!W&&q&&q(),await new Promise((K,Z)=>{VI(K,Z,{data:G,headers:tn.from(U.headers),status:U.status,statusText:U.statusText,config:g,request:R})})}catch(ee){throw q&&q(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,g,R),{cause:ee.cause||ee}):ge.from(ee,ee&&ee.code,g,R)}}},_V=new Map,zI=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let o=i.length,a=o,l,u,h=_V;for(;a--;)l=i[a],u=h.get(l),u===void 0&&h.set(l,u=a?new Map:wV(e)),h=u;return u};zI();const Zp={http:$F,xhr:fV,fetch:{get:zI}};$.forEach(Zp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const E_=t=>`- ${t}`,xV=t=>$.isFunction(t)||t===null||t===!1,HI={getAdapter:(t,e)=>{t=$.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let o=0;o<n;o++){r=t[o];let a;if(s=r,!xV(r)&&(s=Zp[(a=String(r)).toLowerCase()],s===void 0))throw new ge(`Unknown adapter '${a}'`);if(s&&($.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(E_).join(`
`):" "+E_(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Zp};function ff(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zo(null,t)}function S_(t){return ff(t),t.headers=tn.from(t.headers),t.data=hf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),HI.getAdapter(t.adapter||Ul.adapter,t)(t).then(function(r){return ff(t),r.data=hf.call(t,t.transformResponse,r),r.headers=tn.from(r.headers),r},function(r){return FI(r)||(ff(t),r&&r.response&&(r.response.data=hf.call(t,t.transformResponse,r.response),r.response.headers=tn.from(r.response.headers))),Promise.reject(r)})}const WI="1.12.2",rh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const T_={};rh.transitional=function(e,n,r){function s(i,o){return"[Axios v"+WI+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ge(s(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!T_[o]&&(T_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};rh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function bV(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ge("option "+i+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+i,ge.ERR_BAD_OPTION)}}const eu={assertOptions:bV,validators:rh},Gn=eu.validators;let li=class{constructor(e){this.defaults=e||{},this.interceptors={request:new f_,response:new f_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=xi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&eu.assertOptions(r,{silentJSONParsing:Gn.transitional(Gn.boolean),forcedJSONParsing:Gn.transitional(Gn.boolean),clarifyTimeoutError:Gn.transitional(Gn.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:eu.assertOptions(s,{encode:Gn.function,serialize:Gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),eu.assertOptions(n,{baseUrl:Gn.spelling("baseURL"),withXsrfToken:Gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=tn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(l=l&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const u=[];this.interceptors.response.forEach(function(T){u.push(T.fulfilled,T.rejected)});let h,f=0,m;if(!l){const g=[S_.bind(this),void 0];for(g.unshift(...a),g.push(...u),m=g.length,h=Promise.resolve(n);f<m;)h=h.then(g[f++],g[f++]);return h}m=a.length;let v=n;for(;f<m;){const g=a[f++],T=a[f++];try{v=g(v)}catch(S){T.call(this,S);break}}try{h=S_.call(this,v)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=xi(this.defaults,e);const n=UI(e.baseURL,e.url,e.allowAbsoluteUrls);return DI(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){li.prototype[e]=function(n,r){return this.request(xi(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(xi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}li.prototype[e]=n(),li.prototype[e+"Form"]=n(!0)});let EV=class qI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new zo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new qI(function(s){e=s}),cancel:e}}};function SV(t){return function(n){return t.apply(null,n)}}function TV(t){return $.isObject(t)&&t.isAxiosError===!0}const Xp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xp).forEach(([t,e])=>{Xp[e]=t});function GI(t){const e=new li(t),n=SI(li.prototype.request,e);return $.extend(n,li.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return GI(xi(t,s))},n}const Ue=GI(Ul);Ue.Axios=li;Ue.CanceledError=zo;Ue.CancelToken=EV;Ue.isCancel=FI;Ue.VERSION=WI;Ue.toFormData=nh;Ue.AxiosError=ge;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=SV;Ue.isAxiosError=TV;Ue.mergeConfig=xi;Ue.AxiosHeaders=tn;Ue.formToJSON=t=>jI($.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=HI.getAdapter;Ue.HttpStatusCode=Xp;Ue.default=Ue;const{Axios:Yde,AxiosError:Jde,CanceledError:Zde,isCancel:Xde,CancelToken:ehe,VERSION:the,all:nhe,Cancel:rhe,isAxiosError:she,spread:ihe,toFormData:ohe,AxiosHeaders:ahe,HttpStatusCode:lhe,formToJSON:che,getAdapter:uhe,mergeConfig:dhe}=Ue;function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function CV(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IV(t){var e=CV(t,"string");return xl(e)=="symbol"?e:e+""}function F(t,e,n){return(e=IV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pf,C_;function PV(){if(C_)return pf;C_=1;var t=function(n,r,s,i,o,a,l,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[s,i,o,a,l,u],m=0;h=new Error(r.replace(/%s/g,function(){return f[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return pf=t,pf}var AV=PV(),mt=KI(AV),ve=y.createContext(null);function RV(){mt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=y.useContext(ve);return mt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function kV(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function LV(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function NV(t,e,n,r){var s={},i=(o,a)=>{var l=n[a];l!==e[a]&&(s[a]=l,o(r,l))};return LV(t,i),s}function OV(t,e,n){var r=kV(n,function(i,o,a){return typeof t[a]=="function"&&i.push(google.maps.event.addListener(e,o,t[a])),i},[]);return r}function MV(t){google.maps.event.removeListener(t)}function Ee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(MV)}function be(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,o=OV(s,i,n);return NV(e,r,s,i),o}var I_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},P_={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function DV(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:o,onClick:a,onDblClick:l,onDrag:u,onDragEnd:h,onDragStart:f,onMouseMove:m,onMouseOut:v,onMouseOver:g,onMouseDown:T,onMouseUp:S,onRightClick:C,onCenterChanged:_,onLoad:I,onUnmount:k}=t,[N,M]=y.useState(null),E=y.useRef(null),[b,x]=y.useState(null),[A,L]=y.useState(null),[O,R]=y.useState(null),[q,re]=y.useState(null),[ee,ae]=y.useState(null),[U,W]=y.useState(null),[G,K]=y.useState(null),[Z,X]=y.useState(null),[ie,V]=y.useState(null),[ye,we]=y.useState(null),[le,De]=y.useState(null),[se,_e]=y.useState(null);return y.useEffect(()=>{n&&N!==null&&N.setOptions(n)},[N,n]),y.useEffect(()=>{N!==null&&typeof o<"u"&&N.setCenter(o)},[N,o]),y.useEffect(()=>{N&&l&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(N,"dblclick",l)))},[l]),y.useEffect(()=>{N&&h&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(N,"dragend",h)))},[h]),y.useEffect(()=>{N&&f&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(N,"dragstart",f)))},[f]),y.useEffect(()=>{N&&T&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(N,"mousedown",T)))},[T]),y.useEffect(()=>{N&&m&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(N,"mousemove",m)))},[m]),y.useEffect(()=>{N&&v&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(N,"mouseout",v)))},[v]),y.useEffect(()=>{N&&g&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(N,"mouseover",g)))},[g]),y.useEffect(()=>{N&&S&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(N,"mouseup",S)))},[S]),y.useEffect(()=>{N&&C&&(ye!==null&&google.maps.event.removeListener(ye),we(google.maps.event.addListener(N,"rightclick",C)))},[C]),y.useEffect(()=>{N&&a&&(le!==null&&google.maps.event.removeListener(le),De(google.maps.event.addListener(N,"click",a)))},[a]),y.useEffect(()=>{N&&u&&(se!==null&&google.maps.event.removeListener(se),_e(google.maps.event.addListener(N,"drag",u)))},[u]),y.useEffect(()=>{N&&_&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(N,"center_changed",_)))},[a]),y.useEffect(()=>{var it=E.current===null?null:new google.maps.Map(E.current,n);return M(it),it!==null&&I&&I(it),()=>{it!==null&&k&&k(it)}},[]),d.jsx("div",{id:r,ref:E,style:s,className:i,children:d.jsx(ve.Provider,{value:N,children:N!==null?e:null})})}y.memo(DV);class $V extends y.PureComponent{constructor(){super(...arguments),F(this,"state",{map:null}),F(this,"registeredEvents",[]),F(this,"mapRef",null),F(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),F(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),F(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),F(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=be({updaterMap:P_,eventMap:I_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:P_,eventMap:I_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ee(this.registeredEvents))}render(){return d.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:d.jsx(ve.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function A_(t,e,n,r,s,i,o){try{var a=t[i](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,s)}function QI(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(l){A_(i,r,s,o,a,"next",l)}function a(l){A_(i,r,s,o,a,"throw",l)}o(void 0)})}}function YI(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,f=[];return mt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),s&&f.push("language=".concat(s)),i&&f.push("region=".concat(i)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),a&&f.push("channel=".concat(a)),l&&l.length&&f.push("map_ids=".concat(l.join(","))),u&&f.push("auth_referrer_policy=".concat(u)),f.push("loading=async"),f.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(f.join("&"))}var ri=typeof document<"u";function JI(t){var{url:e,id:n,nonce:r}=t;return ri?new Promise(function(i,o){var a=document.getElementById(n),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return i(n);var h=l.initMap,f=a.onerror;l.initMap=function(){h&&h(),i(n)},a.onerror=function(v){f&&f(v),o(v)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(g){m.setAttribute("data-state","error"),o(g)},l.initMap=function(){m.setAttribute("data-state","ready"),i(n)},document.head.appendChild(m)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function R_(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function ZI(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return R_(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return R_(s)||Reflect.apply(n,t,[s]),s}}}var ma=!1;function XI(){return d.jsx("div",{children:"Loading..."})}var em={id:"script-loader",version:"weekly"};class e1 extends y.PureComponent{constructor(){super(...arguments),F(this,"check",null),F(this,"state",{loaded:!1}),F(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),F(this,"isCleaningUp",QI(function*(){function e(n){if(!ma)n();else if(ri)var r=window.setInterval(function(){ma||(window.clearInterval(r),n())},1)}return new Promise(e)})),F(this,"cleanup",()=>{ma=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),F(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&ZI(),mt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:YI(this.props)};JI(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),F(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ri){if(window.google&&window.google.maps&&!ma){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ri&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ri){this.cleanup();var e=()=>{this.check||(delete window.google,ma=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||d.jsx(XI,{})]})}}F(e1,"defaultProps",em);function jV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function ry(t,e){if(t==null)return{};var n,r,s=jV(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var k_;function FV(t){var{id:e=em.id,version:n=em.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,preventGoogleFontsLoading:u,channel:h,mapIds:f,authReferrerPolicy:m,apiUrl:v="https://maps.googleapis.com"}=t,g=y.useRef(!1),[T,S]=y.useState(!1),[C,_]=y.useState(void 0);y.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),y.useEffect(function(){ri&&u&&ZI()},[u]),y.useEffect(function(){T&&mt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[T]);var I=YI({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:a,libraries:l,channel:h,mapIds:f,authReferrerPolicy:m,apiUrl:v});y.useEffect(function(){if(!ri)return;function M(){g.current&&(S(!0),k_=I)}if(window.google&&window.google.maps&&k_===I){M();return}JI({id:e,url:I,nonce:r}).then(M).catch(function(b){g.current&&_(b),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(b)})},[e,I,r]);var k=y.useRef(void 0);return y.useEffect(function(){k.current&&l!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=l},[l]),{isLoaded:T,loadError:C,url:I}}var VV=["loadingElement","onLoad","onError","onUnmount","children"],UV=d.jsx(XI,{});function BV(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=ry(t,VV),{isLoaded:a,loadError:l}=FV(o);return y.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),y.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),y.useEffect(function(){return()=>{s&&s()}},[s]),a?i:e||UV}y.memo(BV);var L_;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(L_||(L_={}));function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var O_={},M_={options(t,e){t.setOptions(e)}};function zV(t){var{options:e,onLoad:n,onUnmount:r}=t,s=y.useContext(ve),[i,o]=y.useState(null);return y.useEffect(()=>{i!==null&&i.setMap(s)},[s]),y.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),y.useEffect(()=>{var a=new google.maps.TrafficLayer(ed(ed({},e),{},{map:s}));return o(a),n&&n(a),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}y.memo(zV);class HV extends y.PureComponent{constructor(){super(...arguments),F(this,"state",{trafficLayer:null}),F(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),F(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(ed(ed({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:M_,eventMap:O_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:M_,eventMap:O_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ee(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}F(HV,"contextType",ve);function WV(t){var{onLoad:e,onUnmount:n}=t,r=y.useContext(ve),[s,i]=y.useState(null);return y.useEffect(()=>{s!==null&&s.setMap(r)},[r]),y.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(WV);class qV extends y.PureComponent{constructor(){super(...arguments),F(this,"state",{bicyclingLayer:null}),F(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}F(qV,"contextType",ve);function GV(t){var{onLoad:e,onUnmount:n}=t,r=y.useContext(ve),[s,i]=y.useState(null);return y.useEffect(()=>{s!==null&&s.setMap(r)},[r]),y.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(r),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}y.memo(GV);class KV extends y.PureComponent{constructor(){super(...arguments),F(this,"state",{transitLayer:null}),F(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}F(KV,"contextType",ve);function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var $_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},j_={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function QV(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:u,onUnmount:h}=t,f=y.useContext(ve),[m,v]=y.useState(null),[g,T]=y.useState(null),[S,C]=y.useState(null),[_,I]=y.useState(null),[k,N]=y.useState(null),[M,E]=y.useState(null),[b,x]=y.useState(null);return y.useEffect(()=>{m!==null&&m.setMap(f)},[f]),y.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),y.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),y.useEffect(()=>{m&&r&&(g!==null&&google.maps.event.removeListener(g),T(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),y.useEffect(()=>{m&&s&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(m,"markercomplete",s)))},[m,s]),y.useEffect(()=>{m&&i&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),y.useEffect(()=>{m&&o&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(m,"polygoncomplete",o)))},[m,o]),y.useEffect(()=>{m&&a&&(M!==null&&google.maps.event.removeListener(M),E(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),y.useEffect(()=>{m&&l&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(m,"rectanglecomplete",l)))},[m,l]),y.useEffect(()=>{mt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var A=new google.maps.drawing.DrawingManager(td(td({},e),{},{map:f}));return n&&A.setDrawingMode(n),r&&T(google.maps.event.addListener(A,"circlecomplete",r)),s&&C(google.maps.event.addListener(A,"markercomplete",s)),i&&I(google.maps.event.addListener(A,"overlaycomplete",i)),o&&N(google.maps.event.addListener(A,"polygoncomplete",o)),a&&E(google.maps.event.addListener(A,"polylinecomplete",a)),l&&x(google.maps.event.addListener(A,"rectanglecomplete",l)),v(A),u&&u(A),()=>{m!==null&&(g&&google.maps.event.removeListener(g),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),M&&google.maps.event.removeListener(M),b&&google.maps.event.removeListener(b),h&&h(m),m.setMap(null))}},[]),null}y.memo(QV);class YV extends y.PureComponent{constructor(e){super(e),F(this,"registeredEvents",[]),F(this,"state",{drawingManager:null}),F(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),mt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(td(td({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:j_,eventMap:$_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:j_,eventMap:$_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ee(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}F(YV,"contextType",ve);function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var V_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},U_={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},nd={};function JV(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:o,visible:a,animation:l,clickable:u,cursor:h,icon:f,label:m,opacity:v,shape:g,title:T,zIndex:S,onClick:C,onDblClick:_,onDrag:I,onDragEnd:k,onDragStart:N,onMouseOut:M,onMouseOver:E,onMouseUp:b,onMouseDown:x,onRightClick:A,onClickableChanged:L,onCursorChanged:O,onAnimationChanged:R,onDraggableChanged:q,onFlatChanged:re,onIconChanged:ee,onPositionChanged:ae,onShapeChanged:U,onTitleChanged:W,onVisibleChanged:G,onZindexChanged:K,onLoad:Z,onUnmount:X}=t,ie=y.useContext(ve),[V,ye]=y.useState(null),[we,le]=y.useState(null),[De,se]=y.useState(null),[_e,it]=y.useState(null),[Y,Ae]=y.useState(null),[Re,cr]=y.useState(null),[Cn,Rr]=y.useState(null),[qe,nt]=y.useState(null),[mn,Ds]=y.useState(null),[Vn,me]=y.useState(null),[ke,gt]=y.useState(null),[bt,Ft]=y.useState(null),[Ri,Bl]=y.useState(null),[$s,Wo]=y.useState(null),[Un,ki]=y.useState(null),[kr,Bn]=y.useState(null),[js,Fs]=y.useState(null),[Vs,Lr]=y.useState(null),[qo,yt]=y.useState(null),[Us,Nr]=y.useState(null),[zn,zl]=y.useState(null),[Li,ur]=y.useState(null);y.useEffect(()=>{V!==null&&V.setMap(ie)},[ie]),y.useEffect(()=>{typeof n<"u"&&V!==null&&V.setOptions(n)},[V,n]),y.useEffect(()=>{typeof o<"u"&&V!==null&&V.setDraggable(o)},[V,o]),y.useEffect(()=>{e&&V!==null&&V.setPosition(e)},[V,e]),y.useEffect(()=>{typeof a<"u"&&V!==null&&V.setVisible(a)},[V,a]),y.useEffect(()=>{V==null||V.setAnimation(l)},[V,l]),y.useEffect(()=>{V&&u!==void 0&&V.setClickable(u)},[V,u]),y.useEffect(()=>{V&&h!==void 0&&V.setCursor(h)},[V,h]),y.useEffect(()=>{V&&f!==void 0&&V.setIcon(f)},[V,f]),y.useEffect(()=>{V&&m!==void 0&&V.setLabel(m)},[V,m]),y.useEffect(()=>{V&&v!==void 0&&V.setOpacity(v)},[V,v]),y.useEffect(()=>{V&&g!==void 0&&V.setShape(g)},[V,g]),y.useEffect(()=>{V&&T!==void 0&&V.setTitle(T)},[V,T]),y.useEffect(()=>{V&&S!==void 0&&V.setZIndex(S)},[V,S]),y.useEffect(()=>{V&&_&&(we!==null&&google.maps.event.removeListener(we),le(google.maps.event.addListener(V,"dblclick",_)))},[_]),y.useEffect(()=>{V&&k&&(De!==null&&google.maps.event.removeListener(De),se(google.maps.event.addListener(V,"dragend",k)))},[k]),y.useEffect(()=>{V&&N&&(_e!==null&&google.maps.event.removeListener(_e),it(google.maps.event.addListener(V,"dragstart",N)))},[N]),y.useEffect(()=>{V&&x&&(Y!==null&&google.maps.event.removeListener(Y),Ae(google.maps.event.addListener(V,"mousedown",x)))},[x]),y.useEffect(()=>{V&&M&&(Re!==null&&google.maps.event.removeListener(Re),cr(google.maps.event.addListener(V,"mouseout",M)))},[M]),y.useEffect(()=>{V&&E&&(Cn!==null&&google.maps.event.removeListener(Cn),Rr(google.maps.event.addListener(V,"mouseover",E)))},[E]),y.useEffect(()=>{V&&b&&(qe!==null&&google.maps.event.removeListener(qe),nt(google.maps.event.addListener(V,"mouseup",b)))},[b]),y.useEffect(()=>{V&&A&&(mn!==null&&google.maps.event.removeListener(mn),Ds(google.maps.event.addListener(V,"rightclick",A)))},[A]),y.useEffect(()=>{V&&C&&(Vn!==null&&google.maps.event.removeListener(Vn),me(google.maps.event.addListener(V,"click",C)))},[C]),y.useEffect(()=>{V&&I&&(ke!==null&&google.maps.event.removeListener(ke),gt(google.maps.event.addListener(V,"drag",I)))},[I]),y.useEffect(()=>{V&&L&&(bt!==null&&google.maps.event.removeListener(bt),Ft(google.maps.event.addListener(V,"clickable_changed",L)))},[L]),y.useEffect(()=>{V&&O&&(Ri!==null&&google.maps.event.removeListener(Ri),Bl(google.maps.event.addListener(V,"cursor_changed",O)))},[O]),y.useEffect(()=>{V&&R&&($s!==null&&google.maps.event.removeListener($s),Wo(google.maps.event.addListener(V,"animation_changed",R)))},[R]),y.useEffect(()=>{V&&q&&(Un!==null&&google.maps.event.removeListener(Un),ki(google.maps.event.addListener(V,"draggable_changed",q)))},[q]),y.useEffect(()=>{V&&re&&(kr!==null&&google.maps.event.removeListener(kr),Bn(google.maps.event.addListener(V,"flat_changed",re)))},[re]),y.useEffect(()=>{V&&ee&&(js!==null&&google.maps.event.removeListener(js),Fs(google.maps.event.addListener(V,"icon_changed",ee)))},[ee]),y.useEffect(()=>{V&&ae&&(Vs!==null&&google.maps.event.removeListener(Vs),Lr(google.maps.event.addListener(V,"position_changed",ae)))},[ae]),y.useEffect(()=>{V&&U&&(qo!==null&&google.maps.event.removeListener(qo),yt(google.maps.event.addListener(V,"shape_changed",U)))},[U]),y.useEffect(()=>{V&&W&&(Us!==null&&google.maps.event.removeListener(Us),Nr(google.maps.event.addListener(V,"title_changed",W)))},[W]),y.useEffect(()=>{V&&G&&(zn!==null&&google.maps.event.removeListener(zn),zl(google.maps.event.addListener(V,"visible_changed",G)))},[G]),y.useEffect(()=>{V&&K&&(Li!==null&&google.maps.event.removeListener(Li),ur(google.maps.event.addListener(V,"zindex_changed",K)))},[K]),y.useEffect(()=>{var Bs=yo(yo(yo({},n||nd),r?nd:{map:ie}),{},{position:e}),de=new google.maps.Marker(Bs);return r?r.addMarker(de,!!s):de.setMap(ie),e&&de.setPosition(e),typeof a<"u"&&de.setVisible(a),typeof o<"u"&&de.setDraggable(o),typeof u<"u"&&de.setClickable(u),typeof h=="string"&&de.setCursor(h),f&&de.setIcon(f),typeof m<"u"&&de.setLabel(m),typeof v<"u"&&de.setOpacity(v),g&&de.setShape(g),typeof T=="string"&&de.setTitle(T),typeof S=="number"&&de.setZIndex(S),_&&le(google.maps.event.addListener(de,"dblclick",_)),k&&se(google.maps.event.addListener(de,"dragend",k)),N&&it(google.maps.event.addListener(de,"dragstart",N)),x&&Ae(google.maps.event.addListener(de,"mousedown",x)),M&&cr(google.maps.event.addListener(de,"mouseout",M)),E&&Rr(google.maps.event.addListener(de,"mouseover",E)),b&&nt(google.maps.event.addListener(de,"mouseup",b)),A&&Ds(google.maps.event.addListener(de,"rightclick",A)),C&&me(google.maps.event.addListener(de,"click",C)),I&&gt(google.maps.event.addListener(de,"drag",I)),L&&Ft(google.maps.event.addListener(de,"clickable_changed",L)),O&&Bl(google.maps.event.addListener(de,"cursor_changed",O)),R&&Wo(google.maps.event.addListener(de,"animation_changed",R)),q&&ki(google.maps.event.addListener(de,"draggable_changed",q)),re&&Bn(google.maps.event.addListener(de,"flat_changed",re)),ee&&Fs(google.maps.event.addListener(de,"icon_changed",ee)),ae&&Lr(google.maps.event.addListener(de,"position_changed",ae)),U&&yt(google.maps.event.addListener(de,"shape_changed",U)),W&&Nr(google.maps.event.addListener(de,"title_changed",W)),G&&zl(google.maps.event.addListener(de,"visible_changed",G)),K&&ur(google.maps.event.addListener(de,"zindex_changed",K)),ye(de),Z&&Z(de),()=>{we!==null&&google.maps.event.removeListener(we),De!==null&&google.maps.event.removeListener(De),_e!==null&&google.maps.event.removeListener(_e),Y!==null&&google.maps.event.removeListener(Y),Re!==null&&google.maps.event.removeListener(Re),Cn!==null&&google.maps.event.removeListener(Cn),qe!==null&&google.maps.event.removeListener(qe),mn!==null&&google.maps.event.removeListener(mn),Vn!==null&&google.maps.event.removeListener(Vn),bt!==null&&google.maps.event.removeListener(bt),Ri!==null&&google.maps.event.removeListener(Ri),$s!==null&&google.maps.event.removeListener($s),Un!==null&&google.maps.event.removeListener(Un),kr!==null&&google.maps.event.removeListener(kr),js!==null&&google.maps.event.removeListener(js),Vs!==null&&google.maps.event.removeListener(Vs),Us!==null&&google.maps.event.removeListener(Us),zn!==null&&google.maps.event.removeListener(zn),Li!==null&&google.maps.event.removeListener(Li),X&&X(de),r?r.removeMarker(de,!!s):de&&de.setMap(null)}},[]);var sh=y.useMemo(()=>i?y.Children.map(i,Bs=>{if(!y.isValidElement(Bs))return Bs;var de=Bs;return y.cloneElement(de,{anchor:V})}):null,[i,V]);return d.jsx(d.Fragment,{children:sh})||null}y.memo(JV);class t1 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var e=this;return QI(function*(){var n=yo(yo(yo({},e.props.options||nd),e.props.clusterer?nd:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=be({updaterMap:U_,eventMap:V_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:U_,eventMap:V_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ee(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var r=n;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}F(t1,"contextType",ve);var ZV=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var v=document.createElement("div");v.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(v.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(v.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(v),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),XV=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new ZV(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],o=i.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var h=u[l];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function e3(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var t3=2e3,n3=500,r3="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",s3="png",i3=[53,56,66,78,90],o3="cluster",n1=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||r3,this.imageExtension=r.imageExtension||s3,this.imageSizes=r.imageSizes||i3,this.calculator=r.calculator||e3,this.batchSize=r.batchSize||t3,this.batchSizeIE=r.batchSizeIE||n3,this.clusterClass=r.clusterClass||o3,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var o=i[s];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],o=i.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var o=i[s];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var a=o[i];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,o=this.clusters;i<o.length;i++){var a=o[i];n=a;var l=n.getCenter(),u=e.getPosition();if(l&&u){var h=this.distanceBetweenPoints(l,u);h<r&&(r=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new XV(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,m=this.clusters;f<m.length;f++){var v=m[f];v.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var o=i;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ne={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},l3={};function c3(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:h,imagePath:f,imageSizes:m,maxZoom:v,minimumClusterSize:g,styles:T,title:S,zoomOnClick:C,onClick:_,onClusteringBegin:I,onClusteringEnd:k,onMouseOver:N,onMouseOut:M,onLoad:E,onUnmount:b}=t,[x,A]=y.useState(null),L=y.useContext(ve),[O,R]=y.useState(null),[q,re]=y.useState(null),[ee,ae]=y.useState(null),[U,W]=y.useState(null),[G,K]=y.useState(null);return y.useEffect(()=>{x&&M&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(x,gn.onMouseOut,M)))},[M]),y.useEffect(()=>{x&&N&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(x,gn.onMouseOver,N)))},[N]),y.useEffect(()=>{x&&_&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(x,gn.onClick,_)))},[_]),y.useEffect(()=>{x&&I&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(x,gn.onClusteringBegin,I)))},[I]),y.useEffect(()=>{x&&k&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(x,gn.onClusteringEnd,k)))},[k]),y.useEffect(()=>{typeof r<"u"&&x!==null&&Ne.averageCenter(x,r)},[x,r]),y.useEffect(()=>{typeof s<"u"&&x!==null&&Ne.batchSizeIE(x,s)},[x,s]),y.useEffect(()=>{typeof i<"u"&&x!==null&&Ne.calculator(x,i)},[x,i]),y.useEffect(()=>{typeof o<"u"&&x!==null&&Ne.clusterClass(x,o)},[x,o]),y.useEffect(()=>{typeof a<"u"&&x!==null&&Ne.enableRetinaIcons(x,a)},[x,a]),y.useEffect(()=>{typeof l<"u"&&x!==null&&Ne.gridSize(x,l)},[x,l]),y.useEffect(()=>{typeof u<"u"&&x!==null&&Ne.ignoreHidden(x,u)},[x,u]),y.useEffect(()=>{typeof h<"u"&&x!==null&&Ne.imageExtension(x,h)},[x,h]),y.useEffect(()=>{typeof f<"u"&&x!==null&&Ne.imagePath(x,f)},[x,f]),y.useEffect(()=>{typeof m<"u"&&x!==null&&Ne.imageSizes(x,m)},[x,m]),y.useEffect(()=>{typeof v<"u"&&x!==null&&Ne.maxZoom(x,v)},[x,v]),y.useEffect(()=>{typeof g<"u"&&x!==null&&Ne.minimumClusterSize(x,g)},[x,g]),y.useEffect(()=>{typeof T<"u"&&x!==null&&Ne.styles(x,T)},[x,T]),y.useEffect(()=>{typeof S<"u"&&x!==null&&Ne.title(x,S)},[x,S]),y.useEffect(()=>{typeof C<"u"&&x!==null&&Ne.zoomOnClick(x,C)},[x,C]),y.useEffect(()=>{if(L){var Z=a3({},n||l3),X=new n1(L,[],Z);return r&&Ne.averageCenter(X,r),s&&Ne.batchSizeIE(X,s),i&&Ne.calculator(X,i),o&&Ne.clusterClass(X,o),a&&Ne.enableRetinaIcons(X,a),l&&Ne.gridSize(X,l),u&&Ne.ignoreHidden(X,u),h&&Ne.imageExtension(X,h),f&&Ne.imagePath(X,f),m&&Ne.imageSizes(X,m),v&&Ne.maxZoom(X,v),g&&Ne.minimumClusterSize(X,g),T&&Ne.styles(X,T),S&&Ne.title(X,S),C&&Ne.zoomOnClick(X,C),M&&W(google.maps.event.addListener(X,gn.onMouseOut,M)),N&&K(google.maps.event.addListener(X,gn.onMouseOver,N)),_&&R(google.maps.event.addListener(X,gn.onClick,_)),I&&re(google.maps.event.addListener(X,gn.onClusteringBegin,I)),k&&ae(google.maps.event.addListener(X,gn.onClusteringEnd,k)),A(X),E&&E(X),()=>{U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),b&&b(X)}}},[]),x!==null&&e(x)||null}y.memo(c3);class u3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{markerClusterer:null}),F(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new n1(this.context,[],this.props.options);this.registeredEvents=be({updaterMap:Ne,eventMap:gn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Ne,eventMap:gn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ee(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}F(u3,"contextType",ve);function z_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var r1=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||z_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=i;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,z_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,f=this.div.offsetWidth,m=this.div.offsetHeight,v=this.infoBoxClearance.width,g=this.infoBoxClearance.height,T=this.getProjection(),S=T.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-u+v?r=S.x+u-v:S.x+f+u+v>a&&(r=S.x+f+u+v-a),this.alignBottom?S.y<-h+g+m?s=S.y+h-g-m:S.y+h+g>l&&(s=S.y+h+g-l):S.y<-h+g?s=S.y+h-g:S.y+m+h+g>l&&(s=S.y+m+h+g-l)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),d3=["position"],h3=["position"];function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},q_={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},f3={};function p3(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:h,onLoad:f,onUnmount:m}=t,v=y.useContext(ve),[g,T]=y.useState(null),[S,C]=y.useState(null),[_,I]=y.useState(null),[k,N]=y.useState(null),[M,E]=y.useState(null),[b,x]=y.useState(null),A=y.useRef(null);return y.useEffect(()=>{v&&g!==null&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))},[v,g,n]),y.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),y.useEffect(()=>{if(s&&g!==null){var L=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(L)}},[s]),y.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),y.useEffect(()=>{g&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"closeclick",o)))},[o]),y.useEffect(()=>{g&&a&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(g,"domready",a)))},[a]),y.useEffect(()=>{g&&l&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(g,"content_changed",l)))},[l]),y.useEffect(()=>{g&&u&&(M!==null&&google.maps.event.removeListener(M),E(google.maps.event.addListener(g,"position_changed",u)))},[u]),y.useEffect(()=>{g&&h&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),y.useEffect(()=>{if(v){var L=r||f3,{position:O}=L,R=ry(L,d3),q;O&&!(O instanceof google.maps.LatLng)&&(q=new google.maps.LatLng(O.lat,O.lng));var re=new r1(rd(rd({},R),q?{position:q}:{}));A.current=document.createElement("div"),T(re),o&&C(google.maps.event.addListener(re,"closeclick",o)),a&&I(google.maps.event.addListener(re,"domready",a)),l&&N(google.maps.event.addListener(re,"content_changed",l)),u&&E(google.maps.event.addListener(re,"position_changed",u)),h&&x(google.maps.event.addListener(re,"zindex_changed",h)),re.setContent(A.current),n?re.open(v,n):re.getPosition()?re.open(v):mt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(re)}return()=>{g!==null&&(S&&google.maps.event.removeListener(S),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),M&&google.maps.event.removeListener(M),b&&google.maps.event.removeListener(b),m&&m(g),g.close())}},[]),A.current?Si.createPortal(y.Children.only(e),A.current):null}y.memo(p3);class m3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoBox:null}),F(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):mt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),F(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=ry(e,h3),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new r1(rd(rd({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=be({updaterMap:q_,eventMap:W_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:q_,eventMap:W_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ee(this.registeredEvents),n.close())}render(){return this.containerElement?Si.createPortal(y.Children.only(this.props.children),this.containerElement):null}}F(m3,"contextType",ve);var mf,G_;function g3(){return G_||(G_=1,mf=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),mf}var y3=g3(),K_=KI(y3),Q_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],gf=1,ga=8;class sy{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==gf)throw new Error("Got v".concat(s," data when expected v").concat(gf,"."));var i=Q_[r&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new sy(a,o,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=Q_.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,ga,e),this.coords=new this.ArrayType(this.data,ga+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ga+o+a+l),this.ids=new this.IndexArrayType(this.data,ga,e),this.coords=new this.ArrayType(this.data,ga+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(gf<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return tm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:a}=this,l=[0,i.length-1,0],u=[];l.length;){var h=l.pop()||0,f=l.pop()||0,m=l.pop()||0;if(f-m<=a){for(var v=m;v<=f;v++){var g=o[2*v],T=o[2*v+1];g>=e&&g<=r&&T>=n&&T<=s&&u.push(i[v])}continue}var S=m+f>>1,C=o[2*S],_=o[2*S+1];C>=e&&C<=r&&_>=n&&_<=s&&u.push(i[S]),(h===0?e<=C:n<=_)&&(l.push(m),l.push(S-1),l.push(1-h)),(h===0?r>=C:s>=_)&&(l.push(S+1),l.push(f),l.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],l=[],u=r*r;a.length;){var h=a.pop()||0,f=a.pop()||0,m=a.pop()||0;if(f-m<=o){for(var v=m;v<=f;v++)Y_(i[2*v],i[2*v+1],e,n)<=u&&l.push(s[v]);continue}var g=m+f>>1,T=i[2*g],S=i[2*g+1];Y_(T,S,e,n)<=u&&l.push(s[g]),(h===0?e-r<=T:n-r<=S)&&(a.push(m),a.push(g-1),a.push(1-h)),(h===0?e+r>=T:n+r>=S)&&(a.push(g+1),a.push(f),a.push(1-h))}return l}}function tm(t,e,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;s1(t,e,o,r,s,i),tm(t,e,n,r,o-1,1-i),tm(t,e,n,o+1,s,1-i)}}function s1(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),f=Math.max(r,Math.floor(n-a*u/o+h)),m=Math.min(s,Math.floor(n+(o-a)*u/o+h));s1(t,e,n,f,m,i)}var v=e[2*n+i],g=r,T=s;for(ya(t,e,r,n),e[2*s+i]>v&&ya(t,e,r,s);g<T;){for(ya(t,e,g,T),g++,T--;e[2*g+i]<v;)g++;for(;e[2*T+i]>v;)T--}e[2*r+i]===v?ya(t,e,r,T):(T++,ya(t,e,T,s)),T<=n&&(r=T+1),n<=T&&(s=T-1)}}function ya(t,e,n,r){yf(t,n,r),yf(e,2*n,2*r),yf(e,2*n+1,2*r+1)}function yf(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Y_(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var v3={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},J_=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Gs=2,Wr=3,vf=4,Br=5,i1=6;class w3{constructor(e){this.options=Object.assign(Object.create(v3),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[u,h]=l.geometry.coordinates,f=J_(Ic(u)),m=J_(Pc(h));o.push(f,m,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var v=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(var g=s;g>=r;g--){var T=+Date.now();v=this.trees[g]=this._createTree(this._cluster(v,g)),n&&console.log("z%d: %d clusters in %dms",g,v.numItems,+Date.now()-T)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,s,180,o],n),l=this.getClusters([-180,s,i,o],n);return a.concat(l)}var u=this.trees[this._limitZoom(n)],h=u.range(Ic(r),Pc(o),Ic(i),Pc(s)),f=u.data,m=[];for(var v of h){var g=this.stride*v;m.push(f[g+Br]>1?Z_(f,g,this.clusterProps):this.points[f[g+Wr]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var o=i.data;if(n*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],u=o[n*this.stride+1],h=i.within(l,u,a),f=[];for(var m of h){var v=m*this.stride;o[v+vf]===e&&f.push(o[v+Br]>1?Z_(o,v,this.clusterProps):this.points[o[v+Wr]])}if(f.length===0)throw new Error(s);return f}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/i,h=(r+1+l)/i,f={features:[]};return this._addTileFeatures(s.range((n-l)/i,u,(n+1+l)/i,h),s.data,n,r,i,f),n===0&&this._addTileFeatures(s.range(1-l/i,u,1,h),s.data,i,r,i,f),n===i-1&&this._addTileFeatures(s.range(0,u,l/i,h),s.data,-1,r,i,f),f.features.length?f:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?i+l.point_count<=s?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_createTree(e){for(var n=new sy(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(var a of e){var l=a*this.stride,u=n[l+Br]>1,h=void 0,f=void 0,m=void 0;if(u)h=o1(n,l,this.clusterProps),f=n[l],m=n[l+1];else{var v=this.points[n[l+Wr]];h=v.properties;var[g,T]=v.geometry.coordinates;f=Ic(g),m=Pc(T)}var S={type:1,geometry:[[Math.round(this.options.extent*(f*i-r)),Math.round(this.options.extent*(m*i-s))]],tags:h},C=void 0;u||this.options.generateId?C=n[l+Wr]:C=this.points[n[l+Wr]].id,C!==void 0&&(S.id=C),o.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:o}=this.options,a=r/(s*Math.pow(2,n)),l=e.data,u=[],h=this.stride,f=0;f<l.length;f+=h)if(!(l[f+Gs]<=n)){l[f+Gs]=n;var m=l[f],v=l[f+1],g=e.within(l[f],l[f+1],a),T=l[f+Br],S=T;for(var C of g){var _=C*h;l[_+Gs]>n&&(S+=l[_+Br])}if(S>T&&S>=o){var I=m*T,k=v*T,N=void 0,M=-1,E=((f/h|0)<<5)+(n+1)+this.points.length;for(var b of g){var x=b*h;if(!(l[x+Gs]<=n)){l[x+Gs]=n;var A=l[x+Br];I+=l[x]*A,k+=l[x+1]*A,l[x+vf]=E,i&&(N||(N=this._map(l,f,!0),M=this.clusterProps.length,this.clusterProps.push(N)),i(N,this._map(l,x)))}}l[f+vf]=E,u.push(I/S,k/S,1/0,E,-1,S),i&&u.push(M)}else{for(var L=0;L<h;L++)u.push(l[f+L]);if(S>1)for(var O of g){var R=O*h;if(!(l[R+Gs]<=n)){l[R+Gs]=n;for(var q=0;q<h;q++)u.push(l[R+q])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Br]>1){var s=this.clusterProps[e[n+i1]];return r?Object.assign({},s):s}var i=this.points[e[n+Wr]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function Z_(t,e,n){return{type:"Feature",id:t[e+Wr],properties:o1(t,e,n),geometry:{type:"Point",coordinates:[_3(t[e]),x3(t[e+1])]}}}function o1(t,e,n){var r=t[e+Br],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+i1],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Wr],point_count:r,point_count_abbreviated:s})}function Ic(t){return t/360+.5}function Pc(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function _3(t){return(t-.5)*360}function x3(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function b3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class sn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class nm{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(sn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>sn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(sn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class E3{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return S3(n)}}var S3=t=>{var e=t.map(n=>new nm({position:sn.getPosition(n),markers:[n]}));return e};class T3 extends E3{constructor(e){var{maxZoom:n,radius:r=60}=e,s=b3(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new w3(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!K_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var o=sn.getPosition(i),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!K_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new nm({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new nm({markers:[i],position:sn.getPosition(i)})}}class C3{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class I3{render(e,n,r){var{count:s,position:i}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),l="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(sn.isAdvancedMarkerAvailable(r)){var h=new DOMParser,f=h.parseFromString(a,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var m={map:r,position:i,zIndex:u,title:l,content:f};return new google.maps.marker.AdvancedMarkerElement(m)}var v={position:i,zIndex:u,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(v)}}function P3(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class iy{constructor(){P3(iy,google.maps.OverlayView)}}var Ha;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Ha||(Ha={}));var A3=(t,e,n)=>{n.fitBounds(e.bounds)};class R3 extends iy{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new T3(s),renderer:o=new I3,onClusterClick:a=A3}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(sn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ha.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||sn.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>sn.setMap(l,null)))}google.maps.event.trigger(this,Ha.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>sn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new C3(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>sn.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,Ha.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),sn.setMap(r.marker,n)})}}function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k3(t){var e=RV(),[n,r]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var s=new R3(ex(ex({},t),{},{map:e}));r(s)}},[e]),n}function L3(t){var{children:e,options:n}=t,r=k3(n);return r!==null?e(r):null}y.memo(L3);var tx={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},nx={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function N3(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:h,onLoad:f,onUnmount:m}=t,v=y.useContext(ve),[g,T]=y.useState(null),[S,C]=y.useState(null),[_,I]=y.useState(null),[k,N]=y.useState(null),[M,E]=y.useState(null),[b,x]=y.useState(null),A=y.useRef(null);return y.useEffect(()=>{g!==null&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))},[v,g,n]),y.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),y.useEffect(()=>{s&&g!==null&&g.setPosition(s)},[s]),y.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),y.useEffect(()=>{g&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"closeclick",o)))},[o]),y.useEffect(()=>{g&&a&&(_!==null&&google.maps.event.removeListener(_),I(google.maps.event.addListener(g,"domready",a)))},[a]),y.useEffect(()=>{g&&l&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(g,"content_changed",l)))},[l]),y.useEffect(()=>{g&&u&&(M!==null&&google.maps.event.removeListener(M),E(google.maps.event.addListener(g,"position_changed",u)))},[u]),y.useEffect(()=>{g&&h&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),y.useEffect(()=>{var L=new google.maps.InfoWindow(r);return T(L),A.current=document.createElement("div"),o&&C(google.maps.event.addListener(L,"closeclick",o)),a&&I(google.maps.event.addListener(L,"domready",a)),l&&N(google.maps.event.addListener(L,"content_changed",l)),u&&E(google.maps.event.addListener(L,"position_changed",u)),h&&x(google.maps.event.addListener(L,"zindex_changed",h)),L.setContent(A.current),s&&L.setPosition(s),i&&L.setZIndex(i),n?L.open(v,n):L.getPosition()?L.open(v):mt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(L),()=>{S&&google.maps.event.removeListener(S),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),M&&google.maps.event.removeListener(M),b&&google.maps.event.removeListener(b),m&&m(L),L.close()}},[]),A.current?Si.createPortal(y.Children.only(e),A.current):null}y.memo(N3);class O3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoWindow:null}),F(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):mt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),F(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=be({updaterMap:nx,eventMap:tx,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:nx,eventMap:tx,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ee(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Si.createPortal(y.Children.only(this.props.children),this.containerElement):null}}F(O3,"contextType",ve);function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var sx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ix={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},M3={};function D3(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:h,onMouseOut:f,onMouseOver:m,onMouseUp:v,onRightClick:g,onClick:T,onDrag:S,onLoad:C,onUnmount:_}=t,I=y.useContext(ve),[k,N]=y.useState(null),[M,E]=y.useState(null),[b,x]=y.useState(null),[A,L]=y.useState(null),[O,R]=y.useState(null),[q,re]=y.useState(null),[ee,ae]=y.useState(null),[U,W]=y.useState(null),[G,K]=y.useState(null),[Z,X]=y.useState(null),[ie,V]=y.useState(null),[ye,we]=y.useState(null);return y.useEffect(()=>{k!==null&&k.setMap(I)},[I]),y.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),y.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),y.useEffect(()=>{typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),y.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),y.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),y.useEffect(()=>{k&&o&&(M!==null&&google.maps.event.removeListener(M),E(google.maps.event.addListener(k,"dblclick",o)))},[o]),y.useEffect(()=>{k&&a&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(k,"dragend",a)))},[a]),y.useEffect(()=>{k&&l&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(k,"dragstart",l)))},[l]),y.useEffect(()=>{k&&u&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(k,"mousedown",u)))},[u]),y.useEffect(()=>{k&&h&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(k,"mousemove",h)))},[h]),y.useEffect(()=>{k&&f&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(k,"mouseout",f)))},[f]),y.useEffect(()=>{k&&m&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(k,"mouseover",m)))},[m]),y.useEffect(()=>{k&&v&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(k,"mouseup",v)))},[v]),y.useEffect(()=>{k&&g&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(k,"rightclick",g)))},[g]),y.useEffect(()=>{k&&T&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(k,"click",T)))},[T]),y.useEffect(()=>{k&&S&&(ye!==null&&google.maps.event.removeListener(ye),we(google.maps.event.addListener(k,"drag",S)))},[S]),y.useEffect(()=>{var le=new google.maps.Polyline(sd(sd({},e||M3),{},{map:I}));return i&&le.setPath(i),typeof s<"u"&&le.setVisible(s),typeof r<"u"&&le.setEditable(r),typeof n<"u"&&le.setDraggable(n),o&&E(google.maps.event.addListener(le,"dblclick",o)),a&&x(google.maps.event.addListener(le,"dragend",a)),l&&L(google.maps.event.addListener(le,"dragstart",l)),u&&R(google.maps.event.addListener(le,"mousedown",u)),h&&re(google.maps.event.addListener(le,"mousemove",h)),f&&ae(google.maps.event.addListener(le,"mouseout",f)),m&&W(google.maps.event.addListener(le,"mouseover",m)),v&&K(google.maps.event.addListener(le,"mouseup",v)),g&&X(google.maps.event.addListener(le,"rightclick",g)),T&&V(google.maps.event.addListener(le,"click",T)),S&&we(google.maps.event.addListener(le,"drag",S)),N(le),C&&C(le),()=>{M!==null&&google.maps.event.removeListener(M),b!==null&&google.maps.event.removeListener(b),A!==null&&google.maps.event.removeListener(A),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),_&&_(le),le.setMap(null)}},[]),null}y.memo(D3);class $3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{polyline:null}),F(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(sd(sd({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:ix,eventMap:sx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:ix,eventMap:sx,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ee(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}F($3,"contextType",ve);function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},cx={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function j3(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:m,onMouseOver:v,onMouseUp:g,onRightClick:T,onClick:S,onDrag:C,onLoad:_,onUnmount:I,onEdit:k}=t,N=y.useContext(ve),[M,E]=y.useState(null),[b,x]=y.useState(null),[A,L]=y.useState(null),[O,R]=y.useState(null),[q,re]=y.useState(null),[ee,ae]=y.useState(null),[U,W]=y.useState(null),[G,K]=y.useState(null),[Z,X]=y.useState(null),[ie,V]=y.useState(null),[ye,we]=y.useState(null),[le,De]=y.useState(null);return y.useEffect(()=>{M!==null&&M.setMap(N)},[N]),y.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),y.useEffect(()=>{typeof n<"u"&&M!==null&&M.setDraggable(n)},[M,n]),y.useEffect(()=>{typeof r<"u"&&M!==null&&M.setEditable(r)},[M,r]),y.useEffect(()=>{typeof s<"u"&&M!==null&&M.setVisible(s)},[M,s]),y.useEffect(()=>{typeof i<"u"&&M!==null&&M.setPath(i)},[M,i]),y.useEffect(()=>{typeof o<"u"&&M!==null&&M.setPaths(o)},[M,o]),y.useEffect(()=>{M&&typeof a=="function"&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(M,"dblclick",a)))},[a]),y.useEffect(()=>{M&&(google.maps.event.addListener(M.getPath(),"insert_at",()=>{k==null||k(M)}),google.maps.event.addListener(M.getPath(),"set_at",()=>{k==null||k(M)}),google.maps.event.addListener(M.getPath(),"remove_at",()=>{k==null||k(M)}))},[M,k]),y.useEffect(()=>{M&&typeof l=="function"&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(M,"dragend",l)))},[l]),y.useEffect(()=>{M&&typeof u=="function"&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(M,"dragstart",u)))},[u]),y.useEffect(()=>{M&&typeof h=="function"&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(M,"mousedown",h)))},[h]),y.useEffect(()=>{M&&typeof f=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(M,"mousemove",f)))},[f]),y.useEffect(()=>{M&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(M,"mouseout",m)))},[m]),y.useEffect(()=>{M&&typeof v=="function"&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(M,"mouseover",v)))},[v]),y.useEffect(()=>{M&&typeof g=="function"&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(M,"mouseup",g)))},[g]),y.useEffect(()=>{M&&typeof T=="function"&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(M,"rightclick",T)))},[T]),y.useEffect(()=>{M&&typeof S=="function"&&(ye!==null&&google.maps.event.removeListener(ye),we(google.maps.event.addListener(M,"click",S)))},[S]),y.useEffect(()=>{M&&typeof C=="function"&&(le!==null&&google.maps.event.removeListener(le),De(google.maps.event.addListener(M,"drag",C)))},[C]),y.useEffect(()=>{var se=new google.maps.Polygon(ax(ax({},e),{},{map:N}));return i&&se.setPath(i),o&&se.setPaths(o),typeof s<"u"&&se.setVisible(s),typeof r<"u"&&se.setEditable(r),typeof n<"u"&&se.setDraggable(n),a&&x(google.maps.event.addListener(se,"dblclick",a)),l&&L(google.maps.event.addListener(se,"dragend",l)),u&&R(google.maps.event.addListener(se,"dragstart",u)),h&&re(google.maps.event.addListener(se,"mousedown",h)),f&&ae(google.maps.event.addListener(se,"mousemove",f)),m&&W(google.maps.event.addListener(se,"mouseout",m)),v&&K(google.maps.event.addListener(se,"mouseover",v)),g&&X(google.maps.event.addListener(se,"mouseup",g)),T&&V(google.maps.event.addListener(se,"rightclick",T)),S&&we(google.maps.event.addListener(se,"click",S)),C&&De(google.maps.event.addListener(se,"drag",C)),E(se),_&&_(se),()=>{b!==null&&google.maps.event.removeListener(b),A!==null&&google.maps.event.removeListener(A),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ye!==null&&google.maps.event.removeListener(ye),I&&I(se),se.setMap(null)}},[]),null}y.memo(j3);class a1 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=be({updaterMap:cx,eventMap:lx,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:cx,eventMap:lx,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ee(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}F(a1,"contextType",ve);function ux(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dx={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hx={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function F3(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:h,onMouseOut:f,onMouseOver:m,onMouseUp:v,onRightClick:g,onClick:T,onDrag:S,onBoundsChanged:C,onLoad:_,onUnmount:I}=t,k=y.useContext(ve),[N,M]=y.useState(null),[E,b]=y.useState(null),[x,A]=y.useState(null),[L,O]=y.useState(null),[R,q]=y.useState(null),[re,ee]=y.useState(null),[ae,U]=y.useState(null),[W,G]=y.useState(null),[K,Z]=y.useState(null),[X,ie]=y.useState(null),[V,ye]=y.useState(null),[we,le]=y.useState(null),[De,se]=y.useState(null);return y.useEffect(()=>{N!==null&&N.setMap(k)},[k]),y.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),y.useEffect(()=>{typeof r<"u"&&N!==null&&N.setDraggable(r)},[N,r]),y.useEffect(()=>{typeof s<"u"&&N!==null&&N.setEditable(s)},[N,s]),y.useEffect(()=>{typeof i<"u"&&N!==null&&N.setVisible(i)},[N,i]),y.useEffect(()=>{typeof n<"u"&&N!==null&&N.setBounds(n)},[N,n]),y.useEffect(()=>{N&&o&&(E!==null&&google.maps.event.removeListener(E),b(google.maps.event.addListener(N,"dblclick",o)))},[o]),y.useEffect(()=>{N&&a&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(N,"dragend",a)))},[a]),y.useEffect(()=>{N&&l&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(N,"dragstart",l)))},[l]),y.useEffect(()=>{N&&u&&(R!==null&&google.maps.event.removeListener(R),q(google.maps.event.addListener(N,"mousedown",u)))},[u]),y.useEffect(()=>{N&&h&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(N,"mousemove",h)))},[h]),y.useEffect(()=>{N&&f&&(ae!==null&&google.maps.event.removeListener(ae),U(google.maps.event.addListener(N,"mouseout",f)))},[f]),y.useEffect(()=>{N&&m&&(W!==null&&google.maps.event.removeListener(W),G(google.maps.event.addListener(N,"mouseover",m)))},[m]),y.useEffect(()=>{N&&v&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(N,"mouseup",v)))},[v]),y.useEffect(()=>{N&&g&&(X!==null&&google.maps.event.removeListener(X),ie(google.maps.event.addListener(N,"rightclick",g)))},[g]),y.useEffect(()=>{N&&T&&(V!==null&&google.maps.event.removeListener(V),ye(google.maps.event.addListener(N,"click",T)))},[T]),y.useEffect(()=>{N&&S&&(we!==null&&google.maps.event.removeListener(we),le(google.maps.event.addListener(N,"drag",S)))},[S]),y.useEffect(()=>{N&&C&&(De!==null&&google.maps.event.removeListener(De),se(google.maps.event.addListener(N,"bounds_changed",C)))},[C]),y.useEffect(()=>{var _e=new google.maps.Rectangle(id(id({},e),{},{map:k}));return typeof i<"u"&&_e.setVisible(i),typeof s<"u"&&_e.setEditable(s),typeof r<"u"&&_e.setDraggable(r),typeof n<"u"&&_e.setBounds(n),o&&b(google.maps.event.addListener(_e,"dblclick",o)),a&&A(google.maps.event.addListener(_e,"dragend",a)),l&&O(google.maps.event.addListener(_e,"dragstart",l)),u&&q(google.maps.event.addListener(_e,"mousedown",u)),h&&ee(google.maps.event.addListener(_e,"mousemove",h)),f&&U(google.maps.event.addListener(_e,"mouseout",f)),m&&G(google.maps.event.addListener(_e,"mouseover",m)),v&&Z(google.maps.event.addListener(_e,"mouseup",v)),g&&ie(google.maps.event.addListener(_e,"rightclick",g)),T&&ye(google.maps.event.addListener(_e,"click",T)),S&&le(google.maps.event.addListener(_e,"drag",S)),C&&se(google.maps.event.addListener(_e,"bounds_changed",C)),M(_e),_&&_(_e),()=>{E!==null&&google.maps.event.removeListener(E),x!==null&&google.maps.event.removeListener(x),L!==null&&google.maps.event.removeListener(L),R!==null&&google.maps.event.removeListener(R),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),W!==null&&google.maps.event.removeListener(W),K!==null&&google.maps.event.removeListener(K),X!==null&&google.maps.event.removeListener(X),V!==null&&google.maps.event.removeListener(V),we!==null&&google.maps.event.removeListener(we),De!==null&&google.maps.event.removeListener(De),I&&I(_e),_e.setMap(null)}},[]),null}y.memo(F3);class V3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{rectangle:null}),F(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(id(id({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:hx,eventMap:dx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:hx,eventMap:dx,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ee(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}F(V3,"contextType",ve);function fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var px={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mx={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},U3={};function B3(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:m,onMouseOver:v,onMouseUp:g,onRightClick:T,onClick:S,onDrag:C,onCenterChanged:_,onRadiusChanged:I,onLoad:k,onUnmount:N}=t,M=y.useContext(ve),[E,b]=y.useState(null),[x,A]=y.useState(null),[L,O]=y.useState(null),[R,q]=y.useState(null),[re,ee]=y.useState(null),[ae,U]=y.useState(null),[W,G]=y.useState(null),[K,Z]=y.useState(null),[X,ie]=y.useState(null),[V,ye]=y.useState(null),[we,le]=y.useState(null),[De,se]=y.useState(null),[_e,it]=y.useState(null),[Y,Ae]=y.useState(null);return y.useEffect(()=>{E!==null&&E.setMap(M)},[M]),y.useEffect(()=>{typeof e<"u"&&E!==null&&E.setOptions(e)},[E,e]),y.useEffect(()=>{typeof s<"u"&&E!==null&&E.setDraggable(s)},[E,s]),y.useEffect(()=>{typeof i<"u"&&E!==null&&E.setEditable(i)},[E,i]),y.useEffect(()=>{typeof o<"u"&&E!==null&&E.setVisible(o)},[E,o]),y.useEffect(()=>{typeof r=="number"&&E!==null&&E.setRadius(r)},[E,r]),y.useEffect(()=>{typeof n<"u"&&E!==null&&E.setCenter(n)},[E,n]),y.useEffect(()=>{E&&a&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(E,"dblclick",a)))},[a]),y.useEffect(()=>{E&&l&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(E,"dragend",l)))},[l]),y.useEffect(()=>{E&&u&&(R!==null&&google.maps.event.removeListener(R),q(google.maps.event.addListener(E,"dragstart",u)))},[u]),y.useEffect(()=>{E&&h&&(re!==null&&google.maps.event.removeListener(re),ee(google.maps.event.addListener(E,"mousedown",h)))},[h]),y.useEffect(()=>{E&&f&&(ae!==null&&google.maps.event.removeListener(ae),U(google.maps.event.addListener(E,"mousemove",f)))},[f]),y.useEffect(()=>{E&&m&&(W!==null&&google.maps.event.removeListener(W),G(google.maps.event.addListener(E,"mouseout",m)))},[m]),y.useEffect(()=>{E&&v&&(K!==null&&google.maps.event.removeListener(K),Z(google.maps.event.addListener(E,"mouseover",v)))},[v]),y.useEffect(()=>{E&&g&&(X!==null&&google.maps.event.removeListener(X),ie(google.maps.event.addListener(E,"mouseup",g)))},[g]),y.useEffect(()=>{E&&T&&(V!==null&&google.maps.event.removeListener(V),ye(google.maps.event.addListener(E,"rightclick",T)))},[T]),y.useEffect(()=>{E&&S&&(we!==null&&google.maps.event.removeListener(we),le(google.maps.event.addListener(E,"click",S)))},[S]),y.useEffect(()=>{E&&C&&(De!==null&&google.maps.event.removeListener(De),se(google.maps.event.addListener(E,"drag",C)))},[C]),y.useEffect(()=>{E&&_&&(_e!==null&&google.maps.event.removeListener(_e),it(google.maps.event.addListener(E,"center_changed",_)))},[S]),y.useEffect(()=>{E&&I&&(Y!==null&&google.maps.event.removeListener(Y),Ae(google.maps.event.addListener(E,"radius_changed",I)))},[I]),y.useEffect(()=>{var Re=new google.maps.Circle(od(od({},e||U3),{},{map:M}));return typeof r=="number"&&Re.setRadius(r),typeof n<"u"&&Re.setCenter(n),typeof r=="number"&&Re.setRadius(r),typeof o<"u"&&Re.setVisible(o),typeof i<"u"&&Re.setEditable(i),typeof s<"u"&&Re.setDraggable(s),a&&A(google.maps.event.addListener(Re,"dblclick",a)),l&&O(google.maps.event.addListener(Re,"dragend",l)),u&&q(google.maps.event.addListener(Re,"dragstart",u)),h&&ee(google.maps.event.addListener(Re,"mousedown",h)),f&&U(google.maps.event.addListener(Re,"mousemove",f)),m&&G(google.maps.event.addListener(Re,"mouseout",m)),v&&Z(google.maps.event.addListener(Re,"mouseover",v)),g&&ie(google.maps.event.addListener(Re,"mouseup",g)),T&&ye(google.maps.event.addListener(Re,"rightclick",T)),S&&le(google.maps.event.addListener(Re,"click",S)),C&&se(google.maps.event.addListener(Re,"drag",C)),_&&it(google.maps.event.addListener(Re,"center_changed",_)),I&&Ae(google.maps.event.addListener(Re,"radius_changed",I)),b(Re),k&&k(Re),()=>{x!==null&&google.maps.event.removeListener(x),L!==null&&google.maps.event.removeListener(L),R!==null&&google.maps.event.removeListener(R),re!==null&&google.maps.event.removeListener(re),ae!==null&&google.maps.event.removeListener(ae),W!==null&&google.maps.event.removeListener(W),K!==null&&google.maps.event.removeListener(K),X!==null&&google.maps.event.removeListener(X),V!==null&&google.maps.event.removeListener(V),we!==null&&google.maps.event.removeListener(we),_e!==null&&google.maps.event.removeListener(_e),Y!==null&&google.maps.event.removeListener(Y),N&&N(Re),Re.setMap(null)}},[]),null}y.memo(B3);class z3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{circle:null}),F(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(od(od({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:mx,eventMap:px,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:mx,eventMap:px,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ee(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}F(z3,"contextType",ve);function gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yx={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},vx={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function H3(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:u,onAddFeature:h,onRemoveFeature:f,onRemoveProperty:m,onSetGeometry:v,onSetProperty:g,onLoad:T,onUnmount:S}=t,C=y.useContext(ve),[_,I]=y.useState(null),[k,N]=y.useState(null),[M,E]=y.useState(null),[b,x]=y.useState(null),[A,L]=y.useState(null),[O,R]=y.useState(null),[q,re]=y.useState(null),[ee,ae]=y.useState(null),[U,W]=y.useState(null),[G,K]=y.useState(null),[Z,X]=y.useState(null),[ie,V]=y.useState(null),[ye,we]=y.useState(null),[le,De]=y.useState(null);return y.useEffect(()=>{_!==null&&_.setMap(C)},[C]),y.useEffect(()=>{_&&r&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(_,"dblclick",r)))},[r]),y.useEffect(()=>{_&&s&&(M!==null&&google.maps.event.removeListener(M),E(google.maps.event.addListener(_,"mousedown",s)))},[s]),y.useEffect(()=>{_&&i&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(_,"mousemove",i)))},[i]),y.useEffect(()=>{_&&o&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(_,"mouseout",o)))},[o]),y.useEffect(()=>{_&&a&&(O!==null&&google.maps.event.removeListener(O),R(google.maps.event.addListener(_,"mouseover",a)))},[a]),y.useEffect(()=>{_&&l&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(_,"mouseup",l)))},[l]),y.useEffect(()=>{_&&u&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(_,"rightclick",u)))},[u]),y.useEffect(()=>{_&&n&&(U!==null&&google.maps.event.removeListener(U),W(google.maps.event.addListener(_,"click",n)))},[n]),y.useEffect(()=>{_&&h&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(_,"addfeature",h)))},[h]),y.useEffect(()=>{_&&f&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(_,"removefeature",f)))},[f]),y.useEffect(()=>{_&&m&&(ie!==null&&google.maps.event.removeListener(ie),V(google.maps.event.addListener(_,"removeproperty",m)))},[m]),y.useEffect(()=>{_&&v&&(ye!==null&&google.maps.event.removeListener(ye),we(google.maps.event.addListener(_,"setgeometry",v)))},[v]),y.useEffect(()=>{_&&g&&(le!==null&&google.maps.event.removeListener(le),De(google.maps.event.addListener(_,"setproperty",g)))},[g]),y.useEffect(()=>{if(C!==null){var se=new google.maps.Data(ad(ad({},e),{},{map:C}));r&&N(google.maps.event.addListener(se,"dblclick",r)),s&&E(google.maps.event.addListener(se,"mousedown",s)),i&&x(google.maps.event.addListener(se,"mousemove",i)),o&&L(google.maps.event.addListener(se,"mouseout",o)),a&&R(google.maps.event.addListener(se,"mouseover",a)),l&&re(google.maps.event.addListener(se,"mouseup",l)),u&&ae(google.maps.event.addListener(se,"rightclick",u)),n&&W(google.maps.event.addListener(se,"click",n)),h&&K(google.maps.event.addListener(se,"addfeature",h)),f&&X(google.maps.event.addListener(se,"removefeature",f)),m&&V(google.maps.event.addListener(se,"removeproperty",m)),v&&we(google.maps.event.addListener(se,"setgeometry",v)),g&&De(google.maps.event.addListener(se,"setproperty",g)),I(se),T&&T(se)}return()=>{_&&(k!==null&&google.maps.event.removeListener(k),M!==null&&google.maps.event.removeListener(M),b!==null&&google.maps.event.removeListener(b),A!==null&&google.maps.event.removeListener(A),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ye!==null&&google.maps.event.removeListener(ye),le!==null&&google.maps.event.removeListener(le),S&&S(_),_.setMap(null))}},[]),null}y.memo(H3);class W3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{data:null}),F(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(ad(ad({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:vx,eventMap:yx,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:vx,eventMap:yx,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ee(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}F(W3,"contextType",ve);function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xx={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},bx={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class q3 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{kmlLayer:null}),F(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(_x(_x({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:bx,eventMap:xx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:bx,eventMap:xx,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ee(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}F(q3,"contextType",ve);function l1(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function G3(t,e){return new e(t.lat,t.lng)}function K3(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Q3(t,e,n){return t instanceof e?t:n(t,e)}function Y3(t,e,n){return t instanceof e?t:n(t,e)}function J3(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Z3(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function c1(t,e,n,r){return n!==void 0?J3(t,e,Y3(n,google.maps.LatLngBounds,K3)):Z3(t,e,Q3(r,google.maps.LatLng,G3))}function X3(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function e6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(a,l,u,h){super(),this.container=a,this.pane=l,this.position=u,this.bounds=h}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=e6({},this.container?l1(this.container,s):{x:0,y:0}),u=c1(a,l,this.bounds,this.position);for(var[h,f]of Object.entries(u))this.container.style[h]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function Sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tx(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Cx(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function r6(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:o,getPixelPositionOffset:a,children:l}=t,u=y.useContext(ve),h=y.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),f=y.useMemo(()=>t6(h,r,e,n,a),[h,r,e,n]);return y.useEffect(()=>(i==null||i(f),f==null||f.setMap(u),()=>{o==null||o(f),f==null||f.setMap(null)}),[u,f]),y.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Si.createPortal(l,h)}y.memo(r6);class Ho extends y.PureComponent{constructor(e){super(e),F(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),F(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();mt(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),F(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),F(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=n6({x:0,y:0},this.containerRef.current?l1(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=c1(r,s,this.props.bounds,this.props.position);if(!X3(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,u;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(a=i.left)!==null&&a!==void 0?a:0,width:(l=i.width)!==null&&l!==void 0?l:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),F(this,"draw",()=>{this.onPositionElement()}),F(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Tx(e.position),r=Tx(this.props.position),s=Cx(e.bounds),i=Cx(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Si.createPortal(d.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}F(Ho,"FLOAT_PANE","floatPane");F(Ho,"MAP_PANE","mapPane");F(Ho,"MARKER_LAYER","markerLayer");F(Ho,"OVERLAY_LAYER","overlayLayer");F(Ho,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");F(Ho,"contextType",ve);function s6(){}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Px(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ax={onDblClick:"dblclick",onClick:"click"},Rx={opacity(t,e){t.setOpacity(e)}};function i6(t){var{url:e,bounds:n,options:r,visible:s}=t,i=y.useContext(ve),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=y.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return y.useEffect(()=>{a!==null&&a.setMap(i)},[i]),y.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(i))},[a,e]),y.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),y.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(i))},[a,n]),null}y.memo(i6);class u1 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{groundOverlay:null}),F(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){mt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Px(Px({},this.props.options),{},{map:this.context}));this.registeredEvents=be({updaterMap:Rx,eventMap:Ax,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Rx,eventMap:Ax,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}F(u1,"defaultProps",{onLoad:s6});F(u1,"contextType",ve);function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Lx={},Nx={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function o6(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=y.useContext(ve),[o,a]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||mt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{mt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{o!==null&&o.setMap(i)},[i]),y.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),y.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(ld(ld({},s),{},{data:e,map:i}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}y.memo(o6);class a6 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{heatmapLayer:null}),F(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){mt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),mt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(ld(ld({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=be({updaterMap:Nx,eventMap:Lx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Nx,eventMap:Lx,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ee(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}F(a6,"contextType",ve);var Ox={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Mx={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class l6 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{streetViewPanorama:null}),F(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=be({updaterMap:Mx,eventMap:Ox,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Mx,eventMap:Ox,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ee(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}F(l6,"contextType",ve);class c6 extends y.PureComponent{constructor(){super(...arguments),F(this,"state",{streetViewService:null}),F(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}F(c6,"contextType",ve);var Dx={onDirectionsChanged:"directions_changed"},$x={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class u6 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{directionsRenderer:null}),F(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=be({updaterMap:$x,eventMap:Dx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:$x,eventMap:Dx,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ee(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}F(u6,"contextType",ve);var jx={onPlacesChanged:"places_changed"},Fx={bounds(t,e){t.setBounds(e)}};class d6 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",y.createRef()),F(this,"state",{searchBox:null}),F(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(mt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=be({updaterMap:Fx,eventMap:jx,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Fx,eventMap:jx,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ee(this.registeredEvents))}render(){return d.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}F(d6,"contextType",ve);var Vx={onPlaceChanged:"place_changed"},Ux={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class d1 extends y.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",y.createRef()),F(this,"state",{autocomplete:null}),F(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;mt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=be({updaterMap:Ux,eventMap:Vx,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ee(this.registeredEvents),this.registeredEvents=be({updaterMap:Ux,eventMap:Vx,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ee(this.registeredEvents)}render(){return d.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}F(d1,"defaultProps",{className:""});F(d1,"contextType",ve);const h6=()=>{const{t}=Ar(),[e,n]=y.useState("small"),[r,s]=y.useState("loamy"),[i,o]=y.useState("moderate"),[a,l]=y.useState(null),[u,h]=y.useState(null),f=()=>({small:{canopy:[{name:t("mangoTrees"),spacing:"10m x 10m",benefits:t("fruitProductionShadeIncome")},{name:t("guavaTrees"),spacing:"8m x 8m",benefits:t("fruitProductionEarlyReturns")}],understory:[{name:t("leucaena"),spacing:"2m x 2m",benefits:t("nitrogenFixationFodderBiomass")},{name:t("gliricidia"),spacing:"3m x 3m",benefits:t("nitrogenFixationLiveFencingFodder")}],shrubs:[{name:t("turmeric"),spacing:t("interplantWithTrees"),benefits:t("highValueSpiceShadeTolerant")},{name:t("ginger"),spacing:t("interplantWithTrees"),benefits:t("highValueSpiceMoistureRetention")}],ground:[{name:t("blackGram"),spacing:t("rowPlanting"),benefits:t("nitrogenFixationShortDuration")},{name:t("pigeonPea"),spacing:t("betweenTreeRows"),benefits:t("proteinSourceDroughtTolerant")}]},medium:{canopy:[{name:t("tamarindTrees"),spacing:"12m x 12m",benefits:t("fruitProductionLongTermInvestment")},{name:t("jackfruitTrees"),spacing:"10m x 10m",benefits:t("highValueFruitClimateResilience")}],understory:[{name:t("acaciaNilotica"),spacing:"3m x 3m",benefits:t("nitrogenFixationGumProduction")},{name:t("casuarina"),spacing:"4m x 4m",benefits:t("windbreakTimberNitrogenFixation")}],shrubs:[{name:t("coffee"),spacing:t("shadedAreasUnderTrees"),benefits:t("highValueCashCropShadeRequirement")},{name:t("pepper"),spacing:t("supportedOnTreeTrunks"),benefits:t("climbingVineHighValueSpice")}],ground:[{name:t("maize"),spacing:t("rowPlanting"),benefits:t("stapleFoodCropGoodGroundCover")},{name:t("cowpea"),spacing:t("interrowPlanting"),benefits:t("proteinSourceNitrogenFixation")}]},large:{canopy:[{name:t("teakTrees"),spacing:"8m x 8m",benefits:t("highValueTimberLongTermInvestment")},{name:t("neemTrees"),spacing:"10m x 10m",benefits:t("timberMedicinalPestControl")}],understory:[{name:t("albizia"),spacing:"4m x 4m",benefits:t("nitrogenFixationTimberShade")},{name:t("sesbania"),spacing:"2m x 2m",benefits:t("greenManureFodderNitrogenFixation")}],shrubs:[{name:t("medicinalPlants"),spacing:t("dedicatedPlots"),benefits:t("diverseIncomeTraditionalMedicine")},{name:t("aromaticHerbs"),spacing:t("borderPlantings"),benefits:t("essentialOilsPestRepellent")}],ground:[{name:t("sorghum"),spacing:t("rowPlanting"),benefits:t("droughtTolerantFodderAndGrain")},{name:t("groundnut"),spacing:t("interrowPlanting"),benefits:t("oilseedCropNitrogenFixation")}]}})[e],m=()=>({small:{combinations:[{name:t("maizeCowpea"),benefits:t("complementaryGrowthNitrogenFixationDiversifiedIncome"),layout:t("alternateRows"),season:t("kharif")},{name:t("wheatChickpea"),benefits:t("differentRootZonesNitrogenFixationCoolSeasonCombination"),layout:t("stripIntercropping"),season:t("rabi")}]},medium:{combinations:[{name:t("sorghumPigeonPea"),benefits:t("droughtToleranceComplementaryHeightProteinCarbohydrate"),layout:t("rowIntercropping"),season:t("kharif")},{name:t("mustardLentil"),benefits:t("oilseedPulseCombinationDifferentNutrientRequirements"),layout:t("mixedIntercropping"),season:t("rabi")}]},large:{combinations:[{name:t("cottonSoybean"),benefits:t("fiberProteinPestManagementMechanizationCompatible"),layout:t("stripIntercropping"),season:t("kharif")},{name:t("barleyFieldPea"),benefits:t("cerealPulseEarlyHarvestSoilImprovement"),layout:t("alternateRow"),season:t("rabi")}]}})[e];return y.useEffect(()=>{const v=f(),g=m();l(v),h(g)},[e,r,i]),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t("agroforestryMultiCroppingPlanner")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:t("farmSize")}),d.jsxs("select",{value:e,onChange:v=>n(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"small",children:t("small052Acres")}),d.jsx("option",{value:"medium",children:t("medium25Acres")}),d.jsx("option",{value:"large",children:t("large5Acres")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:t("soilType")}),d.jsxs("select",{value:r,onChange:v=>s(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"sandy",children:t("sandy")}),d.jsx("option",{value:"loamy",children:t("loamy")}),d.jsx("option",{value:"clay",children:t("clay")}),d.jsx("option",{value:"silty",children:t("silty")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:t("rainfall")}),d.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"low",children:t("lowRainfall")}),d.jsx("option",{value:"moderate",children:t("moderateRainfall")}),d.jsx("option",{value:"high",children:t("highRainfall")})]})]})]}),a&&d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:t("agroforestryLayerPlan")}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[d.jsx("span",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),t("canopyTrees")]}),d.jsx("ul",{className:"space-y-3",children:a.canopy.map((v,g)=>d.jsxs("li",{className:"flex justify-between items-start border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-800",children:v.name}),d.jsx("div",{className:"text-sm text-gray-600",children:v.spacing})]}),d.jsx("div",{className:"text-sm text-gray-600 text-right",children:v.benefits})]},g))})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[d.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),t("understoryTrees")]}),d.jsx("ul",{className:"space-y-3",children:a.understory.map((v,g)=>d.jsxs("li",{className:"flex justify-between items-start border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-800",children:v.name}),d.jsx("div",{className:"text-sm text-gray-600",children:v.spacing})]}),d.jsx("div",{className:"text-sm text-gray-600 text-right",children:v.benefits})]},g))})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[d.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),t("shrubs")]}),d.jsx("ul",{className:"space-y-3",children:a.shrubs.map((v,g)=>d.jsxs("li",{className:"flex justify-between items-start border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-800",children:v.name}),d.jsx("div",{className:"text-sm text-gray-600",children:v.spacing})]}),d.jsx("div",{className:"text-sm text-gray-600 text-right",children:v.benefits})]},g))})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[d.jsx("span",{className:"w-3 h-3 bg-green-300 rounded-full mr-2"}),t("groundCrops")]}),d.jsx("ul",{className:"space-y-3",children:a.ground.map((v,g)=>d.jsxs("li",{className:"flex justify-between items-start border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-800",children:v.name}),d.jsx("div",{className:"text-sm text-gray-600",children:v.spacing})]}),d.jsx("div",{className:"text-sm text-gray-600 text-right",children:v.benefits})]},g))})]})]})]}),u&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:t("multiCroppingCombinations")}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.combinations.map((v,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:v.name}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("benefits"),":"]}),d.jsx("span",{className:"text-gray-800 text-right",children:v.benefits})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("layout"),":"]}),d.jsx("span",{className:"text-gray-800",children:v.layout})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("season"),":"]}),d.jsx("span",{className:"text-gray-800",children:v.season})]})]})]},g))})]}),d.jsxs("div",{className:"mt-8 p-4 bg-green-50 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-green-800 mb-2",children:t("benefitsOfAgroforestryMultiCropping")}),d.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-green-700",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("improvesSoilFertilityReducesErosion")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("providesShadeMicroclimateRegulation")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("producesDiverseFruitsNutsTimberCrops")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("enhancesBiodiversityBeneficialInsects")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("reducesPestRisksIncreasesYieldStability")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("ensuresStableIncomeThroughDiversification")})]})]})]})]})};class f6{constructor(){this.predictionsCollection="predictions",this.feedbackCollection="feedback",this.modelVersionsCollection="model_versions"}async storePrediction(e){try{const n={...e,timestamp:Oe.now(),feedback_received:!1},r=await Jc(Zr(Jn,this.predictionsCollection),n);return console.log("Prediction stored with ID: ",r.id),r.id}catch(n){throw console.error("Error storing prediction: ",n),n}}async storeFeedback(e,n){try{const r={prediction_id:e,...n,timestamp:Oe.now()},s=await Jc(Zr(Jn,this.feedbackCollection),r);return console.log("Feedback stored with ID: ",s.id),console.log(`Feedback linked to prediction ${e}`),s.id}catch(r){throw console.error("Error storing feedback: ",r),r}}async getFeedbackData(e=1e3){try{const n=Qu(Zr(Jn,this.feedbackCollection),qp("timestamp","desc"),Gp(e)),r=await Yu(n),s=[];return r.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(n){throw console.error("Error retrieving feedback data: ",n),n}}async storeModelVersion(e){try{const n={...e,timestamp:Oe.now()},r=await Jc(Zr(Jn,this.modelVersionsCollection),n);return console.log("Model version stored with ID: ",r.id),r.id}catch(n){throw console.error("Error storing model version: ",n),n}}async getModelVersions(e=10){try{const n=Qu(Zr(Jn,this.modelVersionsCollection),qp("timestamp","desc"),Gp(e)),r=await Yu(n),s=[];return r.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(n){throw console.error("Error retrieving model versions: ",n),n}}}const Bx=new f6;class p6{async fetchSoilData(e,n){try{const r=await Ue.get("https://rest.isric.org/soilgrids/v2.0/properties/query",{params:{lat:e,lon:n,property:["phh2o","ocd","nitrogen","cec","sand","silt","clay"],depth:"0-5cm",value:"mean"}});return{ph:r.data.properties.phh2o?r.data.properties.phh2o.mean/10:null,organic_carbon:r.data.properties.ocd?r.data.properties.ocd.mean/10:null,nitrogen:r.data.properties.nitrogen?r.data.properties.nitrogen.mean:null,cec:r.data.properties.cec?r.data.properties.cec.mean:null,sand:r.data.properties.sand?r.data.properties.sand.mean:null,silt:r.data.properties.silt?r.data.properties.silt.mean:null,clay:r.data.properties.clay?r.data.properties.clay.mean:null}}catch(r){return console.error("Error fetching soil data:",r),{ph:6.7,organic_carbon:1.2,nitrogen:150,cec:12,sand:45,silt:35,clay:20}}}async fetchWeatherData(e,n){try{const s=(await Ue.get("https://power.larc.nasa.gov/api/temporal/climatology/point",{params:{parameters:"T2M,RH2M,PRECTOTCORR,ALLSKY_SFC_SW_DWN",community:"AG",longitude:n,latitude:e,format:"JSON",start:2020,end:2022}})).data.properties.parameter;return{avg_temperature_c:s.T2M?Math.round(s.T2M.ANN):null,avg_humidity:s.RH2M?Math.round(s.RH2M.ANN):null,avg_rainfall_mm:s.PRECTOTCORR?Math.round(s.PRECTOTCORR.ANN*3650):null,solar_radiation:s.ALLSKY_SFC_SW_DWN?Math.round(s.ALLSKY_SFC_SW_DWN.ANN):null}}catch(r){return console.error("Error fetching weather data:",r),{avg_temperature_c:28,avg_humidity:65,avg_rainfall_mm:980,solar_radiation:5.5}}}async fetchElevation(e,n){try{return(await Ue.get("https://api.open-elevation.com/api/v1/lookup",{params:{locations:`${e},${n}`}})).data.results[0].elevation}catch(r){return console.error("Error fetching elevation data:",r),500}}async fetchCropPrices(e){try{const n={};return e.forEach(r=>{switch(r.toLowerCase()){case"maize":n[r]={min:1800,max:2200,avg:2e3};break;case"cowpea":n[r]={min:4500,max:5500,avg:5e3};break;case"mango":n[r]={min:40,max:60,avg:50};break;case"gliricidia":n[r]={min:5,max:10,avg:7};break;default:n[r]={min:2e3,max:4e3,avg:3e3}}}),n}catch(n){return console.error("Error fetching crop prices:",n),{}}}async callAIModelAPI(e){try{return console.log("Calling AI Model API with inputs:",e),this.generateMockRecommendation(e)}catch(n){return console.error("Error calling AI model API:",n),this.generateAgroforestryPlan(e)}}async fetchRealTimePredictions(e){try{console.log("Fetching real-time predictions with farmer data:",e);const n=await Ue.post("http://localhost:5000/predict/realtime",e);try{const r=await Bx.storePrediction({farmer_data:e,predictions:n.data.predictions,weather_data:n.data.weather_data,recommendations:n.data.recommendations,timestamp:new Date().toISOString()});console.log("Prediction stored in Firebase with ID:",r),n.data.prediction_id=r}catch(r){console.error("Error storing prediction in Firebase:",r)}return n.data}catch(n){return console.error("Error fetching real-time predictions:",n),{predictions:{yield_kg_per_acre:3e3,roi:2.8,confidence:.85},weather_data:{avg_temperature_c:28,avg_humidity:65,avg_rainfall_mm:980,solar_radiation:5.5},recommendations:{best_crop:"Maize",planting_time:"June-July",irrigation_needs:"Moderate"}}}}generateMockRecommendation(e){const{latitude:n,longitude:r,soil_pH:s,organic_carbon:i,nitrogen:o,cec:a,sand:l,clay:u,silt:h,avg_rainfall_mm:f,avg_temperature_c:m,solar_radiation:v,land_area:g,investment_capacity:T}=e,S=this.determineSoilTexture(l,h,u),C=this.determineDrainageQuality(S,u),_=this.determineSuitableCrops(s,f,m,o),I=this.determineSuitableTrees(f,m,s,C),k=this.calculateEconomicProjection(g,T,_,I),N=this.generateLayoutPlan(S,f);[..._.mainCrops.map(b=>b.name),..._.intercrops.map(b=>b.name),...I.map(b=>b.name)];const M=this.calculateSustainabilityMetrics(S,i,f),E=this.generateSoilImprovementTips(s,i,o,a);return{farm_location:{latitude:n,longitude:r,region:this.determineRegion(n,r),elevation:500},soil_summary:{ph:s,organic_carbon:`${i}%`,nitrogen:`${o} kg/ha`,cec:`${a} cmol/kg`,texture:S,drainage:C,recommendation:this.getSoilRecommendation(s,i,S,o,a)},climate_summary:{avg_rainfall_mm:f,avg_temperature_c:m,solar_radiation:`${v} kWh/m/day`,recommendation:this.getClimateRecommendation(f,m,v)},recommended_agroforestry_system:{trees:I,main_crops:_.mainCrops,intercrops:_.intercrops,herbs:_.herbs},layout_plan:N,economic_projection:k,sustainability_metrics:M,soil_improvement_tips:E,next_steps:["Prepare nursery of selected trees","Install drip irrigation (low cost)","Plant nitrogen-fixing crops first","Add organic compost before sowing"]}}async generateAgroforestryPlan(e){try{return await this.callAIModelAPI(e)}catch(n){return console.error("Error generating agroforestry plan:",n),this.generateRuleBasedPlan(e)}}generateRuleBasedPlan(e){const{latitude:n,longitude:r,soil_pH:s,organic_carbon:i,nitrogen:o,cec:a,sand:l,clay:u,silt:h,avg_rainfall_mm:f,avg_temperature_c:m,solar_radiation:v,land_area:g,investment_capacity:T}=e,S=this.determineSoilTexture(l,h,u),C=this.determineDrainageQuality(S,u),_=this.determineSuitableCrops(s,f,m,o),I=this.determineSuitableTrees(f,m,s,C),k=this.calculateEconomicProjection(g,T,_,I),N=this.generateLayoutPlan(S,f);[..._.mainCrops.map(x=>x.name),..._.intercrops.map(x=>x.name),...I.map(x=>x.name)];const M={},E=this.calculateSustainabilityMetrics(S,i,f),b=this.generateSoilImprovementTips(s,i,o,a);return{farm_location:{latitude:n,longitude:r,region:this.determineRegion(n,r),elevation:500},soil_summary:{ph:s,organic_carbon:`${i}%`,nitrogen:`${o} kg/ha`,cec:`${a} cmol/kg`,texture:S,drainage:C,recommendation:this.getSoilRecommendation(s,i,S,o,a)},climate_summary:{avg_rainfall_mm:f,avg_temperature_c:m,solar_radiation:`${v} kWh/m/day`,recommendation:this.getClimateRecommendation(f,m,v)},recommended_agroforestry_system:{trees:I,main_crops:_.mainCrops,intercrops:_.intercrops,herbs:_.herbs},layout_plan:N,economic_projection:{...k,crop_prices:M},sustainability_metrics:E,soil_improvement_tips:b,next_steps:["Prepare nursery of selected trees","Install drip irrigation (low cost)","Plant nitrogen-fixing crops first","Add organic compost before sowing"]}}determineSoilTexture(e,n,r){return e&&n&&r?e>70?"Sandy":r>40?"Clay":n>40?"Silty":"Loamy":"Loamy"}determineDrainageQuality(e,n){return e==="Sandy"?"Well Drained":e==="Clay"||n>40?"Poorly Drained":"Moderately Drained"}determineSuitableCrops(e,n,r,s){const i=[],o=[],a=[];return e>=6&&e<=7.5&&n>=600&&r>=20&&r<=35&&i.push({name:"Maize",planting_density:"50,000 plants/ha",spacing:"75cm rows"}),e>=5.5&&e<=7&&n>=500&&r>=25&&r<=35&&i.push({name:"Sorghum",planting_density:"60,000 plants/ha",spacing:"45cm rows"}),s<200&&o.push({name:"Cowpea",planting_density:"40,000 plants/ha",benefit:"Nitrogen fixation"}),r>=20&&r<=30&&o.push({name:"Black Gram",planting_density:"35,000 plants/ha",benefit:"Protein source"}),r>=20&&r<=35&&a.push({name:"Turmeric",planting_density:"125,000 rhizomes/ha",benefit:"High value spice"}),i.length===0&&i.push({name:"Finger Millet",planting_density:"55,000 plants/ha",spacing:"30cm rows"}),o.length===0&&o.push({name:"Green Gram",planting_density:"40,000 plants/ha",benefit:"Nitrogen fixation"}),a.length===0&&a.push({name:"Ginger",planting_density:"100,000 rhizomes/ha",benefit:"High value spice"}),{mainCrops:i,intercrops:o,herbs:a}}determineSuitableTrees(e,n,r,s){const i=[];return e>800&&n>25&&r>=5.5&&r<=7.5&&i.push({name:"Mango",spacing_m:"10x10",yield_kg_per_tree:200,maturity_years:4,benefit:"Fruit production, shade, income diversification"}),r>=5&&r<=8&&s!=="Poorly Drained"&&i.push({name:"Gliricidia",spacing_m:"2x2",yield_kg_per_tree:15,maturity_years:2,benefit:"Nitrogen fixer, soil protector, fodder"}),e>600&&n>=20&&n<=35&&i.push({name:"Neem",spacing_m:"8x8",yield_kg_per_tree:5,maturity_years:3,benefit:"Multipurpose tree for pest control and shade"}),i.length===0&&i.push({name:"Subabul (Leucaena)",spacing_m:"3x3",yield_kg_per_tree:10,maturity_years:2,benefit:"Nitrogen fixer, fodder, biomass"}),i}calculateEconomicProjection(e,n,r,s){let i=0,o=0;switch(n){case"low":i=2e4,o=6e4;break;case"medium":i=35e3,o=12e4;break;case"high":i=6e4,o=2e5;break;default:i=35e3,o=12e4}const a=(o/i).toFixed(1)+"x",l=Math.round(i/(o/12)),u={};r.mainCrops.forEach(f=>{u[f.name]=Math.round(o*.4)}),r.intercrops.forEach(f=>{u[f.name]=Math.round(o*.2)});const h={};return s.forEach(f=>{h[f.name]=Math.round(o*.4)}),{estimated_investment:i,expected_income:o,roi:a,payback_period_months:l,crop_income:u,tree_income:h}}generateLayoutPlan(e,n){let r="Alley Cropping",s="Alternate rows of trees and mixed crops (5m spacing)";return e==="Sandy"&&n<600?(r="Boundary Planting",s="Plant trees along boundaries with drought-resistant crops in center"):n>1200&&(r="Multistorey System",s="Multiple layers of trees, shrubs, and crops for high rainfall areas"),{pattern:r,description:s,tree_spacing:"5-10m depending on species",crop_spacing:"As per crop recommendations"}}calculateSustainabilityMetrics(e,n,r){let s="+10-15%",i="15-20%",o="1.0-1.5 tons/ha/year";return n>1.5&&(s="+15-20%",o="1.5-2.0 tons/ha/year"),r>1e3?i="20-25%":r<500&&(i="10-15%"),{soil_health_increase:s,water_savings:i,carbon_sequestration_potential:o,biodiversity_score:"High",climate_resilience:"Improved"}}generateSoilImprovementTips(e,n,r,s){const i=[];return e<6?i.push("Soil is acidic. Add lime (calcium carbonate) to raise pH. Apply 1-2 tons/ha based on current pH."):e>7.5&&i.push("Soil is alkaline. Add organic matter like compost to lower pH. Apply 5-10 tons/ha of well-decomposed compost."),n<1&&i.push("Low organic matter. Add compost or farmyard manure. Apply 5-10 tons/ha annually."),r<150&&i.push("Low nitrogen content. Plant nitrogen-fixing crops like legumes. Apply neem cake @ 100 kg/ha."),s<10&&i.push("Low cation exchange capacity. Add organic matter to improve soil structure and nutrient retention."),i.push("Practice crop rotation with legumes to maintain soil fertility."),i.push("Use mulching to conserve moisture and add organic matter."),i}determineRegion(e,n){return e>8&&e<37&&n>68&&n<97?"India":"Global"}getSoilRecommendation(e,n,r,s,i){let o="";return e<6?o+="Soil is acidic. Add lime to raise pH. ":e>7.5?o+="Soil is alkaline. Add organic matter to lower pH. ":o+="Soil pH is optimal for most crops. ",n<1?o+="Low organic matter. Add compost or manure. ":o+="Good organic matter content. ",s<150&&(o+="Low nitrogen. Include nitrogen-fixing crops. "),o+=`Ideal for ${r.toLowerCase()} soil crops.`,o}getClimateRecommendation(e,n,r){let s="";return e<500?s+="Arid conditions. Focus on drought-resistant crops. ":e>1500?s+="High rainfall area. Ensure good drainage. ":s+="Moderate rainfall suitable for diverse crops. ",n<20?s+="Cool climate. Suitable for winter crops. ":n>35?s+="Hot climate. Focus on heat-tolerant varieties. ":s+="Temperature suitable for year-round cultivation. ",r>6&&(s+="High solar radiation - suitable for sun-loving crops. "),s.trim()}async submitFeedback(e,n){try{const r=await Bx.storeFeedback(e,n);return console.log("Feedback submitted successfully with ID:",r),r}catch(r){throw console.error("Error submitting feedback:",r),r}}}const Wa=new p6,m6=({onPlanGenerated:t})=>{const{t:e}=Ar(),[n,r]=y.useState({location:{type:"gps",gps:{lat:"",lng:""},village:""},land_area:"",budget:"",crop_preference:"",investment_capacity:"medium"}),[s,i]=y.useState(null),[o,a]=y.useState(!1),[l,u]=y.useState(null);y.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(v=>{i({lat:v.coords.latitude,lng:v.coords.longitude})},v=>{console.log("Geolocation not available or denied")})},[]);const h=v=>{const{name:g,value:T}=v.target;r(g==="location_type"?S=>({...S,location:{...S.location,type:T}}):g==="lat"||g==="lng"?S=>({...S,location:{...S.location,gps:{...S.location.gps,[g]:T}}}):g==="village"?S=>({...S,location:{...S.location,village:T}}):S=>({...S,[g]:T}))},f=()=>{s&&r(v=>({...v,location:{...v.location,gps:{lat:s.lat.toString(),lng:s.lng.toString()}}}))},m=async v=>{v.preventDefault(),a(!0),u(null);try{if(!n.land_area||!n.budget)throw new Error(e("pleaseFillRequiredFields"));let g,T;if(n.location.type==="gps"){if(!n.location.gps.lat||!n.location.gps.lng)throw new Error(e("pleaseEnterValidCoordinates"));if(g=parseFloat(n.location.gps.lat),T=parseFloat(n.location.gps.lng),isNaN(g)||isNaN(T))throw new Error(e("pleaseEnterValidCoordinates"))}else g=20.5937,T=78.9629,console.log("Village geocoding not implemented, using default location");const S=parseFloat(n.land_area),C=parseFloat(n.budget);if(isNaN(S)||isNaN(C))throw new Error(e("pleaseEnterValidNumbers"));let _="low";C>1e5?_="high":C>5e4&&(_="medium");const I=await Wa.fetchSoilData(g,T),k=await Wa.fetchWeatherData(g,T),N={latitude:g,longitude:T,soil_pH:I.ph,organic_carbon:I.organic_carbon,nitrogen:I.nitrogen,cec:I.cec,sand:I.sand,silt:I.silt,clay:I.clay,avg_rainfall_mm:k.avg_rainfall_mm,avg_temperature_c:k.avg_temperature_c,solar_radiation:k.solar_radiation,land_area:S,investment_capacity:_,crop_preference:n.crop_preference||null},M=await Wa.generateAgroforestryPlan(N);t(M,N)}catch(g){console.error("Error generating plan:",g),u(g.message||e("failedToGeneratePlan"))}finally{a(!1)}};return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:[" ",e("farmerInputForm")]}),l&&d.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4",children:l}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",e("location")]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",name:"location_type",value:"gps",checked:n.location.type==="gps",onChange:h,className:"mr-2"}),d.jsx("span",{children:e("useGPS")})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",name:"location_type",value:"village",checked:n.location.type==="village",onChange:h,className:"mr-2"}),d.jsx("span",{children:e("enterVillage")})]})]}),n.location.type==="gps"?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:e("latitude")}),d.jsxs("div",{className:"flex",children:[d.jsx("input",{type:"text",name:"lat",value:n.location.gps.lat,onChange:h,placeholder:e("enterLatitude"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),s&&d.jsx("button",{type:"button",onClick:f,className:"bg-green-600 hover:bg-green-700 text-white px-3 rounded-r-lg",title:e("useCurrentLocation"),children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:e("longitude")}),d.jsx("input",{type:"text",name:"lng",value:n.location.gps.lng,onChange:h,placeholder:e("enterLongitude"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:e("villageName")}),d.jsx("input",{type:"text",name:"village",value:n.location.village,onChange:h,placeholder:e("enterVillageName"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("noteVillageLocation")})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",e("farmDetails")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-gray-700 mb-2 font-medium",children:[e("landAreaInAcres")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",name:"land_area",value:n.land_area,onChange:h,placeholder:e("enterLandArea"),step:"0.1",min:"0.1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-gray-700 mb-2 font-medium",children:[e("budgetInRupees")," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"number",name:"budget",value:n.budget,onChange:h,placeholder:e("enterBudget"),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",e("preferences")]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-gray-700 mb-2 font-medium",children:[e("cropPreference")," (",e("optional"),")"]}),d.jsx("input",{type:"text",name:"crop_preference",value:n.crop_preference,onChange:h,placeholder:e("enterCropPreference"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("cropPreferenceNote")})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:o,className:`bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("generatingPlan")]}):e("generateAgroforestryPlan")}),d.jsx("button",{type:"button",onClick:()=>r({location:{type:"gps",gps:{lat:"",lng:""},village:""},land_area:"",budget:"",crop_preference:"",investment_capacity:"medium"}),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition duration-300",children:e("reset")})]})]})]})},g6=()=>{var a,l,u,h,f,m,v,g,T,S,C,_,I,k,N,M,E,b,x,A,L,O,R,q,re,ee,ae,U,W,G,K,Z,X,ie,V,ye,we,le,De,se,_e,it;const{t}=Ar(),[e,n]=y.useState(null),[r,s]=y.useState(null),i=(Y,Ae)=>{n(Y),s(Ae)},o=()=>{n(null),s(null)};return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:[" ",t("aiDrivenAgroforestryPlanner")]}),e?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-green-50",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("farmInputsSummary")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("latitude"),":"]}),d.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.latitude)||"N/A"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("longitude"),":"]}),d.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.longitude)||"N/A"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("landAreaInAcres"),":"]}),d.jsxs("span",{className:"ml-2 font-medium",children:[(r==null?void 0:r.land_area)||"N/A"," acres"]})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("budget"),":"]}),d.jsxs("span",{className:"ml-2 font-medium",children:["",(r==null?void 0:r.investment_capacity)==="low"?"0-50,000":(r==null?void 0:r.investment_capacity)==="medium"?"50,000-1,00,000":(r==null?void 0:r.investment_capacity)==="high"?"1,00,000+":"N/A"]})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("farmLocation")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("latitude"),":"]}),d.jsx("span",{className:"ml-2 font-medium",children:((a=e==null?void 0:e.farm_location)==null?void 0:a.latitude)||"N/A"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("longitude"),":"]}),d.jsx("span",{className:"ml-2 font-medium",children:((l=e==null?void 0:e.farm_location)==null?void 0:l.longitude)||"N/A"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("region"),":"]}),d.jsx("span",{className:"ml-2 font-medium",children:((u=e==null?void 0:e.farm_location)==null?void 0:u.region)||"N/A"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("elevation"),":"]}),d.jsxs("span",{className:"ml-2 font-medium",children:[((h=e==null?void 0:e.farm_location)==null?void 0:h.elevation)||"N/A"," m"]})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("soilSummary")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("phLevel"),":"]})," ",d.jsx("span",{className:"font-medium",children:((f=e==null?void 0:e.soil_summary)==null?void 0:f.ph)||"N/A"})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("organicCarbon"),":"]})," ",d.jsx("span",{className:"font-medium",children:((m=e==null?void 0:e.soil_summary)==null?void 0:m.organic_carbon)||"N/A"})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("nitrogen"),":"]})," ",d.jsx("span",{className:"font-medium",children:((v=e==null?void 0:e.soil_summary)==null?void 0:v.nitrogen)||"N/A"})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("cec"),":"]})," ",d.jsx("span",{className:"font-medium",children:((g=e==null?void 0:e.soil_summary)==null?void 0:g.cec)||"N/A"})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("texture"),":"]})," ",d.jsx("span",{className:"font-medium",children:((T=e==null?void 0:e.soil_summary)==null?void 0:T.texture)||"N/A"})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("drainage"),":"]})," ",d.jsx("span",{className:"font-medium",children:((S=e==null?void 0:e.soil_summary)==null?void 0:S.drainage)||"N/A"})]})]}),d.jsx("div",{children:d.jsx("p",{className:"text-gray-700",children:((C=e==null?void 0:e.soil_summary)==null?void 0:C.recommendation)||"N/A"})})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("climateSummary")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("averageRainfall"),":"]})," ",d.jsxs("span",{className:"font-medium",children:[((_=e==null?void 0:e.climate_summary)==null?void 0:_.avg_rainfall_mm)||"N/A"," mm"]})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("averageTemperature"),":"]})," ",d.jsxs("span",{className:"font-medium",children:[((I=e==null?void 0:e.climate_summary)==null?void 0:I.avg_temperature_c)||"N/A","C"]})]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("solarRadiation"),":"]})," ",d.jsx("span",{className:"font-medium",children:((k=e==null?void 0:e.climate_summary)==null?void 0:k.solar_radiation)||"N/A"})]})]}),d.jsx("div",{children:d.jsx("p",{className:"text-gray-700",children:((N=e==null?void 0:e.climate_summary)==null?void 0:N.recommendation)||"N/A"})})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("soilImprovementTips")]}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:((M=e==null?void 0:e.soil_improvement_tips)==null?void 0:M.map((Y,Ae)=>d.jsx("li",{className:"text-gray-700",children:Y},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("recommendedAgroforestrySystem")]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("trees")}),d.jsx("ul",{className:"space-y-2",children:((b=(E=e==null?void 0:e.recommended_agroforestry_system)==null?void 0:E.trees)==null?void 0:b.map((Y,Ae)=>d.jsxs("li",{className:"flex flex-wrap items-center gap-2 border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsx("span",{className:"font-medium text-green-700",children:(Y==null?void 0:Y.name)||"N/A"}),d.jsxs("span",{children:["(",(Y==null?void 0:Y.spacing_m)||"N/A","m spacing, matures in ",(Y==null?void 0:Y.maturity_years)||"N/A"," years)"]}),d.jsxs("span",{children:["Yield: ",(Y==null?void 0:Y.yield_kg_per_tree)||"N/A"," kg/tree"]}),d.jsx("span",{className:"text-sm text-gray-600",children:(Y==null?void 0:Y.benefit)||"N/A"})]},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("mainCrops")}),d.jsx("ul",{className:"space-y-2",children:((A=(x=e==null?void 0:e.recommended_agroforestry_system)==null?void 0:x.main_crops)==null?void 0:A.map((Y,Ae)=>d.jsxs("li",{className:"flex flex-wrap items-center gap-2 border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsx("span",{className:"font-medium text-blue-700",children:(Y==null?void 0:Y.name)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.planting_density)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.spacing)||"N/A"})]},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("intercrops")}),d.jsx("ul",{className:"space-y-2",children:((O=(L=e==null?void 0:e.recommended_agroforestry_system)==null?void 0:L.intercrops)==null?void 0:O.map((Y,Ae)=>d.jsxs("li",{className:"flex flex-wrap items-center gap-2 border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsx("span",{className:"font-medium text-purple-700",children:(Y==null?void 0:Y.name)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.planting_density)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.benefit)||"N/A"})]},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("herbs")}),d.jsx("ul",{className:"space-y-2",children:((q=(R=e==null?void 0:e.recommended_agroforestry_system)==null?void 0:R.herbs)==null?void 0:q.map((Y,Ae)=>d.jsxs("li",{className:"flex flex-wrap items-center gap-2 border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[d.jsx("span",{className:"font-medium text-orange-700",children:(Y==null?void 0:Y.name)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.planting_density)||"N/A"}),d.jsx("span",{children:(Y==null?void 0:Y.benefit)||"N/A"})]},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("layoutPlan")]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:((re=e==null?void 0:e.layout_plan)==null?void 0:re.pattern)||"N/A"})," - ",((ee=e==null?void 0:e.layout_plan)==null?void 0:ee.description)||"N/A"]}),d.jsxs("p",{className:"mt-2",children:[d.jsxs("span",{className:"text-gray-600",children:[t("treeSpacing"),":"]})," ",((ae=e==null?void 0:e.layout_plan)==null?void 0:ae.tree_spacing)||"N/A"]}),d.jsxs("p",{children:[d.jsxs("span",{className:"text-gray-600",children:[t("cropSpacing"),":"]})," ",((U=e==null?void 0:e.layout_plan)==null?void 0:U.crop_spacing)||"N/A"]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("economicProjection")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("estimatedInvestment")}),d.jsxs("p",{className:"text-xl font-bold text-green-700",children:["",((G=(W=e==null?void 0:e.economic_projection)==null?void 0:W.estimated_investment)==null?void 0:G.toLocaleString())||"N/A"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("expectedIncome")}),d.jsxs("p",{className:"text-xl font-bold text-blue-700",children:["",((Z=(K=e==null?void 0:e.economic_projection)==null?void 0:K.expected_income)==null?void 0:Z.toLocaleString())||"N/A"]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("roi")}),d.jsx("p",{className:"text-xl font-bold text-purple-700",children:((X=e==null?void 0:e.economic_projection)==null?void 0:X.roi)||"N/A"})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("paybackPeriod")}),d.jsxs("p",{className:"text-xl font-bold text-yellow-700",children:[((ie=e==null?void 0:e.economic_projection)==null?void 0:ie.payback_period_months)||"N/A"," ",t("months")]})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("incomeBreakdown")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:t("cropIncome")}),d.jsx("ul",{className:"space-y-1",children:(V=e==null?void 0:e.economic_projection)!=null&&V.crop_income?Object.entries(e.economic_projection.crop_income).map(([Y,Ae])=>d.jsxs("li",{className:"flex justify-between text-sm",children:[d.jsxs("span",{children:[Y,":"]}),d.jsxs("span",{className:"font-medium",children:["",(Ae==null?void 0:Ae.toLocaleString())||"N/A"]})]},Y)):d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:t("treeIncome")}),d.jsx("ul",{className:"space-y-1",children:(ye=e==null?void 0:e.economic_projection)!=null&&ye.tree_income?Object.entries(e.economic_projection.tree_income).map(([Y,Ae])=>d.jsxs("li",{className:"flex justify-between text-sm",children:[d.jsxs("span",{children:[Y,":"]}),d.jsxs("span",{className:"font-medium",children:["",(Ae==null?void 0:Ae.toLocaleString())||"N/A"]})]},Y)):d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("sustainabilityMetrics")]}),d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("soilHealthIncrease"),":"]}),d.jsx("span",{className:"font-medium",children:((we=e==null?void 0:e.sustainability_metrics)==null?void 0:we.soil_health_increase)||"N/A"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("waterSavings"),":"]}),d.jsx("span",{className:"font-medium",children:((le=e==null?void 0:e.sustainability_metrics)==null?void 0:le.water_savings)||"N/A"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("carbonSequestration"),":"]}),d.jsx("span",{className:"font-medium",children:((De=e==null?void 0:e.sustainability_metrics)==null?void 0:De.carbon_sequestration_potential)||"N/A"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("biodiversityScore"),":"]}),d.jsx("span",{className:"font-medium",children:((se=e==null?void 0:e.sustainability_metrics)==null?void 0:se.biodiversity_score)||"N/A"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[t("climateResilience"),":"]}),d.jsx("span",{className:"font-medium",children:((_e=e==null?void 0:e.sustainability_metrics)==null?void 0:_e.climate_resilience)||"N/A"})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("nextSteps")]}),d.jsx("ol",{className:"list-decimal list-inside space-y-2",children:((it=e==null?void 0:e.next_steps)==null?void 0:it.map((Y,Ae)=>d.jsx("li",{className:"text-gray-700",children:Y},Ae)))||d.jsx("li",{className:"text-gray-700",children:t("loadingRecommendations")})})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[d.jsx("button",{onClick:o,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300",children:t("generateNewPlan")}),d.jsx("button",{onClick:()=>window.print(),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition duration-300",children:t("printPlan")})]})]}):d.jsx(m6,{onPlanGenerated:i})]})},y6=({predictionId:t,onClose:e})=>{const{t:n}=Ar(),[r,s]=y.useState({accuracy_rating:3,yield_actual:"",roi_actual:"",comments:"",would_recommend:!0}),[i,o]=y.useState(!1),[a,l]=y.useState(!1),u=f=>{const{name:m,value:v,type:g,checked:T}=f.target;s(S=>({...S,[m]:g==="checkbox"?T:v}))},h=async f=>{f.preventDefault(),o(!0);try{const m={...r,yield_actual:r.yield_actual?parseFloat(r.yield_actual):null,roi_actual:r.roi_actual?parseFloat(r.roi_actual):null,timestamp:new Date().toISOString()};await Wa.submitFeedback(t,m),l(!0),setTimeout(()=>{e()},2e3)}catch(m){console.error("Error submitting feedback:",m),alert(n("feedbackSubmissionError"))}finally{o(!1)}};return a?d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("h3",{className:"ml-2 text-green-800 font-medium",children:n("feedbackSubmitted")})]}),d.jsx("p",{className:"mt-1 text-green-700",children:n("thankYouForFeedback")})]}):d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:[" ",n("provideFeedback")]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:n("accuracyRating")}),d.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(f=>d.jsx("button",{type:"button",onClick:()=>s(m=>({...m,accuracy_rating:f})),className:`text-2xl ${r.accuracy_rating>=f?"text-yellow-400":"text-gray-300"}`,children:""},f)),d.jsxs("span",{className:"ml-2 text-gray-600",children:[r.accuracy_rating," ",n("outOf5")]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-gray-700 mb-2 font-medium",children:[n("actualYield")," (kg/acre)"]}),d.jsx("input",{type:"number",name:"yield_actual",value:r.yield_actual,onChange:u,placeholder:n("enterActualYield"),step:"0.1",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:n("actualROI")}),d.jsx("input",{type:"number",name:"roi_actual",value:r.roi_actual,onChange:u,placeholder:n("enterActualROI"),step:"0.1",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:n("additionalComments")}),d.jsx("textarea",{name:"comments",value:r.comments,onChange:u,placeholder:n("enterComments"),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"would_recommend",checked:r.would_recommend,onChange:u,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsx("label",{className:"ml-2 block text-gray-700",children:n("wouldRecommend")})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:i,className:`bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300 ${i?"opacity-75 cursor-not-allowed":""}`,children:i?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("submitting")]}):n("submitFeedback")}),d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition duration-300",children:n("cancel")})]})]})]})};class v6{constructor(){this.mapsCollection="land_layout_maps",this.mapStorageFolder="land-layout-maps"}async storeMapData(e){try{const n={...e,created_at:Oe.now(),updated_at:Oe.now()},r=await Jc(Zr(Jn,this.mapsCollection),n);return console.log("Map data stored with ID: ",r.id),r.id}catch(n){throw console.error("Error storing map data: ",n),n}}async storeMapFile(e,n){try{const r=M4(U4,`${this.mapStorageFolder}/${n}.html`);await N4(r,e,"raw");const s=await O4(r);return console.log("Map file stored at: ",s),s}catch(r){throw console.error("Error storing map file: ",r),r}}async storeMap(e,n){try{const s=await(await fetch(n)).text(),i=await this.storeMapData(e),o=await this.storeMapFile(s,i),a=Hp(Jn,this.mapsCollection,i);return await X0(a,{map_file_url:o,updated_at:Oe.now()}),{id:i,url:o}}catch(r){throw console.error("Error storing map: ",r),r}}async getMapData(e){try{const n=Qu(Zr(Jn,this.mapsCollection),xj("__name__","==",e)),r=await Yu(n);if(r.empty)return console.log("No map found with ID: ",e),null;const s=r.docs[0];return{id:s.id,...s.data()}}catch(n){throw console.error("Error retrieving map data: ",n),n}}async getRecentMaps(e=10){try{const n=Qu(Zr(Jn,this.mapsCollection),qp("created_at","desc"),Gp(e)),r=await Yu(n),s=[];return r.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(n){throw console.error("Error retrieving maps: ",n),n}}async updateMap(e,n){try{const r=Hp(Jn,this.mapsCollection,e);await X0(r,{...n,updated_at:Oe.now()}),console.log("Map updated with ID: ",e)}catch(r){throw console.error("Error updating map: ",r),r}}}const w6=new v6,_6={width:"100%",height:"400px"},dr={lat:20.5937,lng:78.9629},x6=[{lat:20.6,lng:78.95},{lat:20.61,lng:78.95},{lat:20.61,lng:78.97},{lat:20.6,lng:78.97}],b6=()=>{var q,re,ee,ae,U,W,G,K,Z,X,ie,V,ye,we,le,De,se,_e,it,Y,Ae,Re,cr,Cn,Rr,qe,nt,mn,Ds,Vn;const{t,i18n:e}=Ar(),[n,r]=y.useState(dr),[s,i]=y.useState(null),[o,a]=y.useState(null),[l,u]=y.useState(null),[h,f]=y.useState(null),[m,v]=y.useState(null),[g,T]=y.useState(null),[S,C]=y.useState("overview"),[_,I]=y.useState(!1),[k,N]=y.useState(null),[M,E]=y.useState(null);y.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(me=>{const ke={lat:me.coords.latitude,lng:me.coords.longitude};r(ke),b(ke.lat,ke.lng),x(ke.lat,ke.lng)},me=>{console.error("Error getting location:",me),b(dr.lat,dr.lng),x(dr.lat,dr.lng)}):(b(dr.lat,dr.lng),x(dr.lat,dr.lng))},[]);const b=async(me,ke)=>{try{const gt="3c5637f9f3e3220a6e53cc186c883512",Ft=(await Ue.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:me,lon:ke,units:"metric",appid:gt}})).data;i({temp:Ft.main.temp,humidity:Ft.main.humidity,description:Ft.weather[0].description,pressure:Ft.main.pressure,windSpeed:Ft.wind.speed})}catch(gt){console.error("Error fetching weather:",gt),i({temp:28,humidity:65,description:"Clear Sky",pressure:1013,windSpeed:5})}},x=async(me,ke)=>{try{const gt={location:{lat:me,lng:ke},land_area_acres:2.5,soil:{ph:6.8,organic_carbon:1.2,nitrogen:150,phosphorus:30,potassium:150},budget_inr:5e4},bt=await Wa.fetchRealTimePredictions(gt);T(bt),bt&&bt.prediction_id&&N(bt.prediction_id)}catch(gt){console.error("Error fetching real-time predictions:",gt),T({prediction_id:"mock-prediction-id",predictions:{yield_kg_per_acre:3e3,confidence:.85,roi:2.8,payback_period:18},recommendations:{best_crop:"Maize",planting_time:"June-July",irrigation_needs:"Moderate"},weather_data:{avg_temperature_c:28,avg_humidity:65,avg_rainfall_mm:980,solar_radiation:5.5},costs:{seeds_and_saplings:8e3,fertilizers:12e3,labor:15e3}})}};y.useEffect(()=>{try{a({pH:6.8,texture:"Loamy",organicCarbon:"1.2%",bulkDensity:"1.3 g/cm",nitrogen:"25 kg/ha",phosphorus:"15 kg/ha",potassium:"30 kg/ha"}),u({annual:"950 mm",seasonal:"Monsoon: 750 mm, Winter: 150 mm, Summer: 50 mm",soilWetness:"Moderate"}),f({category:"Medium",budget:"50,000 - 1,00,000",riskTolerance:"Moderate"}),v({cropRotation:[{season:"Kharif",crop:"Rice",reason:"High rainfall season"},{season:"Rabi",crop:"Wheat",reason:"Cooler temperatures"},{season:"Summer",crop:"Moong Dal",reason:"Drought-resistant legume"}],soilManagement:["Add organic compost to improve soil fertility","Practice crop rotation to maintain soil health","Use natural pest control methods"],irrigation:["Install drip irrigation for water efficiency","Collect rainwater during monsoon season","Schedule irrigation based on soil moisture levels"],economicForecast:{expectedYield:"Rice: 4 tons/ha, Wheat: 3.5 tons/ha",inputCost:"25,000/ha",expectedProfit:"45,000/ha"}})}catch(me){console.error("Error setting mock data:",me)}},[]);const A=async()=>{try{await CN(go),console.log("User logged out successfully")}catch(me){console.error("Logout error:",me)}},L=me=>{e.changeLanguage(me)},O=[{code:"en",label:"English"},{code:"hi",label:""},{code:"mr",label:""},{code:"te",label:""},{code:"kn",label:""}],R=async()=>{try{const me={center_lat:n.lat,center_lon:n.lng,land_area_acres:2.5,location:"Farmer Location",soil_data:{ph:o?o.pH:6.8,organic_carbon:o?parseFloat(o.organicCarbon):1.2,nitrogen:o?parseFloat(o.nitrogen):150,phosphorus:o?parseFloat(o.phosphorus):30,potassium:o?parseFloat(o.potassium):150,texture:o?o.texture:"Loam",drainage:"Moderate"},weather_data:{rainfall_mm:s?s.rainfall_mm:980,temperature_c:s?s.temp:28,humidity:s?s.humidity:65,solar_radiation:5.5},economic_data:{budget_inr:5e4,labor_availability:"Medium",input_cost_type:"Organic"}},ke=await Ue.post("/api/generate-land-layout-map",me);if(ke.data.success){console.log("Land layout map generated successfully");try{const bt={center_lat:me.center_lat,center_lon:me.center_lon,land_area_acres:me.land_area_acres,location:me.location,soil_data:me.soil_data,weather_data:me.weather_data,economic_data:me.economic_data,recommendation:ke.data.recommendation,created_at:new Date,user_id:go.currentUser?go.currentUser.uid:null},Ft=await w6.storeMap(bt,ke.data.map_file_path);E(Ft.id),console.log("Map stored in Firebase with ID:",Ft.id)}catch(bt){console.error("Error storing map in Firebase:",bt)}const gt=document.querySelector('iframe[title="AI Land Layout Map"]');gt&&(ke.data.map_url?gt.src=ke.data.map_url:gt.src=`/api/get-map/${encodeURIComponent(ke.data.map_file_path.split("/").pop())}`)}else console.error("Failed to generate land layout map:",ke.data.message)}catch(me){console.error("Error generating land layout map:",me)}};return d.jsxs("div",{className:"min-h-screen bg-green-50 p-4",children:[d.jsx("header",{className:"w-full max-w-6xl mx-auto mb-8",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 py-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-green-800",children:t("dashboard")}),d.jsx("p",{className:"text-green-600",children:t("aiDrivenAgriculturalAssistant")})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"flex flex-wrap gap-1",children:O.map(me=>d.jsx("button",{onClick:()=>L(me.code),className:`px-2 py-1 text-xs rounded ${e.language===me.code?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:me.label},me.code))}),d.jsx("button",{onClick:A,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300",children:"Logout"})]})]})}),d.jsx("div",{className:"w-full max-w-6xl mx-auto mb-6",children:d.jsxs("div",{className:"flex flex-wrap gap-2 bg-white rounded-xl shadow-md p-2",children:[d.jsx("button",{onClick:()=>C("overview"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="overview"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("overview")}),d.jsx("button",{onClick:()=>C("aiplanner"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="aiplanner"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("aiPlanner")}),d.jsx("button",{onClick:()=>C("agroforestry"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="agroforestry"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("agroforestry")}),d.jsx("button",{onClick:()=>C("soil"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="soil"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("soilAnalysis")}),d.jsx("button",{onClick:()=>C("weather"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="weather"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("weatherRainfall")}),d.jsx("button",{onClick:()=>C("map"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="map"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("farmMap")}),d.jsx("button",{onClick:()=>C("predictions"),className:`px-4 py-2 rounded-lg transition duration-300 ${S==="predictions"?"bg-green-600 text-white":"text-gray-600 hover:bg-green-100"}`,children:t("predictions")})]})}),d.jsxs("main",{className:"w-full max-w-6xl mx-auto",children:[S==="overview"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-sm",children:t("farmArea")}),d.jsx("p",{className:"text-xl font-semibold",children:"2.5 acres"})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4 4 0 003 15z"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-sm",children:t("currentWeather")}),d.jsx("p",{className:"text-xl font-semibold",children:s?`${s.temp}C`:"Loading..."})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg mr-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-sm",children:t("investmentCapacity")}),d.jsx("p",{className:"text-xl font-semibold",children:h?h.category:"Loading..."})]})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-sm",children:t("expectedProfit")}),d.jsx("p",{className:"text-xl font-semibold",children:m?"45,000/ha":"Loading..."})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:t("aiCropRecommendations")}),m?d.jsx("div",{className:"space-y-4",children:m.cropRotation.map((me,ke)=>d.jsxs("div",{className:"flex items-start border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[d.jsx("div",{className:"bg-green-100 text-green-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 mt-1 flex-shrink-0",children:ke+1}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-medium text-gray-800",children:[me.season,": ",me.crop]}),d.jsx("p",{className:"text-gray-600 text-sm",children:me.reason})]})]},ke))}):d.jsx("p",{className:"text-gray-500",children:t("loadingRecommendations")})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:t("quickActions")}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>C("aiplanner"),className:"w-full text-left p-3 rounded-lg bg-green-50 hover:bg-green-100 transition duration-300",children:[d.jsx("div",{className:"font-medium text-green-800",children:t("generateAIPlan")}),d.jsx("div",{className:"text-gray-600 text-sm",children:t("createLandUsePlan")})]}),d.jsxs("button",{onClick:()=>C("agroforestry"),className:"w-full text-left p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition duration-300",children:[d.jsx("div",{className:"font-medium text-blue-800",children:t("exploreAgroforestry")}),d.jsx("div",{className:"text-gray-600 text-sm",children:t("multiCroppingSystems")})]}),d.jsxs("button",{onClick:()=>C("predictions"),className:"w-full text-left p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition duration-300",children:[d.jsx("div",{className:"font-medium text-purple-800",children:t("viewPredictions")}),d.jsx("div",{className:"text-gray-600 text-sm",children:t("realTimeCropPredictions")})]})]})]})]})]}),S==="aiplanner"&&d.jsx(g6,{}),S==="agroforestry"&&d.jsx(h6,{}),S==="soil"&&d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t("soilAnalysisReport")}),o?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("soilProperties")}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("phLevel")}),d.jsx("span",{className:"font-medium",children:o.pH})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("texture")}),d.jsx("span",{className:"font-medium",children:o.texture})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("organicCarbon")}),d.jsx("span",{className:"font-medium",children:o.organicCarbon})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("bulkDensity")}),d.jsx("span",{className:"font-medium",children:o.bulkDensity})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("nutrientContent")}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("nitrogen")}),d.jsx("span",{className:"font-medium",children:o.nitrogen})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("phosphorus")}),d.jsx("span",{className:"font-medium",children:o.phosphorus})]}),d.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-2",children:[d.jsx("span",{className:"text-gray-600",children:t("potassium")}),d.jsx("span",{className:"font-medium",children:o.potassium})]})]})]}),d.jsxs("div",{className:"md:col-span-2 mt-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("aiSoilManagement")}),m?d.jsx("ul",{className:"space-y-2",children:m.soilManagement.map((me,ke)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{className:"text-gray-700",children:me})]},ke))}):d.jsx("p",{className:"text-gray-500",children:t("loadingRecommendations")})]})]}):d.jsx("p",{className:"text-gray-500",children:t("loadingSoilData")})]}),S==="weather"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t("currentWeatherConditions")}),s?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[s.temp,"C"]}),d.jsx("div",{className:"text-gray-600",children:t("temperature")})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[s.humidity,"%"]}),d.jsx("div",{className:"text-gray-600",children:t("humidity")})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[s.pressure," ",t("pressureUnit")]}),d.jsx("div",{className:"text-gray-600",children:t("pressure")})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[s.windSpeed," ",t("windSpeedUnit")]}),d.jsx("div",{className:"text-gray-600",children:t("windSpeed")})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-800 capitalize",children:t(s.description)||s.description}),d.jsx("div",{className:"text-gray-600",children:t("condition")})]})]}):d.jsx("p",{className:"text-gray-500",children:t("loadingWeatherData")})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t("rainfallAnalysis")}),l?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("annualRainfall")}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:l.annual}),d.jsx("p",{className:"text-gray-600",children:t("basedOnHistoricalData")})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("seasonalDistribution")}),d.jsx("p",{className:"text-gray-700",children:l.seasonal})]}),d.jsxs("div",{className:"md:col-span-2 mt-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t("soilWetnessIndex")}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:d.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:"60%"}})}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:t("dry")}),d.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.soilWetness}),d.jsx("span",{className:"text-sm text-gray-600",children:t("wet")})]})]})]}):d.jsx("p",{className:"text-gray-500",children:t("loadingRainfallData")})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t("aiIrrigationRecommendations")}),m?d.jsx("ul",{className:"space-y-3",children:m.irrigation.map((me,ke)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{className:"text-gray-700",children:me})]},ke))}):d.jsx("p",{className:"text-gray-500",children:t("loadingRecommendations")})]})]}),S==="map"&&d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:t("farmMap")}),d.jsx(e1,{googleMapsApiKey:void 0,children:d.jsxs($V,{mapContainerStyle:_6,center:n,zoom:16,children:[d.jsx(a1,{paths:x6,options:{fillColor:"#34D399",fillOpacity:.3,strokeColor:"#059669",strokeWeight:2}}),d.jsx(t1,{position:n})]})}),d.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-green-800 mb-2",children:t("farmArea")}),d.jsx("p",{className:"text-2xl font-bold",children:"2.5 acres"})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:t("gpsCoordinates")}),d.jsxs("p",{className:"text-lg font-bold",children:[n.lat.toFixed(4),", ",n.lng.toFixed(4)]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:t("boundaryStatus")}),d.jsx("p",{className:"text-lg font-bold text-green-600",children:t("verified")})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:t("aiGeneratedLandLayout")}),d.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[d.jsx("iframe",{src:"/api/latest-map",title:"AI Land Layout Map",className:"w-full h-96 rounded-lg border-0",sandbox:"allow-scripts allow-same-origin"}),d.jsx("div",{className:"mt-4 flex justify-center",children:d.jsxs("button",{onClick:R,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition duration-300 flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),t("refreshLandLayout")]})}),d.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4 inline-block",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("landUseLegend")}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 bg-green-500 mr-2"}),d.jsxs("span",{className:"text-sm",children:[t("mainCropArea")," (60%)"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 bg-yellow-500 mr-2"}),d.jsxs("span",{className:"text-sm",children:[t("intercropArea")," (25%)"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 bg-green-800 mr-2"}),d.jsxs("span",{className:"text-sm",children:[t("treesArea")," (15%)"]})]})]})]}),M&&d.jsxs("div",{className:"mt-4 text-center text-sm text-green-600",children:[t("mapStoredInFirebase")," ID: ",M]})]})]})]}),S==="predictions"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:[" ",t("realTimePredictions")]}),g?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("recommendedCrops")]}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs("div",{className:"bg-green-100 rounded-lg p-4 text-center flex-1 min-w-[200px]",children:[d.jsx("div",{className:"text-2xl font-bold text-green-800",children:((q=g.recommendations)==null?void 0:q.best_crop)||"Maize"}),d.jsx("div",{className:"text-gray-600",children:t("bestCropForConditions")})]}),d.jsxs("div",{className:"bg-blue-100 rounded-lg p-4 text-center flex-1 min-w-[200px]",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-800",children:t("cowpea")}),d.jsx("div",{className:"text-gray-600",children:t("nitrogenFixingCrop")})]}),d.jsxs("div",{className:"bg-purple-100 rounded-lg p-4 text-center flex-1 min-w-[200px]",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-800",children:t("turmeric")}),d.jsx("div",{className:"text-gray-600",children:t("highValueCrop")})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("predictedYield")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-3xl font-bold text-blue-800",children:[((ee=(re=g.predictions)==null?void 0:re.yield_kg_per_acre)==null?void 0:ee.toLocaleString())||"3,000"," kg/acre"]}),d.jsx("div",{className:"text-gray-600",children:t("estimatedYieldPerAcre")}),d.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[t("confidence"),": ",(ae=g.predictions)!=null&&ae.confidence?(g.predictions.confidence*100).toFixed(0):"85","%"]})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-green-800",children:"1,20,000"}),d.jsx("div",{className:"text-gray-600",children:t("estimatedRevenue")}),d.jsx("div",{className:"mt-2 text-sm text-gray-500",children:t("basedOnCurrentPrices")})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-yellow-800",children:((U=g.predictions)==null?void 0:U.yield_kg_per_acre)>3e3?t("high"):((W=g.predictions)==null?void 0:W.yield_kg_per_acre)>2e3?t("medium"):t("low")||t("medium")}),d.jsx("div",{className:"text-gray-600",children:t("yieldPotential")}),d.jsx("div",{className:"mt-2 text-sm text-gray-500",children:t("basedOnEnvironmentalConditions")})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("roiAndCostBenefit")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-800",children:[((K=(G=g.predictions)==null?void 0:G.roi)==null?void 0:K.toFixed(1))||"2.8","x"]}),d.jsx("div",{className:"text-gray-600",children:t("returnOnInvestment")})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-800",children:"50,000"}),d.jsx("div",{className:"text-gray-600",children:t("estimatedInvestment")})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-800",children:"1,20,000"}),d.jsx("div",{className:"text-gray-600",children:t("estimatedIncome")})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-yellow-800",children:[((Z=g.predictions)==null?void 0:Z.payback_period)||"18"," ",t("months")]}),d.jsx("div",{className:"text-gray-600",children:t("paybackPeriod")})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("costBreakdown")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[d.jsx("div",{className:"font-medium text-gray-800",children:t("seedsAndSaplings")}),d.jsxs("div",{className:"text-green-700 font-bold",children:[t("currencySymbol"),((ie=(X=g.costs)==null?void 0:X.seeds_and_saplings)==null?void 0:ie.toLocaleString())||"8,000"]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[d.jsx("div",{className:"font-medium text-gray-800",children:t("fertilizers")}),d.jsxs("div",{className:"text-green-700 font-bold",children:[t("currencySymbol"),((ye=(V=g.costs)==null?void 0:V.fertilizers)==null?void 0:ye.toLocaleString())||"12,000"]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[d.jsx("div",{className:"font-medium text-gray-800",children:t("labor")}),d.jsxs("div",{className:"text-green-700 font-bold",children:[t("currencySymbol"),((le=(we=g.costs)==null?void 0:we.labor)==null?void 0:le.toLocaleString())||"15,000"]})]})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("currentWeatherConditions")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[d.jsxs("div",{className:"text-xl font-bold text-blue-800",children:[((De=g.weather_data)==null?void 0:De.avg_temperature_c)||"28","C"]}),d.jsx("div",{className:"text-gray-600",children:t("temperature")})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[d.jsxs("div",{className:"text-xl font-bold text-green-800",children:[((se=g.weather_data)==null?void 0:se.avg_humidity)||"65","%"]}),d.jsx("div",{className:"text-gray-600",children:t("humidity")})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[d.jsxs("div",{className:"text-xl font-bold text-yellow-800",children:[((it=(_e=g.weather_data)==null?void 0:_e.avg_rainfall_mm)==null?void 0:it.toLocaleString())||"980"," mm"]}),d.jsx("div",{className:"text-gray-600",children:t("annualRainfall")})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[d.jsxs("div",{className:"text-xl font-bold text-purple-800",children:[((Y=g.weather_data)==null?void 0:Y.solar_radiation)||"5.5"," kWh/m"]}),d.jsx("div",{className:"text-gray-600",children:t("solarRadiation")})]})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:[" ",t("recommendations")]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("plantingRecommendations")}),d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("plantingTime"),": ",((Ae=g.recommendations)==null?void 0:Ae.planting_time)||"June-July"]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("irrigationNeeds"),": ",((Re=g.recommendations)==null?void 0:Re.irrigation_needs)||"Moderate"]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("soilPreparation"),": ",t("addOrganicCompost")]})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:t("harvestingTips")}),d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("monitorCropHealth"),": ",t("checkPestsDiseases")]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("optimalHarvestTime"),": ",t("harvestWhenMature")]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsxs("span",{className:"text-gray-700",children:[t("postHarvestHandling"),": ",t("dryGrainsProperly")]})]})]})]})]})]})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:t("loadingPredictions")})]})]})}),g&&d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[" ",t("realTimePredictions")]}),k&&d.jsx("button",{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition duration-300",children:t("provideFeedback")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("predictedYield")}),d.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[((cr=g.predictions)==null?void 0:cr.yield_kg_per_acre)||"N/A"," kg/acre"]}),d.jsxs("p",{className:"text-sm text-gray-500",children:[t("confidence"),": ",(Cn=g.predictions)!=null&&Cn.confidence?(g.predictions.confidence*100).toFixed(0):"N/A","%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("predictedROI")}),d.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(Rr=g.predictions)!=null&&Rr.roi?`${g.predictions.roi}x`:"N/A"}),d.jsx("p",{className:"text-sm text-gray-500",children:t("returnOnInvestment")})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[d.jsx("p",{className:"text-gray-600",children:t("recommendedCrop")}),d.jsx("p",{className:"text-2xl font-bold text-purple-700",children:((qe=g.recommendations)==null?void 0:qe.best_crop)||"N/A"}),d.jsx("p",{className:"text-sm text-gray-500",children:((nt=g.recommendations)==null?void 0:nt.planting_time)||"N/A"})]})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[d.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t("recommendations")}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[d.jsxs("li",{children:[t("bestCrop"),": ",((mn=g.recommendations)==null?void 0:mn.best_crop)||"N/A"]}),d.jsxs("li",{children:[t("plantingTime"),": ",((Ds=g.recommendations)==null?void 0:Ds.planting_time)||"N/A"]}),d.jsxs("li",{children:[t("irrigationNeeds"),": ",((Vn=g.recommendations)==null?void 0:Vn.irrigation_needs)||"N/A"]})]})]})]}),_&&k&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center rounded-t-xl",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t("provideFeedback")}),d.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-6",children:d.jsx(y6,{predictionId:k,onClose:()=>I(!1)})})]})})]})]})};function E6(){const{t,i18n:e}=Ar(),[n,r]=y.useState(null),[s,i]=y.useState(!0),[o,a]=y.useState("login"),[l,u]=y.useState(!0);y.useEffect(()=>{const v=TN(go,g=>{r(g),i(!1)});return()=>v()},[]);const h=()=>a("login"),f=()=>a("signup"),m=()=>u(!1);return s?d.jsx("div",{className:"min-h-screen bg-green-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?d.jsx(b6,{}):l?d.jsx(Q4,{onLanguageSelected:m}):d.jsxs("div",{className:"min-h-screen bg-green-50 flex flex-col items-center justify-center p-4",children:[d.jsxs("header",{className:"w-full max-w-4xl mb-8 text-center",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-800 mb-2",children:"Sasya-Mitra (-)"}),d.jsx("p",{className:"text-lg text-green-600",children:t("tagline")}),d.jsxs("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg text-blue-800 text-sm",children:[d.jsxs("p",{children:[" ",t("datasetsIntegrated")]}),d.jsx("p",{className:"mt-1",children:t("aiModelsPersonalized")})]})]}),d.jsxs("main",{className:"w-full max-w-2xl",children:[o==="login"?d.jsx(Y4,{onSwitchToSignup:f}):d.jsx(J4,{onSwitchToLogin:h}),d.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 md:p-8 mt-6",children:d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:t("features")}),d.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-gray-600",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("multilingualSupport")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("aiPlanning")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("secureData")})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{children:t("blockchain")})]})]})]})})]}),d.jsx("footer",{className:"mt-8 text-center text-gray-500 text-sm",children:d.jsx("p",{children:t("footer")})})]})}const{slice:S6,forEach:T6}=[];function C6(t){return T6.call(S6.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function I6(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const zx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,P6=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!zx.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!zx.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Hx={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=P6(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var A6={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Hx.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Hx.create(n,t,r,s,i)}},R6={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(n=o[a].substring(l+1))}}return n}},k6={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(e){const a=o.split("&");for(let l=0;l<a.length;l++){const u=a[l].indexOf("=");u>0&&a[l].substring(0,u)===e&&(r=a[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(s=a[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let $i=null;const Wx=()=>{if($i!==null)return $i;try{if($i=typeof window<"u"&&window.localStorage!==null,!$i)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$i=!1}return $i};var L6={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Wx())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Wx()&&window.localStorage.setItem(n,t)}};let ji=null;const qx=()=>{if(ji!==null)return ji;try{if(ji=typeof window<"u"&&window.sessionStorage!==null,!ji)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ji=!1}return ji};var N6={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&qx())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&qx()&&window.sessionStorage.setItem(n,t)}},O6={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},M6={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},D6={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},$6={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let h1=!1;try{document.cookie,h1=!0}catch{}const f1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];h1||f1.splice(1,1);const j6=()=>({order:f1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class p1{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=C6(n,this.options||{},j6()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(A6),this.addDetector(R6),this.addDetector(L6),this.addDetector(N6),this.addDetector(O6),this.addDetector(M6),this.addDetector(D6),this.addDetector($6),this.addDetector(k6)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!I6(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}p1.type="languageDetector";const F6="Sasya-Mitra (-)",V6="AI-Powered Natural Farming and Agroforestry Design Assistant",U6="Key Features",B6="Multilingual Support (English, Hindi, Marathi, Telugu, Kannada)",z6="AI-Based Land-Use Planning",H6="Secure Data Storage on Firebase",W6="Blockchain Verification (Optional)",q6="Login",G6="Sign Up",K6="Email",Q6="Password",Y6="Confirm Password",J6="Forgot Password?",Z6="Login",X6="Logging in...",eU="Creating account...",tU="Invalid email address",nU="User account has been disabled",rU="No user found with this email",sU="Incorrect password",iU="Failed to login. Please try again.",oU="Passwords don't match",aU="Password should be at least 6 characters",lU="Email already in use",cU="Password is too weak",uU="Failed to create account. Please try again.",dU="Dashboard",hU="AI-Driven Agricultural Assistant",fU="Your agricultural datasets have been successfully integrated!",pU="AI models will use your data for personalized recommendations.",mU="Cowpea",gU="Turmeric",yU="High",vU="Medium",wU="Low",_U="",xU="Add organic compost before planting",bU="Regularly check for pests and diseases",EU="Harvest when grains are fully mature",SU="Dry grains properly to prevent spoilage",TU="hPa",CU="m/s",IU="Rain",PU="Thunderstorm",AU="Snow",RU="Mist",kU="Don't have an account?",LU="Sign up here",NU="Already have an account?",OU="Login here",MU="Name",DU="Sign Up",$U="Sasya-Mitra - Empowering Small and Marginal Farmers with AI",jU="Overview",FU="AI Planner",VU="Agroforestry",UU="Soil Analysis",BU="Weather & Rainfall",zU="Farm Map",HU="Predictions",WU="AI-Generated Land Layout",qU="Refresh Land Layout",GU="Generate Land Layout",KU="Map visualization service is currently not available. Click the button below to generate a new map.",QU="Land Use Legend",YU="Main Crop Area",JU="Intercrop Area",ZU="Trees Area",XU="Farm Area",e5="Current Weather",t5="Investment Capacity",n5="Expected Profit",r5="AI-Powered Crop Recommendations",s5="Loading recommendations...",i5="Quick Actions",o5="Generate AI Plan",a5="Create AI land-use plan",l5="Explore Agroforestry",c5="Multi-cropping systems",u5="View Historical Data",d5="Access past recommendations",h5="View Predictions",f5="Real-time crop predictions",p5="Soil Analysis Report",m5="Soil Properties",g5="Nutrient Content",y5="AI Soil Management Recommendations",v5="Loading soil data...",w5="Current Weather Conditions",_5="Temperature",x5="Humidity",b5="Pressure",E5="Wind Speed",S5="Condition",T5="Loading weather data...",C5="Rainfall Analysis",I5="Annual Rainfall",P5="Based on historical data for your region",A5="Seasonal Distribution",R5="Soil Wetness Index",k5="Dry",L5="Wet",N5="Loading rainfall data...",O5="AI Irrigation Recommendations",M5="GPS Coordinates",D5="Boundary Status",$5="Verified",j5="Recent Activity",F5="New AI Plan Generated",V5="Soil Data Updated",U5="Farm Profile Created",B5="Farmer Input Form",z5="Location",H5="Use GPS",W5="Enter Village",q5="Latitude",G5="Longitude",K5="Enter Latitude",Q5="Enter Longitude",Y5="Use Current Location",J5="Village Name",Z5="Enter Village Name",X5="Note: Village location will be approximated using geocoding services",eB="Farm Details",tB="Land Area (in Acres)",nB="Enter land area in acres",rB="Budget (in Rupees)",sB="Enter your budget in rupees",iB="Preferences",oB="Crop Preference",aB="Optional",lB="Enter your preferred crop (if any)",cB="Note: Leave blank if you want the AI to recommend the best crop for your conditions",uB="Please fill in all required fields",dB="Please enter valid GPS coordinates",hB="Please enter valid numbers",fB="Failed to generate plan. Please try again.",pB="Generating Plan...",mB="Generate Agroforestry Plan",gB="Reset",yB="Farm Inputs Summary",vB="Budget",wB="AI-Driven Agroforestry Planner",_B="Farm Location",xB="Region",bB="Elevation",EB="Soil Summary",SB="pH Level",TB="Organic Carbon",CB="Nitrogen",IB="CEC",PB="Texture",AB="Drainage",RB="Climate Summary",kB="Average Rainfall",LB="Average Temperature",NB="Solar Radiation",OB="Soil Improvement Tips",MB="Recommended Agroforestry System",DB="Trees",$B="Main Crops",jB="Intercrops",FB="Herbs",VB="Layout Plan",UB="Tree Spacing",BB="Crop Spacing",zB="Economic Projection",HB="Estimated Investment",WB="Expected Income",qB="ROI",GB="Payback Period",KB="months",QB="Income Breakdown",YB="Crop Income",JB="Tree Income",ZB="Sustainability Metrics",XB="Soil Health Increase",e9="Water Savings",t9="Carbon Sequestration",n9="Biodiversity Score",r9="Climate Resilience",s9="Next Steps",i9="Generate New Plan",o9="Print Plan",a9="Agroforestry & Multi-Cropping Planner",l9="Farm Size",c9="Small (0.5-2 acres)",u9="Medium (2.5 acres)",d9="Large (5+ acres)",h9="Soil Type",f9="Sandy",p9="Loamy",m9="Clay",g9="Silty",y9="Rainfall",v9="Low Rainfall",w9="Moderate Rainfall",_9="High Rainfall",x9="Agroforestry Layer Plan",b9="Canopy Trees",E9="Understory Trees",S9="Shrubs",T9="Ground Crops",C9="Multi-Cropping Combinations",I9="Benefits",P9="Layout",A9="Season",R9="Benefits of Agroforestry & Multi-Cropping",k9="Improves soil fertility and reduces erosion",L9="Provides shade and microclimate regulation",N9="Produces diverse fruits, nuts, timber, and crops",O9="Enhances biodiversity and beneficial insects",M9="Reduces pest risks and increases yield stability",D9="Ensures stable income through diversification",$9="Mango Trees",j9="Fruit production, shade, income diversification",F9="Guava Trees",V9="Fruit production, early returns",U9="Leucaena",B9="Nitrogen fixation, fodder, biomass",z9="Gliricidia",H9="Nitrogen fixation, live fencing, fodder",W9="Interplant with trees",q9="High value spice, shade tolerant",G9="Ginger",K9="High value spice, moisture retention",Q9="Black Gram",Y9="Row planting",J9="Nitrogen fixation, short duration",Z9="Pigeon Pea",X9="Between tree rows",ez="Protein source, drought tolerant",tz="Tamarind Trees",nz="Fruit production, long-term investment",rz="Jackfruit Trees",sz="High value fruit, climate resilience",iz="Acacia Nilotica",oz="Nitrogen fixation, gum production",az="Casuarina",lz="Windbreak, timber, nitrogen fixation",cz="Coffee",uz="Shaded areas under trees",dz="High value cash crop, shade requirement",hz="Pepper",fz="Supported on tree trunks",pz="Climbing vine, high value spice",mz="Maize",gz="Staple food crop, good ground cover",yz="Protein source, nitrogen fixation",vz="Teak Trees",wz="High value timber, long-term investment",_z="Neem Trees",xz="Timber, medicinal, pest control",bz="Albizia",Ez="Nitrogen fixation, timber, shade",Sz="Sesbania",Tz="Green manure, fodder, nitrogen fixation",Cz="Medicinal Plants",Iz="Dedicated plots",Pz="Diverse income, traditional medicine",Az="Aromatic Herbs",Rz="Border plantings",kz="Essential oils, pest repellent",Lz="Sorghum",Nz="Drought tolerant, fodder and grain",Oz="Groundnut",Mz="Oilseed crop, nitrogen fixation",Dz="Maize + Cowpea",$z="Complementary growth, nitrogen fixation, diversified income",jz="Alternate Rows",Fz="Kharif",Vz="Wheat + Chickpea",Uz="Different root zones, nitrogen fixation, cool season combination",Bz="Strip Intercropping",zz="Rabi",Hz="Sorghum + Pigeon Pea",Wz="Drought tolerance, complementary height, protein-carbohydrate",qz="Row Intercropping",Gz="Mustard + Lentil",Kz="Oilseed-pulse combination, different nutrient requirements",Qz="Mixed Intercropping",Yz="Cotton + Soybean",Jz="Fiber-protein, pest management, mechanization compatible",Zz="Barley + Field Pea",Xz="Cereal-pulse, early harvest, soil improvement",e8="Alternate Row",t8="Real-time Predictions",n8="Recommended Crops",r8="Best crop for current conditions",s8="Nitrogen fixing crop",i8="High value crop",o8="Predicted Yield",a8="Estimated yield per acre",l8="Confidence",c8="Estimated Revenue",u8="Based on current market prices",d8="Yield Potential",h8="Based on environmental conditions",f8="ROI and Cost-Benefit",p8="Return on Investment",m8="Estimated Income",g8="Cost Breakdown",y8="Seeds and Saplings",v8="Fertilizers",w8="Labor",_8="Planting Recommendations",x8="Planting Time",b8="Irrigation Needs",E8="Soil Preparation",S8="Harvesting Tips",T8="Monitor Crop Health",C8="Optimal Harvest Time",I8="Post-Harvest Handling",P8="Loading predictions...",A8="Welcome to Sasya-Mitra",R8="Login with Google",k8="Full Name",L8="Phone Number",N8="Create Account",O8="Logout",M8="Resources",D8="Profile",$8="Language",j8="English",F8="",V8="",U8="",B8="",z8="Weather",H8="Market Prices",W8="AI Recommendations",q8="Phosphorus",G8="Potassium",K8="Recommendation",Q8="Predicted ROI",Y8="Recommended Crop",J8="Recommendations",Z8="Best Crop",X8="Provide Feedback",eH="Accuracy Rating",tH="out of 5",nH="Actual Yield",rH="Enter actual yield in kg/acre",sH="Actual ROI",iH="Enter actual ROI",oH="Additional Comments",aH="Enter any additional comments",lH="I would recommend this prediction to other farmers",cH="Submit Feedback",uH="Cancel",dH="Submitting...",hH="Feedback Submitted!",fH="Thank you for helping us improve our predictions.",pH="Error submitting feedback. Please try again.",mH="SasyaYojana",gH="Choose Your Language",yH="Experience AI-powered smart farming",vH="Sustainable",wH="AI Powered",_H="Multi-lingual",xH="Empowering farmers with intelligent solutions for a sustainable future ",bH={appTitle:F6,tagline:V6,features:U6,multilingualSupport:B6,aiPlanning:z6,secureData:H6,blockchain:W6,login:q6,signup:G6,email:K6,password:Q6,confirmPassword:Y6,forgotPassword:J6,loginButton:Z6,loggingIn:X6,creatingAccount:eU,invalidEmail:tU,userDisabled:nU,userNotFound:rU,wrongPassword:sU,loginFailed:iU,passwordsDontMatch:oU,passwordTooShort:aU,emailInUse:lU,weakPassword:cU,signupFailed:uU,dashboard:dU,aiDrivenAgriculturalAssistant:hU,datasetsIntegrated:fU,aiModelsPersonalized:pU,cowpea:mU,turmeric:gU,high:yU,medium:vU,low:wU,currencySymbol:_U,addOrganicCompost:xU,checkPestsDiseases:bU,harvestWhenMature:EU,dryGrainsProperly:SU,pressureUnit:TU,windSpeedUnit:CU,"clear sky":"Clear Sky","few clouds":"Few Clouds","scattered clouds":"Scattered Clouds","broken clouds":"Broken Clouds","shower rain":"Shower Rain",rain:IU,thunderstorm:PU,snow:AU,mist:RU,noAccount:kU,signupHere:LU,alreadyHaveAccount:NU,loginHere:OU,name:MU,signupButton:DU,footer:$U,overview:jU,aiPlanner:FU,agroforestry:VU,soilAnalysis:UU,weatherRainfall:BU,farmMap:zU,predictions:HU,aiGeneratedLandLayout:WU,refreshLandLayout:qU,generateLandLayout:GU,mapVisualizationNotAvailable:KU,landUseLegend:QU,mainCropArea:YU,intercropArea:JU,treesArea:ZU,farmArea:XU,currentWeather:e5,investmentCapacity:t5,expectedProfit:n5,aiCropRecommendations:r5,loadingRecommendations:s5,quickActions:i5,generateAIPlan:o5,createLandUsePlan:a5,exploreAgroforestry:l5,multiCroppingSystems:c5,viewHistoricalData:u5,accessPastRecommendations:d5,viewPredictions:h5,realTimeCropPredictions:f5,soilAnalysisReport:p5,soilProperties:m5,nutrientContent:g5,aiSoilManagement:y5,loadingSoilData:v5,currentWeatherConditions:w5,temperature:_5,humidity:x5,pressure:b5,windSpeed:E5,condition:S5,loadingWeatherData:T5,rainfallAnalysis:C5,annualRainfall:I5,basedOnHistoricalData:P5,seasonalDistribution:A5,soilWetnessIndex:R5,dry:k5,wet:L5,loadingRainfallData:N5,aiIrrigationRecommendations:O5,gpsCoordinates:M5,boundaryStatus:D5,verified:$5,recentActivity:j5,newAIPlanGenerated:F5,soilDataUpdated:V5,farmProfileCreated:U5,farmerInputForm:B5,location:z5,useGPS:H5,enterVillage:W5,latitude:q5,longitude:G5,enterLatitude:K5,enterLongitude:Q5,useCurrentLocation:Y5,villageName:J5,enterVillageName:Z5,noteVillageLocation:X5,farmDetails:eB,landAreaInAcres:tB,enterLandArea:nB,budgetInRupees:rB,enterBudget:sB,preferences:iB,cropPreference:oB,optional:aB,enterCropPreference:lB,cropPreferenceNote:cB,pleaseFillRequiredFields:uB,pleaseEnterValidCoordinates:dB,pleaseEnterValidNumbers:hB,failedToGeneratePlan:fB,generatingPlan:pB,generateAgroforestryPlan:mB,reset:gB,farmInputsSummary:yB,budget:vB,aiDrivenAgroforestryPlanner:wB,farmLocation:_B,region:xB,elevation:bB,soilSummary:EB,phLevel:SB,organicCarbon:TB,nitrogen:CB,cec:IB,texture:PB,drainage:AB,climateSummary:RB,averageRainfall:kB,averageTemperature:LB,solarRadiation:NB,soilImprovementTips:OB,recommendedAgroforestrySystem:MB,trees:DB,mainCrops:$B,intercrops:jB,herbs:FB,layoutPlan:VB,treeSpacing:UB,cropSpacing:BB,economicProjection:zB,estimatedInvestment:HB,expectedIncome:WB,roi:qB,paybackPeriod:GB,months:KB,incomeBreakdown:QB,cropIncome:YB,treeIncome:JB,sustainabilityMetrics:ZB,soilHealthIncrease:XB,waterSavings:e9,carbonSequestration:t9,biodiversityScore:n9,climateResilience:r9,nextSteps:s9,generateNewPlan:i9,printPlan:o9,agroforestryMultiCroppingPlanner:a9,farmSize:l9,small052Acres:c9,medium25Acres:u9,large5Acres:d9,soilType:h9,sandy:f9,loamy:p9,clay:m9,silty:g9,rainfall:y9,lowRainfall:v9,moderateRainfall:w9,highRainfall:_9,agroforestryLayerPlan:x9,canopyTrees:b9,understoryTrees:E9,shrubs:S9,groundCrops:T9,multiCroppingCombinations:C9,benefits:I9,layout:P9,season:A9,benefitsOfAgroforestryMultiCropping:R9,improvesSoilFertilityReducesErosion:k9,providesShadeMicroclimateRegulation:L9,producesDiverseFruitsNutsTimberCrops:N9,enhancesBiodiversityBeneficialInsects:O9,reducesPestRisksIncreasesYieldStability:M9,ensuresStableIncomeThroughDiversification:D9,mangoTrees:$9,fruitProductionShadeIncome:j9,guavaTrees:F9,fruitProductionEarlyReturns:V9,leucaena:U9,nitrogenFixationFodderBiomass:B9,gliricidia:z9,nitrogenFixationLiveFencingFodder:H9,interplantWithTrees:W9,highValueSpiceShadeTolerant:q9,ginger:G9,highValueSpiceMoistureRetention:K9,blackGram:Q9,rowPlanting:Y9,nitrogenFixationShortDuration:J9,pigeonPea:Z9,betweenTreeRows:X9,proteinSourceDroughtTolerant:ez,tamarindTrees:tz,fruitProductionLongTermInvestment:nz,jackfruitTrees:rz,highValueFruitClimateResilience:sz,acaciaNilotica:iz,nitrogenFixationGumProduction:oz,casuarina:az,windbreakTimberNitrogenFixation:lz,coffee:cz,shadedAreasUnderTrees:uz,highValueCashCropShadeRequirement:dz,pepper:hz,supportedOnTreeTrunks:fz,climbingVineHighValueSpice:pz,maize:mz,stapleFoodCropGoodGroundCover:gz,proteinSourceNitrogenFixation:yz,teakTrees:vz,highValueTimberLongTermInvestment:wz,neemTrees:_z,timberMedicinalPestControl:xz,albizia:bz,nitrogenFixationTimberShade:Ez,sesbania:Sz,greenManureFodderNitrogenFixation:Tz,medicinalPlants:Cz,dedicatedPlots:Iz,diverseIncomeTraditionalMedicine:Pz,aromaticHerbs:Az,borderPlantings:Rz,essentialOilsPestRepellent:kz,sorghum:Lz,droughtTolerantFodderAndGrain:Nz,groundnut:Oz,oilseedCropNitrogenFixation:Mz,maizeCowpea:Dz,complementaryGrowthNitrogenFixationDiversifiedIncome:$z,alternateRows:jz,kharif:Fz,wheatChickpea:Vz,differentRootZonesNitrogenFixationCoolSeasonCombination:Uz,stripIntercropping:Bz,rabi:zz,sorghumPigeonPea:Hz,droughtToleranceComplementaryHeightProteinCarbohydrate:Wz,rowIntercropping:qz,mustardLentil:Gz,oilseedPulseCombinationDifferentNutrientRequirements:Kz,mixedIntercropping:Qz,cottonSoybean:Yz,fiberProteinPestManagementMechanizationCompatible:Jz,barleyFieldPea:Zz,cerealPulseEarlyHarvestSoilImprovement:Xz,alternateRow:e8,realTimePredictions:t8,recommendedCrops:n8,bestCropForConditions:r8,nitrogenFixingCrop:s8,highValueCrop:i8,predictedYield:o8,estimatedYieldPerAcre:a8,confidence:l8,estimatedRevenue:c8,basedOnCurrentPrices:u8,yieldPotential:d8,basedOnEnvironmentalConditions:h8,roiAndCostBenefit:f8,returnOnInvestment:p8,estimatedIncome:m8,costBreakdown:g8,seedsAndSaplings:y8,fertilizers:v8,labor:w8,plantingRecommendations:_8,plantingTime:x8,irrigationNeeds:b8,soilPreparation:E8,harvestingTips:S8,monitorCropHealth:T8,optimalHarvestTime:C8,postHarvestHandling:I8,loadingPredictions:P8,welcomeToSasyaMitra:A8,loginWithGoogle:R8,fullName:k8,phoneNumber:L8,createAccount:N8,logout:O8,resources:M8,profile:D8,language:$8,english:j8,hindi:F8,marathi:V8,telugu:U8,kannada:B8,weather:z8,marketPrices:H8,aiRecommendations:W8,phosphorus:q8,potassium:G8,recommendation:K8,predictedROI:Q8,recommendedCrop:Y8,recommendations:J8,bestCrop:Z8,provideFeedback:X8,accuracyRating:eH,outOf5:tH,actualYield:nH,enterActualYield:rH,actualROI:sH,enterActualROI:iH,additionalComments:oH,enterComments:aH,wouldRecommend:lH,submitFeedback:cH,cancel:uH,submitting:dH,feedbackSubmitted:hH,thankYouForFeedback:fH,feedbackSubmissionError:pH,appName:mH,selectLanguage:gH,experienceAIforSmartFarming:yH,sustainableFarming:vH,poweredByAI:wH,multilingual:_H,empoweringFarmers:xH},EH="- (Sasya-Mitra)",SH="-       ",TH=" ",CH="  (, , , , )",IH="- - ",PH="Firebase    ",AH="  ()",RH="  ",kH="  ",LH="",NH="",OH="   ",MH="  ?",DH="",$H="   ...",jH="    ...",FH="  ",VH="      ",UH="       ",BH=" ",zH="       ",HH="   ",WH="    6    ",qH="     ",GH="   ",KH="       ",QH="",YH="AI-   ",JH="        !",ZH="AI          ",XH="",e7="",t7="",n7="",r7="",s7="",i7="     ",o7="         ",a7="       ",l7="          ",c7="",u7="/",d7="",h7="",f7="",p7="",m7="   ?",g7="   ",y7="     ?",v7="  ",w7="",_7=" ",x7=" ",b7=" ",E7="  ",S7=" ",T7="- -          ",C7="",I7=" ",P7=" ",A7="  ",R7="  ",k7="",L7="-  ",N7="   ",O7="  ",M7="                     ",D7="  ",$7="  ",j7=" ",F7=" ",V7=" ",U7=" ",B7=" ",z7=" ",H7="-  ",W7="    ...",q7=" ",G7="  ",K7=" -  ",Q7="    ",Y7="- ",J7="  ",Z7="     ",X7=" ",eW="   ",tW="  ",nW="  ",rW="  ",sW="   ",iW="     ...",oW="   ",aW="",lW="",cW="",uW="  ",dW="",hW="     ...",fW=" ",pW=" ",mW="       ",gW=" ",yW="  ",vW="",wW="",_W="     ...",xW="  ",bW=" ",EW=" ",SW="",TW="  ",CW="    ",IW="    ",PW="   ",AW="  ",RW="",kW="   ",LW="  ",NW="",OW="",MW="  ",DW="  ",$W="    ",jW="  ",FW="    ",VW=":            ",UW="  ",BW="  ( )",zW="     ",HW=" ( )",WW="     ",qW="",GW="  ",KW="",QW="     (  )",YW=":                    ",JW="    ",ZW="     ",XW="    ",eq="       ",tq="    ...",nq="   ",rq=" ",sq="    ",iq="",oq="-   ",aq="  ",lq="",cq="",uq="  ",dq=" ",hq=" ",fq="",pq="",mq="",gq="",yq="",vq="",wq=" ",_q=" ",xq=" ",bq=" ",Eq="  ",Sq="   ",Tq="",Cq=" ",Iq="",Pq=" ",Aq=" ",Rq="  ",kq="  ",Lq=" ",Nq=" ",Oq=" ",Mq="",Dq=" ",$q="",jq=" ",Fq="  ",Vq="  ",Uq=" ",Bq="    ",zq="  ",Hq=" ",Wq="  ",qq="  ",Gq=" ",Kq="  ",Qq="  ",Yq="   - ",Jq="  ",Zq=" (0.5-2 )",Xq=" (2.5 )",eG=" (5+ )",tG="  ",nG="",rG="",sG="",iG="",oG="",aG=" ",lG=" ",cG=" ",uG="   ",dG=" ",hG=" ",fG="",pG=" ",mG="- ",gG="",yG="",vG="",wG="   -  ",_G="            ",xG="      ",bG=" , ,      ",EG="    -    ",SG="-            ",TG="        ",CG="  ",IG=" , ,  ",PG="  ",AG=" ,  ",RG="",kG=" , ,  ",LG="",NG=" ,  , ",OG="   -",MG="  ,  ",DG="",$G="  ,  ",jG=" ",FG=" ",VG=" ,  ",UG="",BG="    ",zG=" ,  ",HG="  ",WG=" ,  ",qG="  ",GG="  ,   ",KG="",QG=" ,  ",YG="",JG="  , ,  ",ZG="",XG="    ",eK="   ,  ",tK=" ",nK="    ",rK="  ,   ",sK="",iK="  ,   ",oK=" ,  ",aK="  ",lK="  ,  ",cK="  ",uK=", ,  ",dK="",hK=" , , ",fK="",pK=" , ,  ",mK=" ",gK=" ",yK=" ,  ",vK=" -",wK=" ",_K=" ,  ",xK="",bK=" ,   ",EK="",SK=" ,  ",TK=" + ",CK=" ,  ,  ",IK=" ",PK="",AK=" + ",RK="  ,  ,   ",kK=" ",LK="",NK=" + ",OK=" ,  , -",MK=" ",DK=" + ",$K="- ,    ",jK=" ",FK=" + ",VK="-,  ,  ",UK=" +  ",BK="-,  ,  ",zK=" ",HK="  ",WK=" ",qK="      ",GK="  ",KK="  ",QK=" ",YK="   ",JK="",ZK=" ",XK="     ",eQ=" ",tQ="    ",nQ="  -",rQ="  ",sQ=" ",iQ=" ",oQ="  ",aQ="",lQ="",cQ=" ",uQ="  ",dQ="  ",hQ=" ",fQ=" ",pQ="    ",mQ="  ",gQ="   ",yQ="    ...",vQ=" ",wQ=" ",_Q="  ",xQ=" ",bQ=" ",EQ="5  ",SQ=" ",TQ="/     ",CQ=" ",IQ="   ",PQ=" ",AQ="    ",RQ="        ",kQ="  ",LQ=" ",NQ="    ...",OQ="   !",MQ="          ",DQ="        ",$Q="",jQ="  ",FQ="-     ",VQ="",UQ=" ",BQ="",zQ="            ",HQ="",WQ="",qQ="",GQ="English",KQ="",QQ="",YQ="",JQ="",ZQ="",XQ="  ",eY=" ",tY="",nY="  ",rY="-    ",sY="Google    ",iY="",oY={appTitle:EH,tagline:SH,features:TH,multilingualSupport:CH,aiPlanning:IH,secureData:PH,blockchain:AH,login:RH,signup:kH,email:LH,password:NH,confirmPassword:OH,forgotPassword:MH,loginButton:DH,loggingIn:$H,creatingAccount:jH,invalidEmail:FH,userDisabled:VH,userNotFound:UH,wrongPassword:BH,loginFailed:zH,passwordsDontMatch:HH,passwordTooShort:WH,emailInUse:qH,weakPassword:GH,signupFailed:KH,dashboard:QH,aiDrivenAgriculturalAssistant:YH,datasetsIntegrated:JH,aiModelsPersonalized:ZH,cowpea:XH,turmeric:e7,high:t7,medium:n7,low:r7,currencySymbol:s7,addOrganicCompost:i7,checkPestsDiseases:o7,harvestWhenMature:a7,dryGrainsProperly:l7,pressureUnit:c7,windSpeedUnit:u7,"clear sky":" ","few clouds":" ","scattered clouds":"  ","broken clouds":"  ","shower rain":"  ",rain:d7,thunderstorm:h7,snow:f7,mist:p7,noAccount:m7,signupHere:g7,alreadyHaveAccount:y7,loginHere:v7,name:w7,fullName:_7,phoneNumber:x7,createAccount:b7,signupButton:E7,logout:S7,footer:T7,overview:C7,aiPlanner:I7,agroforestry:P7,weatherRainfall:A7,farmMap:R7,predictions:k7,aiGeneratedLandLayout:L7,refreshLandLayout:N7,generateLandLayout:O7,mapVisualizationNotAvailable:M7,landUseLegend:D7,mainCropArea:$7,intercropArea:j7,treesArea:F7,farmArea:V7,currentWeather:U7,investmentCapacity:B7,expectedProfit:z7,aiCropRecommendations:H7,loadingRecommendations:W7,quickActions:q7,generateAIPlan:G7,createLandUsePlan:K7,exploreAgroforestry:Q7,multiCroppingSystems:Y7,viewHistoricalData:J7,accessPastRecommendations:Z7,viewPredictions:X7,realTimeCropPredictions:eW,soilAnalysisReport:tW,soilProperties:nW,nutrientContent:rW,aiSoilManagement:sW,loadingSoilData:iW,currentWeatherConditions:oW,temperature:aW,humidity:lW,pressure:cW,windSpeed:uW,condition:dW,loadingWeatherData:hW,rainfallAnalysis:fW,annualRainfall:pW,basedOnHistoricalData:mW,seasonalDistribution:gW,soilWetnessIndex:yW,dry:vW,wet:wW,loadingRainfallData:_W,aiIrrigationRecommendations:xW,gpsCoordinates:bW,boundaryStatus:EW,verified:SW,recentActivity:TW,newAIPlanGenerated:CW,soilDataUpdated:IW,farmProfileCreated:PW,farmerInputForm:AW,location:RW,useGPS:kW,enterVillage:LW,latitude:NW,longitude:OW,enterLatitude:MW,enterLongitude:DW,useCurrentLocation:$W,villageName:jW,enterVillageName:FW,noteVillageLocation:VW,farmDetails:UW,landAreaInAcres:BW,enterLandArea:zW,budgetInRupees:HW,enterBudget:WW,preferences:qW,cropPreference:GW,optional:KW,enterCropPreference:QW,cropPreferenceNote:YW,pleaseFillRequiredFields:JW,pleaseEnterValidCoordinates:ZW,pleaseEnterValidNumbers:XW,failedToGeneratePlan:eq,generatingPlan:tq,generateAgroforestryPlan:nq,reset:rq,farmInputsSummary:sq,budget:iq,aiDrivenAgroforestryPlanner:oq,farmLocation:aq,region:lq,elevation:cq,soilSummary:uq,phLevel:dq,organicCarbon:hq,nitrogen:fq,phosphorus:pq,potassium:mq,cec:gq,texture:yq,drainage:vq,climateSummary:wq,averageRainfall:_q,averageTemperature:xq,solarRadiation:bq,soilImprovementTips:Eq,recommendedAgroforestrySystem:Sq,trees:Tq,mainCrops:Cq,intercrops:Iq,herbs:Pq,layoutPlan:Aq,treeSpacing:Rq,cropSpacing:kq,economicProjection:Lq,estimatedInvestment:Nq,expectedIncome:Oq,roi:Mq,paybackPeriod:Dq,months:$q,incomeBreakdown:jq,cropIncome:Fq,treeIncome:Vq,sustainabilityMetrics:Uq,soilHealthIncrease:Bq,waterSavings:zq,carbonSequestration:Hq,biodiversityScore:Wq,climateResilience:qq,nextSteps:Gq,generateNewPlan:Kq,printPlan:Qq,agroforestryMultiCroppingPlanner:Yq,farmSize:Jq,small052Acres:Zq,medium25Acres:Xq,large5Acres:eG,soilType:tG,sandy:nG,loamy:rG,clay:sG,silty:iG,rainfall:oG,lowRainfall:aG,moderateRainfall:lG,highRainfall:cG,agroforestryLayerPlan:uG,canopyTrees:dG,understoryTrees:hG,shrubs:fG,groundCrops:pG,multiCroppingCombinations:mG,benefits:gG,layout:yG,season:vG,benefitsOfAgroforestryMultiCropping:wG,improvesSoilFertilityReducesErosion:_G,providesShadeMicroclimateRegulation:xG,producesDiverseFruitsNutsTimberCrops:bG,enhancesBiodiversityBeneficialInsects:EG,reducesPestRisksIncreasesYieldStability:SG,ensuresStableIncomeThroughDiversification:TG,mangoTrees:CG,fruitProductionShadeIncome:IG,guavaTrees:PG,fruitProductionEarlyReturns:AG,leucaena:RG,nitrogenFixationFodderBiomass:kG,gliricidia:LG,nitrogenFixationLiveFencingFodder:NG,interplantWithTrees:OG,highValueSpiceShadeTolerant:MG,ginger:DG,highValueSpiceMoistureRetention:$G,blackGram:jG,rowPlanting:FG,nitrogenFixationShortDuration:VG,pigeonPea:UG,betweenTreeRows:BG,proteinSourceDroughtTolerant:zG,tamarindTrees:HG,fruitProductionLongTermInvestment:WG,jackfruitTrees:qG,highValueFruitClimateResilience:GG,acaciaNilotica:KG,nitrogenFixationGumProduction:QG,casuarina:YG,windbreakTimberNitrogenFixation:JG,coffee:ZG,shadedAreasUnderTrees:XG,highValueCashCropShadeRequirement:eK,pepper:tK,supportedOnTreeTrunks:nK,climbingVineHighValueSpice:rK,maize:sK,stapleFoodCropGoodGroundCover:iK,proteinSourceNitrogenFixation:oK,teakTrees:aK,highValueTimberLongTermInvestment:lK,neemTrees:cK,timberMedicinalPestControl:uK,albizia:dK,nitrogenFixationTimberShade:hK,sesbania:fK,greenManureFodderNitrogenFixation:pK,medicinalPlants:mK,dedicatedPlots:gK,diverseIncomeTraditionalMedicine:yK,aromaticHerbs:vK,borderPlantings:wK,essentialOilsPestRepellent:_K,sorghum:xK,droughtTolerantFodderAndGrain:bK,groundnut:EK,oilseedCropNitrogenFixation:SK,maizeCowpea:TK,complementaryGrowthNitrogenFixationDiversifiedIncome:CK,alternateRows:IK,kharif:PK,wheatChickpea:AK,differentRootZonesNitrogenFixationCoolSeasonCombination:RK,stripIntercropping:kK,rabi:LK,sorghumPigeonPea:NK,droughtToleranceComplementaryHeightProteinCarbohydrate:OK,rowIntercropping:MK,mustardLentil:DK,oilseedPulseCombinationDifferentNutrientRequirements:$K,mixedIntercropping:jK,cottonSoybean:FK,fiberProteinPestManagementMechanizationCompatible:VK,barleyFieldPea:UK,cerealPulseEarlyHarvestSoilImprovement:BK,alternateRow:zK,realTimePredictions:HK,recommendedCrops:WK,bestCropForConditions:qK,nitrogenFixingCrop:GK,highValueCrop:KK,predictedYield:QK,estimatedYieldPerAcre:YK,confidence:JK,estimatedRevenue:ZK,basedOnCurrentPrices:XK,yieldPotential:eQ,basedOnEnvironmentalConditions:tQ,roiAndCostBenefit:nQ,returnOnInvestment:rQ,estimatedIncome:sQ,costBreakdown:iQ,seedsAndSaplings:oQ,fertilizers:aQ,labor:lQ,plantingRecommendations:cQ,plantingTime:uQ,irrigationNeeds:dQ,soilPreparation:hQ,harvestingTips:fQ,monitorCropHealth:pQ,optimalHarvestTime:mQ,postHarvestHandling:gQ,loadingPredictions:yQ,predictedROI:vQ,recommendedCrop:wQ,bestCrop:_Q,provideFeedback:xQ,accuracyRating:bQ,outOf5:EQ,actualYield:SQ,enterActualYield:TQ,actualROI:CQ,enterActualROI:IQ,additionalComments:PQ,enterComments:AQ,wouldRecommend:RQ,submitFeedback:kQ,cancel:LQ,submitting:NQ,feedbackSubmitted:OQ,thankYouForFeedback:MQ,feedbackSubmissionError:DQ,appName:$Q,selectLanguage:jQ,experienceAIforSmartFarming:FQ,sustainableFarming:VQ,poweredByAI:UQ,multilingual:BQ,empoweringFarmers:zQ,resources:HQ,profile:WQ,language:qQ,english:GQ,hindi:KQ,marathi:QQ,telugu:YQ,kannada:JQ,weather:ZQ,marketPrices:XQ,aiRecommendations:eY,recommendation:tY,soilAnalysis:nY,welcomeToSasyaMitra:rY,loginWithGoogle:sY,recommendations:iY},aY="-",lY="AI-      ",cY=" ",uY="  (, , , , )",dY="AI-   ",hY="   ",fY="  ()",pY="  ",mY="  ",gY="",yY="",vY="  ",wY=" ?",_Y="  ",xY="  ...",bY="   ...",EY="  ",SY="     ",TY="     ",CY=" ",IY="  .    .",PY="  ",AY="  6  ",RY="   ",kY="   ",LY="   .    .",NY="- ",OY="AI-   ",MY="       !",DY="AI      .",$Y="",jY="",FY="",VY="",UY="",BY="",zY="   ",HY="     ",WY="   ",qY="    ",GY=" ?",KY="   ",QY="  ?",YY="   ",JY="",ZY="  ",XY="- - AI       ",eJ="",tJ="AI ",nJ="",rJ=" ",sJ="  ",iJ=" ",oJ=" ",aJ=" ",lJ=" ",cJ=" ",uJ="AI-  ",dJ="   ...",hJ=" ",fJ="AI   ",pJ="AI     ",mJ="  ",gJ="- ",yJ="  ",vJ="   ",wJ="  ",_J=" ",xJ="  ",bJ="AI   ",EJ="    ...",SJ="  ",TJ="",CJ="",IJ="",PJ=" ",AJ="",RJ="    ...",kJ=" ",LJ=" ",NJ="    ",OJ=" ",MJ="  ",DJ="",$J="",jJ="    ...",FJ="AI  ",VJ=" ",UJ=" ",BJ="",zJ=" ",HJ=" AI   ",WJ="   ",qJ="   ",GJ="  ",KJ="",QJ=" ",YJ="  ",JJ="",ZJ="",XJ="  ",eZ="  ",tZ="  ",nZ=" ",rZ="   ",sZ=":      ",iZ=" ",oZ="  ()",aZ="    ",lZ=" ()",cZ="    ",uZ="",dZ=" ",hZ="",fZ="    ()",pZ="         ",mZ="    ",gZ="    ",yZ="    ",vZ="   .    .",wZ="   ...",_Z="   ",xZ=" ",bZ="  ",EZ="",SZ="AI-  ",TZ=" ",CZ="",IZ="",PZ=" ",AZ=" ",RZ=" ",kZ=" ()",LZ="  ",NZ="",OZ="",MZ=" ",DZ=" ",$Z=" ",jZ=" ",FZ="  ",VZ="  ",UZ="",BZ=" ",zZ="-",HZ="",WZ=" ",qZ=" ",GZ=" ",KZ=" ",QZ=" ",YZ=" ",JZ=" ",ZZ=" ",XZ="",eX=" ",tX=" ",nX=" ",rX=" ",sX="  ",iX=" ",oX="  ",aX=" ",lX=" ",cX=" ",uX="   ",dX=" ",hX="  - ",fX=" ",pX=" (0.5-2 )",mX=" (2.5 )",gX=" (5+ )",yX=" ",vX="",wX="",_X="",xX="",bX="",EX=" ",SX=" ",TX=" ",CX="  ",IX=" ",PX=" ",AX="",RX=" ",kX="- ",LX="",NX="",OX="",MX="  - ",DX="      ",$X="      ",jX=" , ,     ",FX="    ",VX="-       ",UX="    ",BX=" ",zX=" , ,  ",HX=" ",WX=" ,  ",qX="",GX=" , , ",KX="",QX=" ,  , ",YX=" -",JX="  ,  ",ZX="",XX="  ,  ",eee=" ",tee=" ",nee=" ,  ",ree=" ",see=" ",iee=" ,  ",oee=" ",aee=" ,  ",lee=" ",cee="  ,  ",uee="",dee=" ,  ",hee="",fee=" , ,  ",pee="",mee="  ",gee="   ,  ",yee=" ",vee="  ",wee=" ,   ",_ee="",xee="  ,   ",bee=" ,  ",Eee=" ",See="  ,  ",Tee=" ",Cee=", , - ",Iee="",Pee=" , , ",Aee="",Ree=" , ,  ",kee=" ",Lee=" ",Nee=" ,  ",Oee=" ",Mee=" ",Dee=" , - ",$ee="",jee=" ,   ",Fee="",Vee=" ,  ",Uee=" + ",Bee=" ,  ,  ",zee=" ",Hee="",Wee=" + ",qee="  ,  ,   ",Gee=" -",Kee="",Qee=" +  ",Yee=" ,  , -",Jee=" -",Zee=" + ",Xee="- ,    ",ete=" -",tte=" + ",nte="-, - ,  ",rte=" +  ",ste="-,  ,  ",ite=" ",ote="  ",ate="AI-    ",lte="",cte="AI ",ute="",dte="    ",hte="",fte="",pte="/",mte="",gte="",yte="",vte="",wte={appTitle:aY,tagline:lY,features:cY,multilingualSupport:uY,aiPlanning:dY,secureData:hY,blockchain:fY,login:pY,signup:mY,email:gY,password:yY,confirmPassword:vY,forgotPassword:wY,loginButton:_Y,loggingIn:xY,creatingAccount:bY,invalidEmail:EY,userDisabled:SY,userNotFound:TY,wrongPassword:CY,loginFailed:IY,passwordsDontMatch:PY,passwordTooShort:AY,emailInUse:RY,weakPassword:kY,signupFailed:LY,dashboard:NY,aiDrivenAgriculturalAssistant:OY,datasetsIntegrated:MY,aiModelsPersonalized:DY,cowpea:$Y,turmeric:jY,high:FY,medium:VY,low:UY,currencySymbol:BY,addOrganicCompost:zY,checkPestsDiseases:HY,harvestWhenMature:WY,dryGrainsProperly:qY,noAccount:GY,signupHere:KY,alreadyHaveAccount:QY,loginHere:YY,name:JY,signupButton:ZY,footer:XY,overview:eJ,aiPlanner:tJ,agroforestry:nJ,soilAnalysis:rJ,weatherRainfall:sJ,farmMap:iJ,farmArea:oJ,currentWeather:aJ,investmentCapacity:lJ,expectedProfit:cJ,aiCropRecommendations:uJ,loadingRecommendations:dJ,quickActions:hJ,generateAIPlan:fJ,createLandUsePlan:pJ,exploreAgroforestry:mJ,multiCroppingSystems:gJ,viewHistoricalData:yJ,accessPastRecommendations:vJ,soilAnalysisReport:wJ,soilProperties:_J,nutrientContent:xJ,aiSoilManagement:bJ,loadingSoilData:EJ,currentWeatherConditions:SJ,temperature:TJ,humidity:CJ,pressure:IJ,windSpeed:PJ,condition:AJ,loadingWeatherData:RJ,rainfallAnalysis:kJ,annualRainfall:LJ,basedOnHistoricalData:NJ,seasonalDistribution:OJ,soilWetnessIndex:MJ,dry:DJ,wet:$J,loadingRainfallData:jJ,aiIrrigationRecommendations:FJ,gpsCoordinates:VJ,boundaryStatus:UJ,verified:BJ,recentActivity:zJ,newAIPlanGenerated:HJ,soilDataUpdated:WJ,farmProfileCreated:qJ,farmerInputForm:GJ,location:KJ,useGPS:QJ,enterVillage:YJ,latitude:JJ,longitude:ZJ,enterLatitude:XJ,enterLongitude:eZ,useCurrentLocation:tZ,villageName:nZ,enterVillageName:rZ,noteVillageLocation:sZ,farmDetails:iZ,landAreaInAcres:oZ,enterLandArea:aZ,budgetInRupees:lZ,enterBudget:cZ,preferences:uZ,cropPreference:dZ,optional:hZ,enterCropPreference:fZ,cropPreferenceNote:pZ,pleaseFillRequiredFields:mZ,pleaseEnterValidCoordinates:gZ,pleaseEnterValidNumbers:yZ,failedToGeneratePlan:vZ,generatingPlan:wZ,generateAgroforestryPlan:_Z,reset:xZ,farmInputsSummary:bZ,budget:EZ,aiDrivenAgroforestryPlanner:SZ,farmLocation:TZ,region:CZ,elevation:IZ,soilSummary:PZ,phLevel:AZ,organicCarbon:RZ,nitrogen:kZ,cec:LZ,texture:NZ,drainage:OZ,climateSummary:MZ,averageRainfall:DZ,averageTemperature:$Z,solarRadiation:jZ,soilImprovementTips:FZ,recommendedAgroforestrySystem:VZ,trees:UZ,mainCrops:BZ,intercrops:zZ,herbs:HZ,layoutPlan:WZ,treeSpacing:qZ,cropSpacing:GZ,economicProjection:KZ,estimatedInvestment:QZ,expectedIncome:YZ,roi:JZ,paybackPeriod:ZZ,months:XZ,incomeBreakdown:eX,cropIncome:tX,treeIncome:nX,sustainabilityMetrics:rX,soilHealthIncrease:sX,waterSavings:iX,carbonSequestration:oX,biodiversityScore:aX,climateResilience:lX,nextSteps:cX,generateNewPlan:uX,printPlan:dX,agroforestryMultiCroppingPlanner:hX,farmSize:fX,small052Acres:pX,medium25Acres:mX,large5Acres:gX,soilType:yX,sandy:vX,loamy:wX,clay:_X,silty:xX,rainfall:bX,lowRainfall:EX,moderateRainfall:SX,highRainfall:TX,agroforestryLayerPlan:CX,canopyTrees:IX,understoryTrees:PX,shrubs:AX,groundCrops:RX,multiCroppingCombinations:kX,benefits:LX,layout:NX,season:OX,benefitsOfAgroforestryMultiCropping:MX,improvesSoilFertilityReducesErosion:DX,providesShadeMicroclimateRegulation:$X,producesDiverseFruitsNutsTimberCrops:jX,enhancesBiodiversityBeneficialInsects:FX,reducesPestRisksIncreasesYieldStability:VX,ensuresStableIncomeThroughDiversification:UX,mangoTrees:BX,fruitProductionShadeIncome:zX,guavaTrees:HX,fruitProductionEarlyReturns:WX,leucaena:qX,nitrogenFixationFodderBiomass:GX,gliricidia:KX,nitrogenFixationLiveFencingFodder:QX,interplantWithTrees:YX,highValueSpiceShadeTolerant:JX,ginger:ZX,highValueSpiceMoistureRetention:XX,blackGram:eee,rowPlanting:tee,nitrogenFixationShortDuration:nee,pigeonPea:ree,betweenTreeRows:see,proteinSourceDroughtTolerant:iee,tamarindTrees:oee,fruitProductionLongTermInvestment:aee,jackfruitTrees:lee,highValueFruitClimateResilience:cee,acaciaNilotica:uee,nitrogenFixationGumProduction:dee,casuarina:hee,windbreakTimberNitrogenFixation:fee,coffee:pee,shadedAreasUnderTrees:mee,highValueCashCropShadeRequirement:gee,pepper:yee,supportedOnTreeTrunks:vee,climbingVineHighValueSpice:wee,maize:_ee,stapleFoodCropGoodGroundCover:xee,proteinSourceNitrogenFixation:bee,teakTrees:Eee,highValueTimberLongTermInvestment:See,neemTrees:Tee,timberMedicinalPestControl:Cee,albizia:Iee,nitrogenFixationTimberShade:Pee,sesbania:Aee,greenManureFodderNitrogenFixation:Ree,medicinalPlants:kee,dedicatedPlots:Lee,diverseIncomeTraditionalMedicine:Nee,aromaticHerbs:Oee,borderPlantings:Mee,essentialOilsPestRepellent:Dee,sorghum:$ee,droughtTolerantFodderAndGrain:jee,groundnut:Fee,oilseedCropNitrogenFixation:Vee,maizeCowpea:Uee,complementaryGrowthNitrogenFixationDiversifiedIncome:Bee,alternateRows:zee,kharif:Hee,wheatChickpea:Wee,differentRootZonesNitrogenFixationCoolSeasonCombination:qee,stripIntercropping:Gee,rabi:Kee,sorghumPigeonPea:Qee,droughtToleranceComplementaryHeightProteinCarbohydrate:Yee,rowIntercropping:Jee,mustardLentil:Zee,oilseedPulseCombinationDifferentNutrientRequirements:Xee,mixedIntercropping:ete,cottonSoybean:tte,fiberProteinPestManagementMechanizationCompatible:nte,barleyFieldPea:rte,cerealPulseEarlyHarvestSoilImprovement:ste,alternateRow:ite,selectLanguage:ote,experienceAIforSmartFarming:ate,sustainableFarming:lte,poweredByAI:cte,multilingual:ute,empoweringFarmers:dte,appName:hte,pressureUnit:fte,windSpeedUnit:pte,"clear sky":" ","few clouds":" ","scattered clouds":" ","broken clouds":" ","shower rain":" ",rain:mte,thunderstorm:gte,snow:yte,mist:vte},_te="-",xte="AI-      ",bte=" ",Ete="  (, , , , )",Ste="AI- - ",Tte="   ",Cte="  ()",Ite=" ",Pte="  ",Ate="",Rte="",kte=" ",Lte=" ?",Nte=" ",Ote=" ...",Mte=" ...",Dte="  ",$te="   ",jte="   ",Fte=" ",Vte="  .   .",Ute="  ",Bte="  6  ",zte="   ",Hte="   ",Wte="  .   .",qte="- ",Gte="AI-   ",Kte="    !",Qte="AI       .",Yte="",Jte="",Zte="",Xte="",ene="",tne="",nne="    ",rne="     ",sne="     ",ine="    ",one=" ?",ane="   ",lne="  ?",cne="  ",une="",dne="  ",hne="- - AI     ",fne="",pne="AI ",mne="",gne=" ",yne=" & ",vne=" ",wne=" ",_ne=" ",xne=" ",bne=" ",Ene="AI-  ",Sne=" ...",Tne=" ",Cne="AI  ",Ine="AI -  ",Pne=" ",Ane="- ",Rne="  ",kne="   ",Lne="  ",Nne=" ",One=" ",Mne="AI   ",Dne="  ...",$ne="  ",jne="",Fne="",Vne="",Une=" ",Bne="",zne="  ...",Hne=" ",Wne=" ",qne="     ",Gne=" ",Kne="  ",Qne="",Yne="",Jne="  ...",Zne="AI  ",Xne=" ",ere=" ",tre="",nre=" ",rre=" AI   ",sre="  ",ire="  ",ore="  ",are="",lre=" ",cre="  ",ure="",dre="",hre="  ",fre="  ",pre="  ",mre=" ",gre="   ",yre=":      ",vre=" ",wre="  ()",_re="    ",xre=" ()",bre="    ",Ere="",Sre=" ",Tre="",Cre="    ()",Ire="     ",Pre="    ",Are="     ",Rre="     ",kre="  .   .",Lre=" ...",Nre="  ",Ore=" ",Mre="  ",Dre="",$re="AI-  ",jre=" ",Fre="",Vre="",Ure=" ",Bre="pH ",zre=" ",Hre=" (N)",Wre="  ",qre="",Gre="",Kre=" ",Qre=" ",Yre=" ",Jre=" ",Zre="  ",Xre="   ",ese="",tse=" ",nse="",rse="",sse=" ",ise=" ",ose=" ",ase=" ",lse="  ",cse=" ",use="  ",dse=" ",hse="",fse=" ",pse=" ",mse=" ",gse=" ",yse="  ",vse=" ",wse="  ",_se=" ",xse=" ",bse=" ",Ese="  ",Sse=" ",Tse=" & - ",Cse=" ",Ise=" (0.5-2 )",Pse=" (2.5 )",Ase=" (5+ )",Rse=" ",kse="",Lse="",Nse="",Ose="",Mse="",Dse=" ",$se=" ",jse=" ",Fse="  ",Vse=" ",Use=" ",Bse="",zse=" ",Hse="- ",Wse="",qse="",Gse="",Kse=" & -  ",Qse="     ",Yse="     ",Jse=" , ,     ",Zse="    ",Xse="      ",eie="     ",tie=" ",nie=" , ,  ",rie=" ",sie=" ,  ",iie="",oie=" , , ",aie="",lie=" ,  , ",cie=" ",uie="   ,  ",die="",hie="   ,  ",fie="",pie=" ",mie=" ,  ",gie=" ",yie="  ",vie=" ,   ",wie=" ",_ie=" ,  ",xie=" ",bie="   ,  ",Eie=" ",Sie=" ,  ",Tie="",Cie=", ,  ",Iie="",Pie="   ",Aie="    ,  ",Rie="",kie="  ",Lie=" ,    ",Nie="",Oie="  ,   ",Mie=" ,  ",Die=" ",$ie="   ,  ",jie=" ",Fie=", ,  ",Vie="",Uie=" , , ",Bie="",zie=" , ,  ",Hie=" ",Wie=" ",qie=" ,  ",Gie=" ",Kie=" ",Qie=" ,  ",Yie="",Jie="  ,   ",Zie="",Xie="  ,  ",eoe=" + ",toe=" ,  ,  ",noe=" ",roe="",soe=" + ",ioe="  ,  ,   ",ooe=" ",aoe="",loe=" +  ",coe="  ,  , -",uoe=" ",doe=" +  ",hoe=" - ,   ",foe=" ",poe=" + ",moe="-,  ,  ",goe=" +  ",yoe="-,  ,  ",voe=" ",woe="  ",_oe="AI-   ",xoe="",boe="AI ",Eoe="",Soe="   ",Toe="",Coe="",Ioe="/",Poe="",Aoe="  ",Roe="",koe="",Loe={appTitle:_te,tagline:xte,features:bte,multilingualSupport:Ete,aiPlanning:Ste,secureData:Tte,blockchain:Cte,login:Ite,signup:Pte,email:Ate,password:Rte,confirmPassword:kte,forgotPassword:Lte,loginButton:Nte,loggingIn:Ote,creatingAccount:Mte,invalidEmail:Dte,userDisabled:$te,userNotFound:jte,wrongPassword:Fte,loginFailed:Vte,passwordsDontMatch:Ute,passwordTooShort:Bte,emailInUse:zte,weakPassword:Hte,signupFailed:Wte,dashboard:qte,aiDrivenAgriculturalAssistant:Gte,datasetsIntegrated:Kte,aiModelsPersonalized:Qte,cowpea:Yte,turmeric:Jte,high:Zte,medium:Xte,low:ene,currencySymbol:tne,addOrganicCompost:nne,checkPestsDiseases:rne,harvestWhenMature:sne,dryGrainsProperly:ine,noAccount:one,signupHere:ane,alreadyHaveAccount:lne,loginHere:cne,name:une,signupButton:dne,footer:hne,overview:fne,aiPlanner:pne,agroforestry:mne,soilAnalysis:gne,weatherRainfall:yne,farmMap:vne,farmArea:wne,currentWeather:_ne,investmentCapacity:xne,expectedProfit:bne,aiCropRecommendations:Ene,loadingRecommendations:Sne,quickActions:Tne,generateAIPlan:Cne,createLandUsePlan:Ine,exploreAgroforestry:Pne,multiCroppingSystems:Ane,viewHistoricalData:Rne,accessPastRecommendations:kne,soilAnalysisReport:Lne,soilProperties:Nne,nutrientContent:One,aiSoilManagement:Mne,loadingSoilData:Dne,currentWeatherConditions:$ne,temperature:jne,humidity:Fne,pressure:Vne,windSpeed:Une,condition:Bne,loadingWeatherData:zne,rainfallAnalysis:Hne,annualRainfall:Wne,basedOnHistoricalData:qne,seasonalDistribution:Gne,soilWetnessIndex:Kne,dry:Qne,wet:Yne,loadingRainfallData:Jne,aiIrrigationRecommendations:Zne,gpsCoordinates:Xne,boundaryStatus:ere,verified:tre,recentActivity:nre,newAIPlanGenerated:rre,soilDataUpdated:sre,farmProfileCreated:ire,farmerInputForm:ore,location:are,useGPS:lre,enterVillage:cre,latitude:ure,longitude:dre,enterLatitude:hre,enterLongitude:fre,useCurrentLocation:pre,villageName:mre,enterVillageName:gre,noteVillageLocation:yre,farmDetails:vre,landAreaInAcres:wre,enterLandArea:_re,budgetInRupees:xre,enterBudget:bre,preferences:Ere,cropPreference:Sre,optional:Tre,enterCropPreference:Cre,cropPreferenceNote:Ire,pleaseFillRequiredFields:Pre,pleaseEnterValidCoordinates:Are,pleaseEnterValidNumbers:Rre,failedToGeneratePlan:kre,generatingPlan:Lre,generateAgroforestryPlan:Nre,reset:Ore,farmInputsSummary:Mre,budget:Dre,aiDrivenAgroforestryPlanner:$re,farmLocation:jre,region:Fre,elevation:Vre,soilSummary:Ure,phLevel:Bre,organicCarbon:zre,nitrogen:Hre,cec:Wre,texture:qre,drainage:Gre,climateSummary:Kre,averageRainfall:Qre,averageTemperature:Yre,solarRadiation:Jre,soilImprovementTips:Zre,recommendedAgroforestrySystem:Xre,trees:ese,mainCrops:tse,intercrops:nse,herbs:rse,layoutPlan:sse,treeSpacing:ise,cropSpacing:ose,economicProjection:ase,estimatedInvestment:lse,expectedIncome:cse,roi:use,paybackPeriod:dse,months:hse,incomeBreakdown:fse,cropIncome:pse,treeIncome:mse,sustainabilityMetrics:gse,soilHealthIncrease:yse,waterSavings:vse,carbonSequestration:wse,biodiversityScore:_se,climateResilience:xse,nextSteps:bse,generateNewPlan:Ese,printPlan:Sse,agroforestryMultiCroppingPlanner:Tse,farmSize:Cse,small052Acres:Ise,medium25Acres:Pse,large5Acres:Ase,soilType:Rse,sandy:kse,loamy:Lse,clay:Nse,silty:Ose,rainfall:Mse,lowRainfall:Dse,moderateRainfall:$se,highRainfall:jse,agroforestryLayerPlan:Fse,canopyTrees:Vse,understoryTrees:Use,shrubs:Bse,groundCrops:zse,multiCroppingCombinations:Hse,benefits:Wse,layout:qse,season:Gse,benefitsOfAgroforestryMultiCropping:Kse,improvesSoilFertilityReducesErosion:Qse,providesShadeMicroclimateRegulation:Yse,producesDiverseFruitsNutsTimberCrops:Jse,enhancesBiodiversityBeneficialInsects:Zse,reducesPestRisksIncreasesYieldStability:Xse,ensuresStableIncomeThroughDiversification:eie,mangoTrees:tie,fruitProductionShadeIncome:nie,guavaTrees:rie,fruitProductionEarlyReturns:sie,leucaena:iie,nitrogenFixationFodderBiomass:oie,gliricidia:aie,nitrogenFixationLiveFencingFodder:lie,interplantWithTrees:cie,highValueSpiceShadeTolerant:uie,ginger:die,highValueSpiceMoistureRetention:hie,blackGram:fie,rowPlanting:pie,nitrogenFixationShortDuration:mie,pigeonPea:gie,betweenTreeRows:yie,proteinSourceDroughtTolerant:vie,tamarindTrees:wie,fruitProductionLongTermInvestment:_ie,jackfruitTrees:xie,highValueFruitClimateResilience:bie,acaciaNilotica:Eie,nitrogenFixationGumProduction:Sie,casuarina:Tie,windbreakTimberNitrogenFixation:Cie,coffee:Iie,shadedAreasUnderTrees:Pie,highValueCashCropShadeRequirement:Aie,pepper:Rie,supportedOnTreeTrunks:kie,climbingVineHighValueSpice:Lie,maize:Nie,stapleFoodCropGoodGroundCover:Oie,proteinSourceNitrogenFixation:Mie,teakTrees:Die,highValueTimberLongTermInvestment:$ie,neemTrees:jie,timberMedicinalPestControl:Fie,albizia:Vie,nitrogenFixationTimberShade:Uie,sesbania:Bie,greenManureFodderNitrogenFixation:zie,medicinalPlants:Hie,dedicatedPlots:Wie,diverseIncomeTraditionalMedicine:qie,aromaticHerbs:Gie,borderPlantings:Kie,essentialOilsPestRepellent:Qie,sorghum:Yie,droughtTolerantFodderAndGrain:Jie,groundnut:Zie,oilseedCropNitrogenFixation:Xie,maizeCowpea:eoe,complementaryGrowthNitrogenFixationDiversifiedIncome:toe,alternateRows:noe,kharif:roe,wheatChickpea:soe,differentRootZonesNitrogenFixationCoolSeasonCombination:ioe,stripIntercropping:ooe,rabi:aoe,sorghumPigeonPea:loe,droughtToleranceComplementaryHeightProteinCarbohydrate:coe,rowIntercropping:uoe,mustardLentil:doe,oilseedPulseCombinationDifferentNutrientRequirements:hoe,mixedIntercropping:foe,cottonSoybean:poe,fiberProteinPestManagementMechanizationCompatible:moe,barleyFieldPea:goe,cerealPulseEarlyHarvestSoilImprovement:yoe,alternateRow:voe,selectLanguage:woe,experienceAIforSmartFarming:_oe,sustainableFarming:xoe,poweredByAI:boe,multilingual:Eoe,empoweringFarmers:Soe,appName:Toe,pressureUnit:Coe,windSpeedUnit:Ioe,"clear sky":" ","few clouds":" ","scattered clouds":" ","broken clouds":" ","shower rain":" ",rain:Poe,thunderstorm:Aoe,snow:Roe,mist:koe},Noe="-",Ooe="AI-      ",Moe=" ",Doe="  (, , , , )",$oe="AI- - ",joe="   ",Foe="  ()",Voe=" ",Uoe="  ",Boe="",zoe="",Hoe=" ",Woe=" ?",qoe=" ",Goe=" ...",Koe=" ...",Qoe="  ",Yoe="  ",Joe="    ",Zoe=" ",Xoe="  .   .",eae=" ",tae="  6 ",nae="  ",rae="  ",sae="  .   .",iae="- ",oae="AI-   ",aae="    !",lae="AI      .",cae="",uae="",dae="",hae="",fae="",pae="",mae="    ",gae="    ",yae="   ",vae="    ",wae=" ?",_ae="   ",xae="  ?",bae="  ",Eae="",Sae="  ",Tae="- - AI      ",Cae="",Iae="AI ",Pae="",Aae=" ",Rae="  ",kae=" ",Lae=" ",Nae=" ",Oae=" ",Mae=" ",Dae="AI-  ",$ae="  ...",jae=" ",Fae="AI  ",Vae="AI -  ",Uae=" ",Bae="- ",zae="  ",Hae="  ",Wae="  ",qae=" ",Gae=" ",Kae="AI   ",Qae="   ...",Yae="  ",Jae="",Zae="",Xae="",ele=" ",tle="",nle="   ...",rle=" ",sle=" ",ile="     ",ole=" ",ale="  ",lle="",cle="",ule="   ...",dle="AI  ",hle=" ",fle=" ",ple="",mle=" ",gle=" AI  ",yle="  ",vle="   ",wle="  ",_le="",xle="  ",ble=" ",Ele="",Sle="",Tle=" ",Cle=" ",Ile="  ",Ple=" ",Ale="  ",Rle=":      ",kle=" ",Lle="  ()",Nle="   ",Ole=" ()",Mle="   ",Dle="",$le=" ",jle="",Fle="   ()",Vle="      ",Ule="    ",Ble="   ",zle="   ",Hle="  .   .",Wle=" ...",qle="  ",Gle="",Kle="  ",Qle="",Yle="AI-  ",Jle=" ",Zle="",Xle="",ece=" ",tce=" ",nce=" ",rce=" ()",sce="  ",ice="",oce="",ace=" ",lce=" ",cce=" ",uce=" ",dce="  ",hce="   ",fce="",pce=" ",mce="-",gce=" ",yce=" ",vce="  ",wce="  ",_ce=" ",xce="  ",bce=" ",Ece="  ",Sce=" ",Tce="",Cce=" ",Ice=" ",Pce=" ",Ace=" ",Rce="  ",kce=" ",Lce="  ",Nce=" ",Oce=" ",Mce=" ",Dce="  ",$ce=" ",jce=" & - ",Fce=" ",Vce=" (0.5-2 )",Uce=" (2.5 )",Bce=" (5+ )",zce=" ",Hce="",Wce="",qce="",Gce="",Kce="",Qce=" ",Yce=" ",Jce=" ",Zce="  ",Xce=" ",eue=" ",tue="",nue=" ",rue="- ",sue="",iue="",oue="",aue=" & - ",lue="      ",cue="     ",uue=" , ,    ",due="    ",hue="       ",fue="    ",pue=" ",mue=" , ,  ",gue=" ",yue=" ,  ",vue="",wue=" , , ",_ue="",xue=" ,  , ",bue=" -",Eue="  ,  ",Sue="",Tue="  ,  ",Cue=" ",Iue=" ",Pue=" ,  ",Aue=" ",Rue="  ",kue=" ,  ",Lue=" ",Nue=" ,  ",Oue=" ",Mue="  ,  ",Due=" ",$ue=" ,  ",jue="",Fue=", ,  ",Vue="",Uue="   ",Bue="   ,  ",zue="",Hue="   ",Wue=" ,   ",que="",Gue="  ,   ",Kue=" ,  ",Que=" ",Yue="  ,  ",Jue=" ",Zue=", ,  ",Xue="",ede=" , , ",tde="",nde=" , ,  ",rde=" ",sde=" ",ide=" ,  ",ode=" ",ade=" ",lde=" ,  ",cde="",ude=" ,   ",dde="",hde="  ,  ",fde=" + ",pde=" ,  ,  ",mde=" ",gde="",yde=" +  ",vde="  ,  ,   ",wde=" -",_de="",xde=" +  ",bde=" ,  , -",Ede=" -",Sde=" +  ",Tde=" - ,   ",Cde=" -",Ide=" + ",Pde="-,  ,  ",Ade=" +  ",Rde="-,  ,  ",kde=" ",Lde="  ",Nde="AI-   ",Ode="",Mde="AI ",Dde="",$de="   ",jde="",Fde="",Vde="/",Ude="",Bde=" ",zde="",Hde="",Wde={appTitle:Noe,tagline:Ooe,features:Moe,multilingualSupport:Doe,aiPlanning:$oe,secureData:joe,blockchain:Foe,login:Voe,signup:Uoe,email:Boe,password:zoe,confirmPassword:Hoe,forgotPassword:Woe,loginButton:qoe,loggingIn:Goe,creatingAccount:Koe,invalidEmail:Qoe,userDisabled:Yoe,userNotFound:Joe,wrongPassword:Zoe,loginFailed:Xoe,passwordsDontMatch:eae,passwordTooShort:tae,emailInUse:nae,weakPassword:rae,signupFailed:sae,dashboard:iae,aiDrivenAgriculturalAssistant:oae,datasetsIntegrated:aae,aiModelsPersonalized:lae,cowpea:cae,turmeric:uae,high:dae,medium:hae,low:fae,currencySymbol:pae,addOrganicCompost:mae,checkPestsDiseases:gae,harvestWhenMature:yae,dryGrainsProperly:vae,noAccount:wae,signupHere:_ae,alreadyHaveAccount:xae,loginHere:bae,name:Eae,signupButton:Sae,footer:Tae,overview:Cae,aiPlanner:Iae,agroforestry:Pae,soilAnalysis:Aae,weatherRainfall:Rae,farmMap:kae,farmArea:Lae,currentWeather:Nae,investmentCapacity:Oae,expectedProfit:Mae,aiCropRecommendations:Dae,loadingRecommendations:$ae,quickActions:jae,generateAIPlan:Fae,createLandUsePlan:Vae,exploreAgroforestry:Uae,multiCroppingSystems:Bae,viewHistoricalData:zae,accessPastRecommendations:Hae,soilAnalysisReport:Wae,soilProperties:qae,nutrientContent:Gae,aiSoilManagement:Kae,loadingSoilData:Qae,currentWeatherConditions:Yae,temperature:Jae,humidity:Zae,pressure:Xae,windSpeed:ele,condition:tle,loadingWeatherData:nle,rainfallAnalysis:rle,annualRainfall:sle,basedOnHistoricalData:ile,seasonalDistribution:ole,soilWetnessIndex:ale,dry:lle,wet:cle,loadingRainfallData:ule,aiIrrigationRecommendations:dle,gpsCoordinates:hle,boundaryStatus:fle,verified:ple,recentActivity:mle,newAIPlanGenerated:gle,soilDataUpdated:yle,farmProfileCreated:vle,farmerInputForm:wle,location:_le,useGPS:xle,enterVillage:ble,latitude:Ele,longitude:Sle,enterLatitude:Tle,enterLongitude:Cle,useCurrentLocation:Ile,villageName:Ple,enterVillageName:Ale,noteVillageLocation:Rle,farmDetails:kle,landAreaInAcres:Lle,enterLandArea:Nle,budgetInRupees:Ole,enterBudget:Mle,preferences:Dle,cropPreference:$le,optional:jle,enterCropPreference:Fle,cropPreferenceNote:Vle,pleaseFillRequiredFields:Ule,pleaseEnterValidCoordinates:Ble,pleaseEnterValidNumbers:zle,failedToGeneratePlan:Hle,generatingPlan:Wle,generateAgroforestryPlan:qle,reset:Gle,farmInputsSummary:Kle,budget:Qle,aiDrivenAgroforestryPlanner:Yle,farmLocation:Jle,region:Zle,elevation:Xle,soilSummary:ece,phLevel:tce,organicCarbon:nce,nitrogen:rce,cec:sce,texture:ice,drainage:oce,climateSummary:ace,averageRainfall:lce,averageTemperature:cce,solarRadiation:uce,soilImprovementTips:dce,recommendedAgroforestrySystem:hce,trees:fce,mainCrops:pce,intercrops:mce,herbs:gce,layoutPlan:yce,treeSpacing:vce,cropSpacing:wce,economicProjection:_ce,estimatedInvestment:xce,expectedIncome:bce,roi:Ece,paybackPeriod:Sce,months:Tce,incomeBreakdown:Cce,cropIncome:Ice,treeIncome:Pce,sustainabilityMetrics:Ace,soilHealthIncrease:Rce,waterSavings:kce,carbonSequestration:Lce,biodiversityScore:Nce,climateResilience:Oce,nextSteps:Mce,generateNewPlan:Dce,printPlan:$ce,agroforestryMultiCroppingPlanner:jce,farmSize:Fce,small052Acres:Vce,medium25Acres:Uce,large5Acres:Bce,soilType:zce,sandy:Hce,loamy:Wce,clay:qce,silty:Gce,rainfall:Kce,lowRainfall:Qce,moderateRainfall:Yce,highRainfall:Jce,agroforestryLayerPlan:Zce,canopyTrees:Xce,understoryTrees:eue,shrubs:tue,groundCrops:nue,multiCroppingCombinations:rue,benefits:sue,layout:iue,season:oue,benefitsOfAgroforestryMultiCropping:aue,improvesSoilFertilityReducesErosion:lue,providesShadeMicroclimateRegulation:cue,producesDiverseFruitsNutsTimberCrops:uue,enhancesBiodiversityBeneficialInsects:due,reducesPestRisksIncreasesYieldStability:hue,ensuresStableIncomeThroughDiversification:fue,mangoTrees:pue,fruitProductionShadeIncome:mue,guavaTrees:gue,fruitProductionEarlyReturns:yue,leucaena:vue,nitrogenFixationFodderBiomass:wue,gliricidia:_ue,nitrogenFixationLiveFencingFodder:xue,interplantWithTrees:bue,highValueSpiceShadeTolerant:Eue,ginger:Sue,highValueSpiceMoistureRetention:Tue,blackGram:Cue,rowPlanting:Iue,nitrogenFixationShortDuration:Pue,pigeonPea:Aue,betweenTreeRows:Rue,proteinSourceDroughtTolerant:kue,tamarindTrees:Lue,fruitProductionLongTermInvestment:Nue,jackfruitTrees:Oue,highValueFruitClimateResilience:Mue,acaciaNilotica:Due,nitrogenFixationGumProduction:$ue,casuarina:jue,windbreakTimberNitrogenFixation:Fue,coffee:Vue,shadedAreasUnderTrees:Uue,highValueCashCropShadeRequirement:Bue,pepper:zue,supportedOnTreeTrunks:Hue,climbingVineHighValueSpice:Wue,maize:que,stapleFoodCropGoodGroundCover:Gue,proteinSourceNitrogenFixation:Kue,teakTrees:Que,highValueTimberLongTermInvestment:Yue,neemTrees:Jue,timberMedicinalPestControl:Zue,albizia:Xue,nitrogenFixationTimberShade:ede,sesbania:tde,greenManureFodderNitrogenFixation:nde,medicinalPlants:rde,dedicatedPlots:sde,diverseIncomeTraditionalMedicine:ide,aromaticHerbs:ode,borderPlantings:ade,essentialOilsPestRepellent:lde,sorghum:cde,droughtTolerantFodderAndGrain:ude,groundnut:dde,oilseedCropNitrogenFixation:hde,maizeCowpea:fde,complementaryGrowthNitrogenFixationDiversifiedIncome:pde,alternateRows:mde,kharif:gde,wheatChickpea:yde,differentRootZonesNitrogenFixationCoolSeasonCombination:vde,stripIntercropping:wde,rabi:_de,sorghumPigeonPea:xde,droughtToleranceComplementaryHeightProteinCarbohydrate:bde,rowIntercropping:Ede,mustardLentil:Sde,oilseedPulseCombinationDifferentNutrientRequirements:Tde,mixedIntercropping:Cde,cottonSoybean:Ide,fiberProteinPestManagementMechanizationCompatible:Pde,barleyFieldPea:Ade,cerealPulseEarlyHarvestSoilImprovement:Rde,alternateRow:kde,selectLanguage:Lde,experienceAIforSmartFarming:Nde,sustainableFarming:Ode,poweredByAI:Mde,multilingual:Dde,empoweringFarmers:$de,appName:jde,pressureUnit:Fde,windSpeedUnit:Vde,"clear sky":" ","few clouds":" ","scattered clouds":" ","broken clouds":" ","shower rain":" ",rain:Ude,thunderstorm:Bde,snow:zde,mist:Hde},qde={en:{translation:bH},hi:{translation:oY},mr:{translation:wte},te:{translation:Loe},kn:{translation:Wde}};jt.use(p1).use($R).init({resources:qde,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{caches:["localStorage","cookie"],lookupLocalStorage:"i18nextLng",lookupCookie:"i18nextLng",cookieMinutes:60*24*30}});wf.createRoot(document.getElementById("root")).render(d.jsx(rs.StrictMode,{children:d.jsx(E6,{})}));
